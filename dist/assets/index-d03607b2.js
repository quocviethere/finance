var s4=Object.defineProperty;var a4=(t,e,n)=>e in t?s4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ny=(t,e,n)=>(a4(t,typeof e!="symbol"?e+"":e,n),n);function l4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function oi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fk={exports:{}},rm={},dk={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf=Symbol.for("react.element"),u4=Symbol.for("react.portal"),c4=Symbol.for("react.fragment"),f4=Symbol.for("react.strict_mode"),d4=Symbol.for("react.profiler"),h4=Symbol.for("react.provider"),p4=Symbol.for("react.context"),m4=Symbol.for("react.forward_ref"),g4=Symbol.for("react.suspense"),y4=Symbol.for("react.memo"),v4=Symbol.for("react.lazy"),PT=Symbol.iterator;function w4(t){return t===null||typeof t!="object"?null:(t=PT&&t[PT]||t["@@iterator"],typeof t=="function"?t:null)}var hk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pk=Object.assign,mk={};function kl(t,e,n){this.props=t,this.context=e,this.refs=mk,this.updater=n||hk}kl.prototype.isReactComponent={};kl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};kl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gk(){}gk.prototype=kl.prototype;function h1(t,e,n){this.props=t,this.context=e,this.refs=mk,this.updater=n||hk}var p1=h1.prototype=new gk;p1.constructor=h1;pk(p1,kl.prototype);p1.isPureReactComponent=!0;var IT=Array.isArray,yk=Object.prototype.hasOwnProperty,m1={current:null},vk={key:!0,ref:!0,__self:!0,__source:!0};function wk(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)yk.call(e,r)&&!vk.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:hf,type:t,key:o,ref:s,props:i,_owner:m1.current}}function _4(t,e){return{$$typeof:hf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function g1(t){return typeof t=="object"&&t!==null&&t.$$typeof===hf}function b4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var CT=/\/+/g;function ry(t,e){return typeof t=="object"&&t!==null&&t.key!=null?b4(""+t.key):e.toString(36)}function th(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case hf:case u4:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+ry(s,0):r,IT(i)?(n="",t!=null&&(n=t.replace(CT,"$&/")+"/"),th(i,e,n,"",function(u){return u})):i!=null&&(g1(i)&&(i=_4(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(CT,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",IT(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+ry(o,a);s+=th(o,e,n,l,i)}else if(l=w4(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+ry(o,a++),s+=th(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function hd(t,e,n){if(t==null)return t;var r=[],i=0;return th(t,r,"","",function(o){return e.call(n,o,i++)}),r}function x4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var An={current:null},nh={transition:null},E4={ReactCurrentDispatcher:An,ReactCurrentBatchConfig:nh,ReactCurrentOwner:m1};function _k(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:hd,forEach:function(t,e,n){hd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hd(t,function(){e++}),e},toArray:function(t){return hd(t,function(e){return e})||[]},only:function(t){if(!g1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=kl;ve.Fragment=c4;ve.Profiler=d4;ve.PureComponent=h1;ve.StrictMode=f4;ve.Suspense=g4;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E4;ve.act=_k;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=pk({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=m1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)yk.call(e,l)&&!vk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:hf,type:t.type,key:i,ref:o,props:r,_owner:s}};ve.createContext=function(t){return t={$$typeof:p4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:h4,_context:t},t.Consumer=t};ve.createElement=wk;ve.createFactory=function(t){var e=wk.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:m4,render:t}};ve.isValidElement=g1;ve.lazy=function(t){return{$$typeof:v4,_payload:{_status:-1,_result:t},_init:x4}};ve.memo=function(t,e){return{$$typeof:y4,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=nh.transition;nh.transition={};try{t()}finally{nh.transition=e}};ve.unstable_act=_k;ve.useCallback=function(t,e){return An.current.useCallback(t,e)};ve.useContext=function(t){return An.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return An.current.useDeferredValue(t)};ve.useEffect=function(t,e){return An.current.useEffect(t,e)};ve.useId=function(){return An.current.useId()};ve.useImperativeHandle=function(t,e,n){return An.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return An.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return An.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return An.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return An.current.useReducer(t,e,n)};ve.useRef=function(t){return An.current.useRef(t)};ve.useState=function(t){return An.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return An.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return An.current.useTransition()};ve.version="18.3.1";dk.exports=ve;var b=dk.exports;const bk=oi(b),T4=l4({__proto__:null,default:bk},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A4=b,S4=Symbol.for("react.element"),P4=Symbol.for("react.fragment"),I4=Object.prototype.hasOwnProperty,C4=A4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O4={key:!0,ref:!0,__self:!0,__source:!0};function xk(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)I4.call(e,r)&&!O4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:S4,type:t,key:o,ref:s,props:i,_owner:C4.current}}rm.Fragment=P4;rm.jsx=xk;rm.jsxs=xk;fk.exports=rm;var M=fk.exports,Iv={},Ek={exports:{}},rr={},Tk={exports:{}},Ak={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,Y){var ne=z.length;z.push(Y);e:for(;0<ne;){var Ee=ne-1>>>1,Q=z[Ee];if(0<i(Q,Y))z[Ee]=Y,z[ne]=Q,ne=Ee;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Y=z[0],ne=z.pop();if(ne!==Y){z[0]=ne;e:for(var Ee=0,Q=z.length,De=Q>>>1;Ee<De;){var dn=2*(Ee+1)-1,be=z[dn],Pn=dn+1,hn=z[Pn];if(0>i(be,ne))Pn<Q&&0>i(hn,be)?(z[Ee]=hn,z[Pn]=ne,Ee=Pn):(z[Ee]=be,z[dn]=ne,Ee=dn);else if(Pn<Q&&0>i(hn,ne))z[Ee]=hn,z[Pn]=ne,Ee=Pn;else break e}}return Y}function i(z,Y){var ne=z.sortIndex-Y.sortIndex;return ne!==0?ne:z.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,h=3,p=!1,m=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(z){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=z)r(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(u)}}function P(z){if(g=!1,x(z),!m)if(n(l)!==null)m=!0,_e(S);else{var Y=n(u);Y!==null&&le(P,Y.startTime-z)}}function S(z,Y){m=!1,g&&(g=!1,v(T),T=-1),p=!0;var ne=h;try{for(x(Y),f=n(l);f!==null&&(!(f.expirationTime>Y)||z&&!D());){var Ee=f.callback;if(typeof Ee=="function"){f.callback=null,h=f.priorityLevel;var Q=Ee(f.expirationTime<=Y);Y=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(l)&&r(l),x(Y)}else r(l);f=n(l)}if(f!==null)var De=!0;else{var dn=n(u);dn!==null&&le(P,dn.startTime-Y),De=!1}return De}finally{f=null,h=ne,p=!1}}var O=!1,A=null,T=-1,I=5,k=-1;function D(){return!(t.unstable_now()-k<I)}function N(){if(A!==null){var z=t.unstable_now();k=z;var Y=!0;try{Y=A(!0,z)}finally{Y?R():(O=!1,A=null)}}else O=!1}var R;if(typeof w=="function")R=function(){w(N)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,me=se.port2;se.port1.onmessage=N,R=function(){me.postMessage(null)}}else R=function(){_(N,0)};function _e(z){A=z,O||(O=!0,R())}function le(z,Y){T=_(function(){z(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,_e(S))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(h){case 1:case 2:case 3:var Y=3;break;default:Y=h}var ne=h;h=Y;try{return z()}finally{h=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ne=h;h=z;try{return Y()}finally{h=ne}},t.unstable_scheduleCallback=function(z,Y,ne){var Ee=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Ee+ne:Ee):ne=Ee,z){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ne+Q,z={id:c++,callback:Y,priorityLevel:z,startTime:ne,expirationTime:Q,sortIndex:-1},ne>Ee?(z.sortIndex=ne,e(u,z),n(l)===null&&z===n(u)&&(g?(v(T),T=-1):g=!0,le(P,ne-Ee))):(z.sortIndex=Q,e(l,z),m||p||(m=!0,_e(S))),z},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(z){var Y=h;return function(){var ne=h;h=Y;try{return z.apply(this,arguments)}finally{h=ne}}}})(Ak);Tk.exports=Ak;var k4=Tk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D4=b,Zn=k4;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sk=new Set,wc={};function Zs(t,e){nl(t,e),nl(t+"Capture",e)}function nl(t,e){for(wc[t]=e,t=0;t<e.length;t++)Sk.add(e[t])}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cv=Object.prototype.hasOwnProperty,R4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OT={},kT={};function M4(t){return Cv.call(kT,t)?!0:Cv.call(OT,t)?!1:R4.test(t)?kT[t]=!0:(OT[t]=!0,!1)}function N4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function j4(t,e,n,r){if(e===null||typeof e>"u"||N4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xt[t]=new Sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xt[e]=new Sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xt[t]=new Sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xt[t]=new Sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xt[t]=new Sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xt[t]=new Sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xt[t]=new Sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xt[t]=new Sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xt[t]=new Sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var y1=/[\-:]([a-z])/g;function v1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(y1,v1);Xt[e]=new Sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(y1,v1);Xt[e]=new Sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(y1,v1);Xt[e]=new Sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xt[t]=new Sn(t,1,!1,t.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xt[t]=new Sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function w1(t,e,n,r){var i=Xt.hasOwnProperty(e)?Xt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(j4(e,n,i,r)&&(n=null),r||i===null?M4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Li=D4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pd=Symbol.for("react.element"),Aa=Symbol.for("react.portal"),Sa=Symbol.for("react.fragment"),_1=Symbol.for("react.strict_mode"),Ov=Symbol.for("react.profiler"),Pk=Symbol.for("react.provider"),Ik=Symbol.for("react.context"),b1=Symbol.for("react.forward_ref"),kv=Symbol.for("react.suspense"),Dv=Symbol.for("react.suspense_list"),x1=Symbol.for("react.memo"),to=Symbol.for("react.lazy"),Ck=Symbol.for("react.offscreen"),DT=Symbol.iterator;function mu(t){return t===null||typeof t!="object"?null:(t=DT&&t[DT]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,iy;function Vu(t){if(iy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);iy=e&&e[1]||""}return`
`+iy+t}var oy=!1;function sy(t,e){if(!t||oy)return"";oy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{oy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vu(t):""}function V4(t){switch(t.tag){case 5:return Vu(t.type);case 16:return Vu("Lazy");case 13:return Vu("Suspense");case 19:return Vu("SuspenseList");case 0:case 2:case 15:return t=sy(t.type,!1),t;case 11:return t=sy(t.type.render,!1),t;case 1:return t=sy(t.type,!0),t;default:return""}}function Rv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Sa:return"Fragment";case Aa:return"Portal";case Ov:return"Profiler";case _1:return"StrictMode";case kv:return"Suspense";case Dv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ik:return(t.displayName||"Context")+".Consumer";case Pk:return(t._context.displayName||"Context")+".Provider";case b1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x1:return e=t.displayName||null,e!==null?e:Rv(t.type)||"Memo";case to:e=t._payload,t=t._init;try{return Rv(t(e))}catch{}}return null}function L4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rv(e);case 8:return e===_1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Po(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ok(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function F4(t){var e=Ok(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function md(t){t._valueTracker||(t._valueTracker=F4(t))}function kk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ok(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ph(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mv(t,e){var n=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function RT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Po(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dk(t,e){e=e.checked,e!=null&&w1(t,"checked",e,!1)}function Nv(t,e){Dk(t,e);var n=Po(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jv(t,e.type,n):e.hasOwnProperty("defaultValue")&&jv(t,e.type,Po(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function MT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jv(t,e,n){(e!=="number"||Ph(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Lu=Array.isArray;function Ka(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Po(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function NT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(Lu(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Po(n)}}function Rk(t,e){var n=Po(e.value),r=Po(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Mk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Mk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gd,Nk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gd=gd||document.createElement("div"),gd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _c(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Qu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B4=["Webkit","ms","Moz","O"];Object.keys(Qu).forEach(function(t){B4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qu[e]=Qu[t]})});function jk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Qu.hasOwnProperty(t)&&Qu[t]?(""+e).trim():e+"px"}function Vk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var $4=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fv(t,e){if(e){if($4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Bv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $v=null;function E1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zv=null,Wa=null,qa=null;function VT(t){if(t=gf(t)){if(typeof zv!="function")throw Error(K(280));var e=t.stateNode;e&&(e=lm(e),zv(t.stateNode,t.type,e))}}function Lk(t){Wa?qa?qa.push(t):qa=[t]:Wa=t}function Fk(){if(Wa){var t=Wa,e=qa;if(qa=Wa=null,VT(t),e)for(t=0;t<e.length;t++)VT(e[t])}}function Bk(t,e){return t(e)}function $k(){}var ay=!1;function zk(t,e,n){if(ay)return t(e,n);ay=!0;try{return Bk(t,e,n)}finally{ay=!1,(Wa!==null||qa!==null)&&($k(),Fk())}}function bc(t,e){var n=t.stateNode;if(n===null)return null;var r=lm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var Uv=!1;if(Ai)try{var gu={};Object.defineProperty(gu,"passive",{get:function(){Uv=!0}}),window.addEventListener("test",gu,gu),window.removeEventListener("test",gu,gu)}catch{Uv=!1}function z4(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Xu=!1,Ih=null,Ch=!1,Kv=null,U4={onError:function(t){Xu=!0,Ih=t}};function K4(t,e,n,r,i,o,s,a,l){Xu=!1,Ih=null,z4.apply(U4,arguments)}function W4(t,e,n,r,i,o,s,a,l){if(K4.apply(this,arguments),Xu){if(Xu){var u=Ih;Xu=!1,Ih=null}else throw Error(K(198));Ch||(Ch=!0,Kv=u)}}function ea(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Uk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function LT(t){if(ea(t)!==t)throw Error(K(188))}function q4(t){var e=t.alternate;if(!e){if(e=ea(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return LT(i),t;if(o===r)return LT(i),e;o=o.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function Kk(t){return t=q4(t),t!==null?Wk(t):null}function Wk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Wk(t);if(e!==null)return e;t=t.sibling}return null}var qk=Zn.unstable_scheduleCallback,FT=Zn.unstable_cancelCallback,G4=Zn.unstable_shouldYield,H4=Zn.unstable_requestPaint,yt=Zn.unstable_now,Y4=Zn.unstable_getCurrentPriorityLevel,T1=Zn.unstable_ImmediatePriority,Gk=Zn.unstable_UserBlockingPriority,Oh=Zn.unstable_NormalPriority,Q4=Zn.unstable_LowPriority,Hk=Zn.unstable_IdlePriority,im=null,Yr=null;function X4(t){if(Yr&&typeof Yr.onCommitFiberRoot=="function")try{Yr.onCommitFiberRoot(im,t,void 0,(t.current.flags&128)===128)}catch{}}var Fr=Math.clz32?Math.clz32:e3,J4=Math.log,Z4=Math.LN2;function e3(t){return t>>>=0,t===0?32:31-(J4(t)/Z4|0)|0}var yd=64,vd=4194304;function Fu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Fu(a):(o&=s,o!==0&&(r=Fu(o)))}else s=n&~i,s!==0?r=Fu(s):o!==0&&(r=Fu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fr(e),i=1<<n,r|=t[n],e&=~i;return r}function t3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Fr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=t3(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Wv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yk(){var t=yd;return yd<<=1,!(yd&4194240)&&(yd=64),t}function ly(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fr(e),t[e]=n}function r3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Fr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function A1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ne=0;function Qk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Xk,S1,Jk,Zk,eD,qv=!1,wd=[],fo=null,ho=null,po=null,xc=new Map,Ec=new Map,io=[],i3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BT(t,e){switch(t){case"focusin":case"focusout":fo=null;break;case"dragenter":case"dragleave":ho=null;break;case"mouseover":case"mouseout":po=null;break;case"pointerover":case"pointerout":xc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(e.pointerId)}}function yu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=gf(e),e!==null&&S1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function o3(t,e,n,r,i){switch(e){case"focusin":return fo=yu(fo,t,e,n,r,i),!0;case"dragenter":return ho=yu(ho,t,e,n,r,i),!0;case"mouseover":return po=yu(po,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return xc.set(o,yu(xc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ec.set(o,yu(Ec.get(o)||null,t,e,n,r,i)),!0}return!1}function tD(t){var e=ms(t.target);if(e!==null){var n=ea(e);if(n!==null){if(e=n.tag,e===13){if(e=Uk(n),e!==null){t.blockedOn=e,eD(t.priority,function(){Jk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$v=r,n.target.dispatchEvent(r),$v=null}else return e=gf(n),e!==null&&S1(e),t.blockedOn=n,!1;e.shift()}return!0}function $T(t,e,n){rh(t)&&n.delete(e)}function s3(){qv=!1,fo!==null&&rh(fo)&&(fo=null),ho!==null&&rh(ho)&&(ho=null),po!==null&&rh(po)&&(po=null),xc.forEach($T),Ec.forEach($T)}function vu(t,e){t.blockedOn===e&&(t.blockedOn=null,qv||(qv=!0,Zn.unstable_scheduleCallback(Zn.unstable_NormalPriority,s3)))}function Tc(t){function e(i){return vu(i,t)}if(0<wd.length){vu(wd[0],t);for(var n=1;n<wd.length;n++){var r=wd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fo!==null&&vu(fo,t),ho!==null&&vu(ho,t),po!==null&&vu(po,t),xc.forEach(e),Ec.forEach(e),n=0;n<io.length;n++)r=io[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<io.length&&(n=io[0],n.blockedOn===null);)tD(n),n.blockedOn===null&&io.shift()}var Ga=Li.ReactCurrentBatchConfig,Dh=!0;function a3(t,e,n,r){var i=Ne,o=Ga.transition;Ga.transition=null;try{Ne=1,P1(t,e,n,r)}finally{Ne=i,Ga.transition=o}}function l3(t,e,n,r){var i=Ne,o=Ga.transition;Ga.transition=null;try{Ne=4,P1(t,e,n,r)}finally{Ne=i,Ga.transition=o}}function P1(t,e,n,r){if(Dh){var i=Gv(t,e,n,r);if(i===null)vy(t,e,r,Rh,n),BT(t,r);else if(o3(i,t,e,n,r))r.stopPropagation();else if(BT(t,r),e&4&&-1<i3.indexOf(t)){for(;i!==null;){var o=gf(i);if(o!==null&&Xk(o),o=Gv(t,e,n,r),o===null&&vy(t,e,r,Rh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else vy(t,e,r,null,n)}}var Rh=null;function Gv(t,e,n,r){if(Rh=null,t=E1(r),t=ms(t),t!==null)if(e=ea(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Uk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rh=t,null}function nD(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y4()){case T1:return 1;case Gk:return 4;case Oh:case Q4:return 16;case Hk:return 536870912;default:return 16}default:return 16}}var lo=null,I1=null,ih=null;function rD(){if(ih)return ih;var t,e=I1,n=e.length,r,i="value"in lo?lo.value:lo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return ih=i.slice(t,1<r?1-r:void 0)}function oh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _d(){return!0}function zT(){return!1}function ir(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?_d:zT,this.isPropagationStopped=zT,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_d)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_d)},persist:function(){},isPersistent:_d}),e}var Dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},C1=ir(Dl),mf=at({},Dl,{view:0,detail:0}),u3=ir(mf),uy,cy,wu,om=at({},mf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wu&&(wu&&t.type==="mousemove"?(uy=t.screenX-wu.screenX,cy=t.screenY-wu.screenY):cy=uy=0,wu=t),uy)},movementY:function(t){return"movementY"in t?t.movementY:cy}}),UT=ir(om),c3=at({},om,{dataTransfer:0}),f3=ir(c3),d3=at({},mf,{relatedTarget:0}),fy=ir(d3),h3=at({},Dl,{animationName:0,elapsedTime:0,pseudoElement:0}),p3=ir(h3),m3=at({},Dl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),g3=ir(m3),y3=at({},Dl,{data:0}),KT=ir(y3),v3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_3[t])?!!e[t]:!1}function O1(){return b3}var x3=at({},mf,{key:function(t){if(t.key){var e=v3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=oh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?w3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O1,charCode:function(t){return t.type==="keypress"?oh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),E3=ir(x3),T3=at({},om,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WT=ir(T3),A3=at({},mf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O1}),S3=ir(A3),P3=at({},Dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),I3=ir(P3),C3=at({},om,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),O3=ir(C3),k3=[9,13,27,32],k1=Ai&&"CompositionEvent"in window,Ju=null;Ai&&"documentMode"in document&&(Ju=document.documentMode);var D3=Ai&&"TextEvent"in window&&!Ju,iD=Ai&&(!k1||Ju&&8<Ju&&11>=Ju),qT=String.fromCharCode(32),GT=!1;function oD(t,e){switch(t){case"keyup":return k3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pa=!1;function R3(t,e){switch(t){case"compositionend":return sD(e);case"keypress":return e.which!==32?null:(GT=!0,qT);case"textInput":return t=e.data,t===qT&&GT?null:t;default:return null}}function M3(t,e){if(Pa)return t==="compositionend"||!k1&&oD(t,e)?(t=rD(),ih=I1=lo=null,Pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iD&&e.locale!=="ko"?null:e.data;default:return null}}var N3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!N3[t.type]:e==="textarea"}function aD(t,e,n,r){Lk(r),e=Mh(e,"onChange"),0<e.length&&(n=new C1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zu=null,Ac=null;function j3(t){vD(t,0)}function sm(t){var e=Oa(t);if(kk(e))return t}function V3(t,e){if(t==="change")return e}var lD=!1;if(Ai){var dy;if(Ai){var hy="oninput"in document;if(!hy){var YT=document.createElement("div");YT.setAttribute("oninput","return;"),hy=typeof YT.oninput=="function"}dy=hy}else dy=!1;lD=dy&&(!document.documentMode||9<document.documentMode)}function QT(){Zu&&(Zu.detachEvent("onpropertychange",uD),Ac=Zu=null)}function uD(t){if(t.propertyName==="value"&&sm(Ac)){var e=[];aD(e,Ac,t,E1(t)),zk(j3,e)}}function L3(t,e,n){t==="focusin"?(QT(),Zu=e,Ac=n,Zu.attachEvent("onpropertychange",uD)):t==="focusout"&&QT()}function F3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sm(Ac)}function B3(t,e){if(t==="click")return sm(e)}function $3(t,e){if(t==="input"||t==="change")return sm(e)}function z3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $r=typeof Object.is=="function"?Object.is:z3;function Sc(t,e){if($r(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cv.call(e,i)||!$r(t[i],e[i]))return!1}return!0}function XT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function JT(t,e){var n=XT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=XT(n)}}function cD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fD(){for(var t=window,e=Ph();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ph(t.document)}return e}function D1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function U3(t){var e=fD(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&cD(n.ownerDocument.documentElement,n)){if(r!==null&&D1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=JT(n,o);var s=JT(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var K3=Ai&&"documentMode"in document&&11>=document.documentMode,Ia=null,Hv=null,ec=null,Yv=!1;function ZT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yv||Ia==null||Ia!==Ph(r)||(r=Ia,"selectionStart"in r&&D1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ec&&Sc(ec,r)||(ec=r,r=Mh(Hv,"onSelect"),0<r.length&&(e=new C1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ia)))}function bd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ca={animationend:bd("Animation","AnimationEnd"),animationiteration:bd("Animation","AnimationIteration"),animationstart:bd("Animation","AnimationStart"),transitionend:bd("Transition","TransitionEnd")},py={},dD={};Ai&&(dD=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function am(t){if(py[t])return py[t];if(!Ca[t])return t;var e=Ca[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dD)return py[t]=e[n];return t}var hD=am("animationend"),pD=am("animationiteration"),mD=am("animationstart"),gD=am("transitionend"),yD=new Map,eA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lo(t,e){yD.set(t,e),Zs(e,[t])}for(var my=0;my<eA.length;my++){var gy=eA[my],W3=gy.toLowerCase(),q3=gy[0].toUpperCase()+gy.slice(1);Lo(W3,"on"+q3)}Lo(hD,"onAnimationEnd");Lo(pD,"onAnimationIteration");Lo(mD,"onAnimationStart");Lo("dblclick","onDoubleClick");Lo("focusin","onFocus");Lo("focusout","onBlur");Lo(gD,"onTransitionEnd");nl("onMouseEnter",["mouseout","mouseover"]);nl("onMouseLeave",["mouseout","mouseover"]);nl("onPointerEnter",["pointerout","pointerover"]);nl("onPointerLeave",["pointerout","pointerover"]);Zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bu));function tA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,W4(r,e,void 0,t),t.currentTarget=null}function vD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;tA(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;tA(i,a,u),o=l}}}if(Ch)throw t=Kv,Ch=!1,Kv=null,t}function We(t,e){var n=e[e0];n===void 0&&(n=e[e0]=new Set);var r=t+"__bubble";n.has(r)||(wD(e,t,2,!1),n.add(r))}function yy(t,e,n){var r=0;e&&(r|=4),wD(n,t,r,e)}var xd="_reactListening"+Math.random().toString(36).slice(2);function Pc(t){if(!t[xd]){t[xd]=!0,Sk.forEach(function(n){n!=="selectionchange"&&(G3.has(n)||yy(n,!1,t),yy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xd]||(e[xd]=!0,yy("selectionchange",!1,e))}}function wD(t,e,n,r){switch(nD(e)){case 1:var i=a3;break;case 4:i=l3;break;default:i=P1}n=i.bind(null,e,n,t),i=void 0,!Uv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vy(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ms(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}zk(function(){var u=o,c=E1(n),f=[];e:{var h=yD.get(t);if(h!==void 0){var p=C1,m=t;switch(t){case"keypress":if(oh(n)===0)break e;case"keydown":case"keyup":p=E3;break;case"focusin":m="focus",p=fy;break;case"focusout":m="blur",p=fy;break;case"beforeblur":case"afterblur":p=fy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=UT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=f3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=S3;break;case hD:case pD:case mD:p=p3;break;case gD:p=I3;break;case"scroll":p=u3;break;case"wheel":p=O3;break;case"copy":case"cut":case"paste":p=g3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=WT}var g=(e&4)!==0,_=!g&&t==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var w=u,x;w!==null;){x=w;var P=x.stateNode;if(x.tag===5&&P!==null&&(x=P,v!==null&&(P=bc(w,v),P!=null&&g.push(Ic(w,P,x)))),_)break;w=w.return}0<g.length&&(h=new p(h,m,null,n,c),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==$v&&(m=n.relatedTarget||n.fromElement)&&(ms(m)||m[Si]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?ms(m):null,m!==null&&(_=ea(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=UT,P="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=WT,P="onPointerLeave",v="onPointerEnter",w="pointer"),_=p==null?h:Oa(p),x=m==null?h:Oa(m),h=new g(P,w+"leave",p,n,c),h.target=_,h.relatedTarget=x,P=null,ms(c)===u&&(g=new g(v,w+"enter",m,n,c),g.target=x,g.relatedTarget=_,P=g),_=P,p&&m)t:{for(g=p,v=m,w=0,x=g;x;x=pa(x))w++;for(x=0,P=v;P;P=pa(P))x++;for(;0<w-x;)g=pa(g),w--;for(;0<x-w;)v=pa(v),x--;for(;w--;){if(g===v||v!==null&&g===v.alternate)break t;g=pa(g),v=pa(v)}g=null}else g=null;p!==null&&nA(f,h,p,g,!1),m!==null&&_!==null&&nA(f,_,m,g,!0)}}e:{if(h=u?Oa(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=V3;else if(HT(h))if(lD)S=$3;else{S=F3;var O=L3}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=B3);if(S&&(S=S(t,u))){aD(f,S,n,c);break e}O&&O(t,h,u),t==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&jv(h,"number",h.value)}switch(O=u?Oa(u):window,t){case"focusin":(HT(O)||O.contentEditable==="true")&&(Ia=O,Hv=u,ec=null);break;case"focusout":ec=Hv=Ia=null;break;case"mousedown":Yv=!0;break;case"contextmenu":case"mouseup":case"dragend":Yv=!1,ZT(f,n,c);break;case"selectionchange":if(K3)break;case"keydown":case"keyup":ZT(f,n,c)}var A;if(k1)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Pa?oD(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(iD&&n.locale!=="ko"&&(Pa||T!=="onCompositionStart"?T==="onCompositionEnd"&&Pa&&(A=rD()):(lo=c,I1="value"in lo?lo.value:lo.textContent,Pa=!0)),O=Mh(u,T),0<O.length&&(T=new KT(T,t,null,n,c),f.push({event:T,listeners:O}),A?T.data=A:(A=sD(n),A!==null&&(T.data=A)))),(A=D3?R3(t,n):M3(t,n))&&(u=Mh(u,"onBeforeInput"),0<u.length&&(c=new KT("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=A))}vD(f,e)})}function Ic(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=bc(t,n),o!=null&&r.unshift(Ic(t,o,i)),o=bc(t,e),o!=null&&r.push(Ic(t,o,i))),t=t.return}return r}function pa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nA(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=bc(n,o),l!=null&&s.unshift(Ic(n,l,a))):i||(l=bc(n,o),l!=null&&s.push(Ic(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var H3=/\r\n?/g,Y3=/\u0000|\uFFFD/g;function rA(t){return(typeof t=="string"?t:""+t).replace(H3,`
`).replace(Y3,"")}function Ed(t,e,n){if(e=rA(e),rA(t)!==e&&n)throw Error(K(425))}function Nh(){}var Qv=null,Xv=null;function Jv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zv=typeof setTimeout=="function"?setTimeout:void 0,Q3=typeof clearTimeout=="function"?clearTimeout:void 0,iA=typeof Promise=="function"?Promise:void 0,X3=typeof queueMicrotask=="function"?queueMicrotask:typeof iA<"u"?function(t){return iA.resolve(null).then(t).catch(J3)}:Zv;function J3(t){setTimeout(function(){throw t})}function wy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Tc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Tc(e)}function mo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function oA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Rl=Math.random().toString(36).slice(2),Wr="__reactFiber$"+Rl,Cc="__reactProps$"+Rl,Si="__reactContainer$"+Rl,e0="__reactEvents$"+Rl,Z3="__reactListeners$"+Rl,ez="__reactHandles$"+Rl;function ms(t){var e=t[Wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Si]||n[Wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=oA(t);t!==null;){if(n=t[Wr])return n;t=oA(t)}return e}t=n,n=t.parentNode}return null}function gf(t){return t=t[Wr]||t[Si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Oa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function lm(t){return t[Cc]||null}var t0=[],ka=-1;function Fo(t){return{current:t}}function Ge(t){0>ka||(t.current=t0[ka],t0[ka]=null,ka--)}function ze(t,e){ka++,t0[ka]=t.current,t.current=e}var Io={},fn=Fo(Io),Nn=Fo(!1),js=Io;function rl(t,e){var n=t.type.contextTypes;if(!n)return Io;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function jn(t){return t=t.childContextTypes,t!=null}function jh(){Ge(Nn),Ge(fn)}function sA(t,e,n){if(fn.current!==Io)throw Error(K(168));ze(fn,e),ze(Nn,n)}function _D(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(K(108,L4(t)||"Unknown",i));return at({},n,r)}function Vh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Io,js=fn.current,ze(fn,t),ze(Nn,Nn.current),!0}function aA(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=_D(t,e,js),r.__reactInternalMemoizedMergedChildContext=t,Ge(Nn),Ge(fn),ze(fn,t)):Ge(Nn),ze(Nn,n)}var di=null,um=!1,_y=!1;function bD(t){di===null?di=[t]:di.push(t)}function tz(t){um=!0,bD(t)}function Bo(){if(!_y&&di!==null){_y=!0;var t=0,e=Ne;try{var n=di;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}di=null,um=!1}catch(i){throw di!==null&&(di=di.slice(t+1)),qk(T1,Bo),i}finally{Ne=e,_y=!1}}return null}var Da=[],Ra=0,Lh=null,Fh=0,hr=[],pr=0,Vs=null,mi=1,gi="";function ns(t,e){Da[Ra++]=Fh,Da[Ra++]=Lh,Lh=t,Fh=e}function xD(t,e,n){hr[pr++]=mi,hr[pr++]=gi,hr[pr++]=Vs,Vs=t;var r=mi;t=gi;var i=32-Fr(r)-1;r&=~(1<<i),n+=1;var o=32-Fr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,mi=1<<32-Fr(e)+i|n<<i|r,gi=o+t}else mi=1<<o|n<<i|r,gi=t}function R1(t){t.return!==null&&(ns(t,1),xD(t,1,0))}function M1(t){for(;t===Lh;)Lh=Da[--Ra],Da[Ra]=null,Fh=Da[--Ra],Da[Ra]=null;for(;t===Vs;)Vs=hr[--pr],hr[pr]=null,gi=hr[--pr],hr[pr]=null,mi=hr[--pr],hr[pr]=null}var Xn=null,Yn=null,Ye=!1,jr=null;function ED(t,e){var n=yr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xn=t,Yn=mo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xn=t,Yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vs!==null?{id:mi,overflow:gi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xn=t,Yn=null,!0):!1;default:return!1}}function n0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function r0(t){if(Ye){var e=Yn;if(e){var n=e;if(!lA(t,e)){if(n0(t))throw Error(K(418));e=mo(n.nextSibling);var r=Xn;e&&lA(t,e)?ED(r,n):(t.flags=t.flags&-4097|2,Ye=!1,Xn=t)}}else{if(n0(t))throw Error(K(418));t.flags=t.flags&-4097|2,Ye=!1,Xn=t}}}function uA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xn=t}function Td(t){if(t!==Xn)return!1;if(!Ye)return uA(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jv(t.type,t.memoizedProps)),e&&(e=Yn)){if(n0(t))throw TD(),Error(K(418));for(;e;)ED(t,e),e=mo(e.nextSibling)}if(uA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yn=mo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yn=null}}else Yn=Xn?mo(t.stateNode.nextSibling):null;return!0}function TD(){for(var t=Yn;t;)t=mo(t.nextSibling)}function il(){Yn=Xn=null,Ye=!1}function N1(t){jr===null?jr=[t]:jr.push(t)}var nz=Li.ReactCurrentBatchConfig;function _u(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Ad(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function cA(t){var e=t._init;return e(t._payload)}function AD(t){function e(v,w){if(t){var x=v.deletions;x===null?(v.deletions=[w],v.flags|=16):x.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=wo(v,w),v.index=0,v.sibling=null,v}function o(v,w,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<w?(v.flags|=2,w):x):(v.flags|=2,w)):(v.flags|=1048576,w)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,w,x,P){return w===null||w.tag!==6?(w=Py(x,v.mode,P),w.return=v,w):(w=i(w,x),w.return=v,w)}function l(v,w,x,P){var S=x.type;return S===Sa?c(v,w,x.props.children,P,x.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===to&&cA(S)===w.type)?(P=i(w,x.props),P.ref=_u(v,w,x),P.return=v,P):(P=dh(x.type,x.key,x.props,null,v.mode,P),P.ref=_u(v,w,x),P.return=v,P)}function u(v,w,x,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Iy(x,v.mode,P),w.return=v,w):(w=i(w,x.children||[]),w.return=v,w)}function c(v,w,x,P,S){return w===null||w.tag!==7?(w=Ps(x,v.mode,P,S),w.return=v,w):(w=i(w,x),w.return=v,w)}function f(v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Py(""+w,v.mode,x),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case pd:return x=dh(w.type,w.key,w.props,null,v.mode,x),x.ref=_u(v,null,w),x.return=v,x;case Aa:return w=Iy(w,v.mode,x),w.return=v,w;case to:var P=w._init;return f(v,P(w._payload),x)}if(Lu(w)||mu(w))return w=Ps(w,v.mode,x,null),w.return=v,w;Ad(v,w)}return null}function h(v,w,x,P){var S=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(v,w,""+x,P);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case pd:return x.key===S?l(v,w,x,P):null;case Aa:return x.key===S?u(v,w,x,P):null;case to:return S=x._init,h(v,w,S(x._payload),P)}if(Lu(x)||mu(x))return S!==null?null:c(v,w,x,P,null);Ad(v,x)}return null}function p(v,w,x,P,S){if(typeof P=="string"&&P!==""||typeof P=="number")return v=v.get(x)||null,a(w,v,""+P,S);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case pd:return v=v.get(P.key===null?x:P.key)||null,l(w,v,P,S);case Aa:return v=v.get(P.key===null?x:P.key)||null,u(w,v,P,S);case to:var O=P._init;return p(v,w,x,O(P._payload),S)}if(Lu(P)||mu(P))return v=v.get(x)||null,c(w,v,P,S,null);Ad(w,P)}return null}function m(v,w,x,P){for(var S=null,O=null,A=w,T=w=0,I=null;A!==null&&T<x.length;T++){A.index>T?(I=A,A=null):I=A.sibling;var k=h(v,A,x[T],P);if(k===null){A===null&&(A=I);break}t&&A&&k.alternate===null&&e(v,A),w=o(k,w,T),O===null?S=k:O.sibling=k,O=k,A=I}if(T===x.length)return n(v,A),Ye&&ns(v,T),S;if(A===null){for(;T<x.length;T++)A=f(v,x[T],P),A!==null&&(w=o(A,w,T),O===null?S=A:O.sibling=A,O=A);return Ye&&ns(v,T),S}for(A=r(v,A);T<x.length;T++)I=p(A,v,T,x[T],P),I!==null&&(t&&I.alternate!==null&&A.delete(I.key===null?T:I.key),w=o(I,w,T),O===null?S=I:O.sibling=I,O=I);return t&&A.forEach(function(D){return e(v,D)}),Ye&&ns(v,T),S}function g(v,w,x,P){var S=mu(x);if(typeof S!="function")throw Error(K(150));if(x=S.call(x),x==null)throw Error(K(151));for(var O=S=null,A=w,T=w=0,I=null,k=x.next();A!==null&&!k.done;T++,k=x.next()){A.index>T?(I=A,A=null):I=A.sibling;var D=h(v,A,k.value,P);if(D===null){A===null&&(A=I);break}t&&A&&D.alternate===null&&e(v,A),w=o(D,w,T),O===null?S=D:O.sibling=D,O=D,A=I}if(k.done)return n(v,A),Ye&&ns(v,T),S;if(A===null){for(;!k.done;T++,k=x.next())k=f(v,k.value,P),k!==null&&(w=o(k,w,T),O===null?S=k:O.sibling=k,O=k);return Ye&&ns(v,T),S}for(A=r(v,A);!k.done;T++,k=x.next())k=p(A,v,T,k.value,P),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?T:k.key),w=o(k,w,T),O===null?S=k:O.sibling=k,O=k);return t&&A.forEach(function(N){return e(v,N)}),Ye&&ns(v,T),S}function _(v,w,x,P){if(typeof x=="object"&&x!==null&&x.type===Sa&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case pd:e:{for(var S=x.key,O=w;O!==null;){if(O.key===S){if(S=x.type,S===Sa){if(O.tag===7){n(v,O.sibling),w=i(O,x.props.children),w.return=v,v=w;break e}}else if(O.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===to&&cA(S)===O.type){n(v,O.sibling),w=i(O,x.props),w.ref=_u(v,O,x),w.return=v,v=w;break e}n(v,O);break}else e(v,O);O=O.sibling}x.type===Sa?(w=Ps(x.props.children,v.mode,P,x.key),w.return=v,v=w):(P=dh(x.type,x.key,x.props,null,v.mode,P),P.ref=_u(v,w,x),P.return=v,v=P)}return s(v);case Aa:e:{for(O=x.key;w!==null;){if(w.key===O)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(v,w.sibling),w=i(w,x.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=Iy(x,v.mode,P),w.return=v,v=w}return s(v);case to:return O=x._init,_(v,w,O(x._payload),P)}if(Lu(x))return m(v,w,x,P);if(mu(x))return g(v,w,x,P);Ad(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,x),w.return=v,v=w):(n(v,w),w=Py(x,v.mode,P),w.return=v,v=w),s(v)):n(v,w)}return _}var ol=AD(!0),SD=AD(!1),Bh=Fo(null),$h=null,Ma=null,j1=null;function V1(){j1=Ma=$h=null}function L1(t){var e=Bh.current;Ge(Bh),t._currentValue=e}function i0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ha(t,e){$h=t,j1=Ma=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kn=!0),t.firstContext=null)}function Er(t){var e=t._currentValue;if(j1!==t)if(t={context:t,memoizedValue:e,next:null},Ma===null){if($h===null)throw Error(K(308));Ma=t,$h.dependencies={lanes:0,firstContext:t}}else Ma=Ma.next=t;return e}var gs=null;function F1(t){gs===null?gs=[t]:gs.push(t)}function PD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,F1(e)):(n.next=i.next,i.next=n),e.interleaved=n,Pi(t,r)}function Pi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var no=!1;function B1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ID(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _i(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function go(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Pi(t,n)}return i=r.interleaved,i===null?(e.next=e,F1(r)):(e.next=i.next,i.next=e),r.interleaved=e,Pi(t,n)}function sh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,A1(t,n)}}function fA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zh(t,e,n,r){var i=t.updateQueue;no=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(h=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=at({},f,h);break e;case 2:no=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Fs|=s,t.lanes=s,t.memoizedState=f}}function dA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var yf={},Qr=Fo(yf),Oc=Fo(yf),kc=Fo(yf);function ys(t){if(t===yf)throw Error(K(174));return t}function $1(t,e){switch(ze(kc,e),ze(Oc,t),ze(Qr,yf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lv(e,t)}Ge(Qr),ze(Qr,e)}function sl(){Ge(Qr),Ge(Oc),Ge(kc)}function CD(t){ys(kc.current);var e=ys(Qr.current),n=Lv(e,t.type);e!==n&&(ze(Oc,t),ze(Qr,n))}function z1(t){Oc.current===t&&(Ge(Qr),Ge(Oc))}var tt=Fo(0);function Uh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var by=[];function U1(){for(var t=0;t<by.length;t++)by[t]._workInProgressVersionPrimary=null;by.length=0}var ah=Li.ReactCurrentDispatcher,xy=Li.ReactCurrentBatchConfig,Ls=0,ot=null,It=null,Ft=null,Kh=!1,tc=!1,Dc=0,rz=0;function tn(){throw Error(K(321))}function K1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$r(t[n],e[n]))return!1;return!0}function W1(t,e,n,r,i,o){if(Ls=o,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ah.current=t===null||t.memoizedState===null?az:lz,t=n(r,i),tc){o=0;do{if(tc=!1,Dc=0,25<=o)throw Error(K(301));o+=1,Ft=It=null,e.updateQueue=null,ah.current=uz,t=n(r,i)}while(tc)}if(ah.current=Wh,e=It!==null&&It.next!==null,Ls=0,Ft=It=ot=null,Kh=!1,e)throw Error(K(300));return t}function q1(){var t=Dc!==0;return Dc=0,t}function Kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?ot.memoizedState=Ft=t:Ft=Ft.next=t,Ft}function Tr(){if(It===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var e=Ft===null?ot.memoizedState:Ft.next;if(e!==null)Ft=e,It=t;else{if(t===null)throw Error(K(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Ft===null?ot.memoizedState=Ft=t:Ft=Ft.next=t}return Ft}function Rc(t,e){return typeof e=="function"?e(t):e}function Ey(t){var e=Tr(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=It,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Ls&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ot.lanes|=c,Fs|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,$r(r,e.memoizedState)||(kn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ot.lanes|=o,Fs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ty(t){var e=Tr(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);$r(o,e.memoizedState)||(kn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function OD(){}function kD(t,e){var n=ot,r=Tr(),i=e(),o=!$r(r.memoizedState,i);if(o&&(r.memoizedState=i,kn=!0),r=r.queue,G1(MD.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ft!==null&&Ft.memoizedState.tag&1){if(n.flags|=2048,Mc(9,RD.bind(null,n,r,i,e),void 0,null),$t===null)throw Error(K(349));Ls&30||DD(n,e,i)}return i}function DD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function RD(t,e,n,r){e.value=n,e.getSnapshot=r,ND(e)&&jD(t)}function MD(t,e,n){return n(function(){ND(e)&&jD(t)})}function ND(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$r(t,n)}catch{return!0}}function jD(t){var e=Pi(t,1);e!==null&&Br(e,t,1,-1)}function hA(t){var e=Kr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rc,lastRenderedState:t},e.queue=t,t=t.dispatch=sz.bind(null,ot,t),[e.memoizedState,t]}function Mc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function VD(){return Tr().memoizedState}function lh(t,e,n,r){var i=Kr();ot.flags|=t,i.memoizedState=Mc(1|e,n,void 0,r===void 0?null:r)}function cm(t,e,n,r){var i=Tr();r=r===void 0?null:r;var o=void 0;if(It!==null){var s=It.memoizedState;if(o=s.destroy,r!==null&&K1(r,s.deps)){i.memoizedState=Mc(e,n,o,r);return}}ot.flags|=t,i.memoizedState=Mc(1|e,n,o,r)}function pA(t,e){return lh(8390656,8,t,e)}function G1(t,e){return cm(2048,8,t,e)}function LD(t,e){return cm(4,2,t,e)}function FD(t,e){return cm(4,4,t,e)}function BD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $D(t,e,n){return n=n!=null?n.concat([t]):null,cm(4,4,BD.bind(null,e,t),n)}function H1(){}function zD(t,e){var n=Tr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&K1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function UD(t,e){var n=Tr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&K1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function KD(t,e,n){return Ls&21?($r(n,e)||(n=Yk(),ot.lanes|=n,Fs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kn=!0),t.memoizedState=n)}function iz(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=xy.transition;xy.transition={};try{t(!1),e()}finally{Ne=n,xy.transition=r}}function WD(){return Tr().memoizedState}function oz(t,e,n){var r=vo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qD(t))GD(e,n);else if(n=PD(t,e,n,r),n!==null){var i=bn();Br(n,t,r,i),HD(n,e,r)}}function sz(t,e,n){var r=vo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qD(t))GD(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,$r(a,s)){var l=e.interleaved;l===null?(i.next=i,F1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=PD(t,e,i,r),n!==null&&(i=bn(),Br(n,t,r,i),HD(n,e,r))}}function qD(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function GD(t,e){tc=Kh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function HD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,A1(t,n)}}var Wh={readContext:Er,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},az={readContext:Er,useCallback:function(t,e){return Kr().memoizedState=[t,e===void 0?null:e],t},useContext:Er,useEffect:pA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,lh(4194308,4,BD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return lh(4194308,4,t,e)},useInsertionEffect:function(t,e){return lh(4,2,t,e)},useMemo:function(t,e){var n=Kr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=oz.bind(null,ot,t),[r.memoizedState,t]},useRef:function(t){var e=Kr();return t={current:t},e.memoizedState=t},useState:hA,useDebugValue:H1,useDeferredValue:function(t){return Kr().memoizedState=t},useTransition:function(){var t=hA(!1),e=t[0];return t=iz.bind(null,t[1]),Kr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ot,i=Kr();if(Ye){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),$t===null)throw Error(K(349));Ls&30||DD(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,pA(MD.bind(null,r,o,t),[t]),r.flags|=2048,Mc(9,RD.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Kr(),e=$t.identifierPrefix;if(Ye){var n=gi,r=mi;n=(r&~(1<<32-Fr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rz++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lz={readContext:Er,useCallback:zD,useContext:Er,useEffect:G1,useImperativeHandle:$D,useInsertionEffect:LD,useLayoutEffect:FD,useMemo:UD,useReducer:Ey,useRef:VD,useState:function(){return Ey(Rc)},useDebugValue:H1,useDeferredValue:function(t){var e=Tr();return KD(e,It.memoizedState,t)},useTransition:function(){var t=Ey(Rc)[0],e=Tr().memoizedState;return[t,e]},useMutableSource:OD,useSyncExternalStore:kD,useId:WD,unstable_isNewReconciler:!1},uz={readContext:Er,useCallback:zD,useContext:Er,useEffect:G1,useImperativeHandle:$D,useInsertionEffect:LD,useLayoutEffect:FD,useMemo:UD,useReducer:Ty,useRef:VD,useState:function(){return Ty(Rc)},useDebugValue:H1,useDeferredValue:function(t){var e=Tr();return It===null?e.memoizedState=t:KD(e,It.memoizedState,t)},useTransition:function(){var t=Ty(Rc)[0],e=Tr().memoizedState;return[t,e]},useMutableSource:OD,useSyncExternalStore:kD,useId:WD,unstable_isNewReconciler:!1};function Mr(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function o0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:at({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fm={isMounted:function(t){return(t=t._reactInternals)?ea(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bn(),i=vo(t),o=_i(r,i);o.payload=e,n!=null&&(o.callback=n),e=go(t,o,i),e!==null&&(Br(e,t,i,r),sh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bn(),i=vo(t),o=_i(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=go(t,o,i),e!==null&&(Br(e,t,i,r),sh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bn(),r=vo(t),i=_i(n,r);i.tag=2,e!=null&&(i.callback=e),e=go(t,i,r),e!==null&&(Br(e,t,r,n),sh(e,t,r))}};function mA(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Sc(n,r)||!Sc(i,o):!0}function YD(t,e,n){var r=!1,i=Io,o=e.contextType;return typeof o=="object"&&o!==null?o=Er(o):(i=jn(e)?js:fn.current,r=e.contextTypes,o=(r=r!=null)?rl(t,i):Io),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function gA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fm.enqueueReplaceState(e,e.state,null)}function s0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},B1(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Er(o):(o=jn(e)?js:fn.current,i.context=rl(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(o0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&fm.enqueueReplaceState(i,i.state,null),zh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function al(t,e){try{var n="",r=e;do n+=V4(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ay(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function a0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cz=typeof WeakMap=="function"?WeakMap:Map;function QD(t,e,n){n=_i(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gh||(Gh=!0,y0=r),a0(t,e)},n}function XD(t,e,n){n=_i(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){a0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){a0(t,e),typeof r!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function yA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cz;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Tz.bind(null,t,e,n),e.then(t,t))}function vA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wA(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_i(-1,1),e.tag=2,go(n,e,1))),n.lanes|=1),t)}var fz=Li.ReactCurrentOwner,kn=!1;function gn(t,e,n,r){e.child=t===null?SD(e,null,n,r):ol(e,t.child,n,r)}function _A(t,e,n,r,i){n=n.render;var o=e.ref;return Ha(e,i),r=W1(t,e,n,r,o,i),n=q1(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ii(t,e,i)):(Ye&&n&&R1(e),e.flags|=1,gn(t,e,r,i),e.child)}function bA(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!n_(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,JD(t,e,o,r,i)):(t=dh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Sc,n(s,r)&&t.ref===e.ref)return Ii(t,e,i)}return e.flags|=1,t=wo(o,r),t.ref=e.ref,t.return=e,e.child=t}function JD(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Sc(o,r)&&t.ref===e.ref)if(kn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(kn=!0);else return e.lanes=t.lanes,Ii(t,e,i)}return l0(t,e,n,r,i)}function ZD(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(ja,Wn),Wn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(ja,Wn),Wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ze(ja,Wn),Wn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ze(ja,Wn),Wn|=r;return gn(t,e,i,n),e.child}function eR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function l0(t,e,n,r,i){var o=jn(n)?js:fn.current;return o=rl(e,o),Ha(e,i),n=W1(t,e,n,r,o,i),r=q1(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ii(t,e,i)):(Ye&&r&&R1(e),e.flags|=1,gn(t,e,n,i),e.child)}function xA(t,e,n,r,i){if(jn(n)){var o=!0;Vh(e)}else o=!1;if(Ha(e,i),e.stateNode===null)uh(t,e),YD(e,n,r),s0(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Er(u):(u=jn(n)?js:fn.current,u=rl(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&gA(e,s,r,u),no=!1;var h=e.memoizedState;s.state=h,zh(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Nn.current||no?(typeof c=="function"&&(o0(e,n,c,r),l=e.memoizedState),(a=no||mA(e,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,ID(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Mr(e.type,a),s.props=u,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Er(l):(l=jn(n)?js:fn.current,l=rl(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&gA(e,s,r,l),no=!1,h=e.memoizedState,s.state=h,zh(e,r,s,i);var m=e.memoizedState;a!==f||h!==m||Nn.current||no?(typeof p=="function"&&(o0(e,n,p,r),m=e.memoizedState),(u=no||mA(e,n,u,r,h,m,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return u0(t,e,n,r,o,i)}function u0(t,e,n,r,i,o){eR(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&aA(e,n,!1),Ii(t,e,o);r=e.stateNode,fz.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ol(e,t.child,null,o),e.child=ol(e,null,a,o)):gn(t,e,a,o),e.memoizedState=r.state,i&&aA(e,n,!0),e.child}function tR(t){var e=t.stateNode;e.pendingContext?sA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sA(t,e.context,!1),$1(t,e.containerInfo)}function EA(t,e,n,r,i){return il(),N1(i),e.flags|=256,gn(t,e,n,r),e.child}var c0={dehydrated:null,treeContext:null,retryLane:0};function f0(t){return{baseLanes:t,cachePool:null,transitions:null}}function nR(t,e,n){var r=e.pendingProps,i=tt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ze(tt,i&1),t===null)return r0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=pm(s,r,0,null),t=Ps(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=f0(n),e.memoizedState=c0,t):Y1(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return dz(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=wo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=wo(a,o):(o=Ps(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?f0(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=c0,r}return o=t.child,t=o.sibling,r=wo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Y1(t,e){return e=pm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sd(t,e,n,r){return r!==null&&N1(r),ol(e,t.child,null,n),t=Y1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dz(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Ay(Error(K(422))),Sd(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=pm({mode:"visible",children:r.children},i,0,null),o=Ps(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ol(e,t.child,null,s),e.child.memoizedState=f0(s),e.memoizedState=c0,o);if(!(e.mode&1))return Sd(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(K(419)),r=Ay(o,r,void 0),Sd(t,e,s,r)}if(a=(s&t.childLanes)!==0,kn||a){if(r=$t,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Pi(t,i),Br(r,t,i,-1))}return t_(),r=Ay(Error(K(421))),Sd(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Az.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Yn=mo(i.nextSibling),Xn=e,Ye=!0,jr=null,t!==null&&(hr[pr++]=mi,hr[pr++]=gi,hr[pr++]=Vs,mi=t.id,gi=t.overflow,Vs=e),e=Y1(e,r.children),e.flags|=4096,e)}function TA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),i0(t.return,e,n)}function Sy(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function rR(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(gn(t,e,r.children,n),r=tt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&TA(t,n,e);else if(t.tag===19)TA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(tt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Uh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Sy(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Uh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Sy(e,!0,n,null,o);break;case"together":Sy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function uh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ii(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=wo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hz(t,e,n){switch(e.tag){case 3:tR(e),il();break;case 5:CD(e);break;case 1:jn(e.type)&&Vh(e);break;case 4:$1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ze(Bh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(tt,tt.current&1),e.flags|=128,null):n&e.child.childLanes?nR(t,e,n):(ze(tt,tt.current&1),t=Ii(t,e,n),t!==null?t.sibling:null);ze(tt,tt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return rR(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(tt,tt.current),r)break;return null;case 22:case 23:return e.lanes=0,ZD(t,e,n)}return Ii(t,e,n)}var iR,d0,oR,sR;iR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};d0=function(){};oR=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ys(Qr.current);var o=null;switch(n){case"input":i=Mv(t,i),r=Mv(t,r),o=[];break;case"select":i=at({},i,{value:void 0}),r=at({},r,{value:void 0}),o=[];break;case"textarea":i=Vv(t,i),r=Vv(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Nh)}Fv(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&We("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};sR=function(t,e,n,r){n!==r&&(e.flags|=4)};function bu(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pz(t,e,n){var r=e.pendingProps;switch(M1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(e),null;case 1:return jn(e.type)&&jh(),nn(e),null;case 3:return r=e.stateNode,sl(),Ge(Nn),Ge(fn),U1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Td(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jr!==null&&(_0(jr),jr=null))),d0(t,e),nn(e),null;case 5:z1(e);var i=ys(kc.current);if(n=e.type,t!==null&&e.stateNode!=null)oR(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return nn(e),null}if(t=ys(Qr.current),Td(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Wr]=e,r[Cc]=o,t=(e.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(i=0;i<Bu.length;i++)We(Bu[i],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":RT(r,o),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},We("invalid",r);break;case"textarea":NT(r,o),We("invalid",r)}Fv(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ed(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ed(r.textContent,a,t),i=["children",""+a]):wc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&We("scroll",r)}switch(n){case"input":md(r),MT(r,o,!0);break;case"textarea":md(r),jT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Nh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Mk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Wr]=e,t[Cc]=r,iR(t,e,!1,!1),e.stateNode=t;e:{switch(s=Bv(n,r),n){case"dialog":We("cancel",t),We("close",t),i=r;break;case"iframe":case"object":case"embed":We("load",t),i=r;break;case"video":case"audio":for(i=0;i<Bu.length;i++)We(Bu[i],t);i=r;break;case"source":We("error",t),i=r;break;case"img":case"image":case"link":We("error",t),We("load",t),i=r;break;case"details":We("toggle",t),i=r;break;case"input":RT(t,r),i=Mv(t,r),We("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=at({},r,{value:void 0}),We("invalid",t);break;case"textarea":NT(t,r),i=Vv(t,r),We("invalid",t);break;default:i=r}Fv(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Vk(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Nk(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_c(t,l):typeof l=="number"&&_c(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(wc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&We("scroll",t):l!=null&&w1(t,o,l,s))}switch(n){case"input":md(t),MT(t,r,!1);break;case"textarea":md(t),jT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Po(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ka(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ka(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Nh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nn(e),null;case 6:if(t&&e.stateNode!=null)sR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=ys(kc.current),ys(Qr.current),Td(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wr]=e,(o=r.nodeValue!==n)&&(t=Xn,t!==null))switch(t.tag){case 3:Ed(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ed(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wr]=e,e.stateNode=r}return nn(e),null;case 13:if(Ge(tt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&Yn!==null&&e.mode&1&&!(e.flags&128))TD(),il(),e.flags|=98560,o=!1;else if(o=Td(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(K(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(K(317));o[Wr]=e}else il(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nn(e),o=!1}else jr!==null&&(_0(jr),jr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tt.current&1?Ct===0&&(Ct=3):t_())),e.updateQueue!==null&&(e.flags|=4),nn(e),null);case 4:return sl(),d0(t,e),t===null&&Pc(e.stateNode.containerInfo),nn(e),null;case 10:return L1(e.type._context),nn(e),null;case 17:return jn(e.type)&&jh(),nn(e),null;case 19:if(Ge(tt),o=e.memoizedState,o===null)return nn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)bu(o,!1);else{if(Ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Uh(t),s!==null){for(e.flags|=128,bu(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(tt,tt.current&1|2),e.child}t=t.sibling}o.tail!==null&&yt()>ll&&(e.flags|=128,r=!0,bu(o,!1),e.lanes=4194304)}else{if(!r)if(t=Uh(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),bu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ye)return nn(e),null}else 2*yt()-o.renderingStartTime>ll&&n!==1073741824&&(e.flags|=128,r=!0,bu(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=yt(),e.sibling=null,n=tt.current,ze(tt,r?n&1|2:n&1),e):(nn(e),null);case 22:case 23:return e_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wn&1073741824&&(nn(e),e.subtreeFlags&6&&(e.flags|=8192)):nn(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function mz(t,e){switch(M1(e),e.tag){case 1:return jn(e.type)&&jh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sl(),Ge(Nn),Ge(fn),U1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return z1(e),null;case 13:if(Ge(tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));il()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(tt),null;case 4:return sl(),null;case 10:return L1(e.type._context),null;case 22:case 23:return e_(),null;case 24:return null;default:return null}}var Pd=!1,sn=!1,gz=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Na(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(t,e,r)}else n.current=null}function h0(t,e,n){try{n()}catch(r){dt(t,e,r)}}var AA=!1;function yz(t,e){if(Qv=Dh,t=fD(),D1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xv={focusedElem:t,selectionRange:n},Dh=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,_=m.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Mr(e.type,g),_);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(P){dt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return m=AA,AA=!1,m}function nc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&h0(e,n,o)}i=i.next}while(i!==r)}}function dm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function p0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function aR(t){var e=t.alternate;e!==null&&(t.alternate=null,aR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wr],delete e[Cc],delete e[e0],delete e[Z3],delete e[ez])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lR(t){return t.tag===5||t.tag===3||t.tag===4}function SA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function m0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Nh));else if(r!==4&&(t=t.child,t!==null))for(m0(t,e,n),t=t.sibling;t!==null;)m0(t,e,n),t=t.sibling}function g0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(g0(t,e,n),t=t.sibling;t!==null;)g0(t,e,n),t=t.sibling}var Wt=null,Nr=!1;function Yi(t,e,n){for(n=n.child;n!==null;)uR(t,e,n),n=n.sibling}function uR(t,e,n){if(Yr&&typeof Yr.onCommitFiberUnmount=="function")try{Yr.onCommitFiberUnmount(im,n)}catch{}switch(n.tag){case 5:sn||Na(n,e);case 6:var r=Wt,i=Nr;Wt=null,Yi(t,e,n),Wt=r,Nr=i,Wt!==null&&(Nr?(t=Wt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Wt.removeChild(n.stateNode));break;case 18:Wt!==null&&(Nr?(t=Wt,n=n.stateNode,t.nodeType===8?wy(t.parentNode,n):t.nodeType===1&&wy(t,n),Tc(t)):wy(Wt,n.stateNode));break;case 4:r=Wt,i=Nr,Wt=n.stateNode.containerInfo,Nr=!0,Yi(t,e,n),Wt=r,Nr=i;break;case 0:case 11:case 14:case 15:if(!sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&h0(n,e,s),i=i.next}while(i!==r)}Yi(t,e,n);break;case 1:if(!sn&&(Na(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){dt(n,e,a)}Yi(t,e,n);break;case 21:Yi(t,e,n);break;case 22:n.mode&1?(sn=(r=sn)||n.memoizedState!==null,Yi(t,e,n),sn=r):Yi(t,e,n);break;default:Yi(t,e,n)}}function PA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gz),e.forEach(function(r){var i=Sz.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Wt=a.stateNode,Nr=!1;break e;case 3:Wt=a.stateNode.containerInfo,Nr=!0;break e;case 4:Wt=a.stateNode.containerInfo,Nr=!0;break e}a=a.return}if(Wt===null)throw Error(K(160));uR(o,s,i),Wt=null,Nr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){dt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cR(e,t),e=e.sibling}function cR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dr(e,t),Ur(t),r&4){try{nc(3,t,t.return),dm(3,t)}catch(g){dt(t,t.return,g)}try{nc(5,t,t.return)}catch(g){dt(t,t.return,g)}}break;case 1:Dr(e,t),Ur(t),r&512&&n!==null&&Na(n,n.return);break;case 5:if(Dr(e,t),Ur(t),r&512&&n!==null&&Na(n,n.return),t.flags&32){var i=t.stateNode;try{_c(i,"")}catch(g){dt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Dk(i,o),Bv(a,s);var u=Bv(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?Vk(i,f):c==="dangerouslySetInnerHTML"?Nk(i,f):c==="children"?_c(i,f):w1(i,c,f,u)}switch(a){case"input":Nv(i,o);break;case"textarea":Rk(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Ka(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ka(i,!!o.multiple,o.defaultValue,!0):Ka(i,!!o.multiple,o.multiple?[]:"",!1))}i[Cc]=o}catch(g){dt(t,t.return,g)}}break;case 6:if(Dr(e,t),Ur(t),r&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){dt(t,t.return,g)}}break;case 3:if(Dr(e,t),Ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tc(e.containerInfo)}catch(g){dt(t,t.return,g)}break;case 4:Dr(e,t),Ur(t);break;case 13:Dr(e,t),Ur(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(J1=yt())),r&4&&PA(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(sn=(u=sn)||c,Dr(e,t),sn=u):Dr(e,t),Ur(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ee=t,c=t.child;c!==null;){for(f=ee=c;ee!==null;){switch(h=ee,p=h.child,h.tag){case 0:case 11:case 14:case 15:nc(4,h,h.return);break;case 1:Na(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){dt(r,n,g)}}break;case 5:Na(h,h.return);break;case 22:if(h.memoizedState!==null){CA(f);continue}}p!==null?(p.return=h,ee=p):CA(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=jk("display",s))}catch(g){dt(t,t.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){dt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Dr(e,t),Ur(t),r&4&&PA(t);break;case 21:break;default:Dr(e,t),Ur(t)}}function Ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(lR(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_c(i,""),r.flags&=-33);var o=SA(t);g0(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=SA(t);m0(t,a,s);break;default:throw Error(K(161))}}catch(l){dt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vz(t,e,n){ee=t,fR(t)}function fR(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var i=ee,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Pd;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||sn;a=Pd;var u=sn;if(Pd=s,(sn=l)&&!u)for(ee=i;ee!==null;)s=ee,l=s.child,s.tag===22&&s.memoizedState!==null?OA(i):l!==null?(l.return=s,ee=l):OA(i);for(;o!==null;)ee=o,fR(o),o=o.sibling;ee=i,Pd=a,sn=u}IA(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ee=o):IA(t)}}function IA(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sn||dm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!sn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&dA(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}dA(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Tc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}sn||e.flags&512&&p0(e)}catch(h){dt(e,e.return,h)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function CA(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function OA(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dm(4,e)}catch(l){dt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){dt(e,i,l)}}var o=e.return;try{p0(e)}catch(l){dt(e,o,l)}break;case 5:var s=e.return;try{p0(e)}catch(l){dt(e,s,l)}}}catch(l){dt(e,e.return,l)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var wz=Math.ceil,qh=Li.ReactCurrentDispatcher,Q1=Li.ReactCurrentOwner,_r=Li.ReactCurrentBatchConfig,Se=0,$t=null,Et=null,Qt=0,Wn=0,ja=Fo(0),Ct=0,Nc=null,Fs=0,hm=0,X1=0,rc=null,On=null,J1=0,ll=1/0,fi=null,Gh=!1,y0=null,yo=null,Id=!1,uo=null,Hh=0,ic=0,v0=null,ch=-1,fh=0;function bn(){return Se&6?yt():ch!==-1?ch:ch=yt()}function vo(t){return t.mode&1?Se&2&&Qt!==0?Qt&-Qt:nz.transition!==null?(fh===0&&(fh=Yk()),fh):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:nD(t.type)),t):1}function Br(t,e,n,r){if(50<ic)throw ic=0,v0=null,Error(K(185));pf(t,n,r),(!(Se&2)||t!==$t)&&(t===$t&&(!(Se&2)&&(hm|=n),Ct===4&&oo(t,Qt)),Vn(t,r),n===1&&Se===0&&!(e.mode&1)&&(ll=yt()+500,um&&Bo()))}function Vn(t,e){var n=t.callbackNode;n3(t,e);var r=kh(t,t===$t?Qt:0);if(r===0)n!==null&&FT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&FT(n),e===1)t.tag===0?tz(kA.bind(null,t)):bD(kA.bind(null,t)),X3(function(){!(Se&6)&&Bo()}),n=null;else{switch(Qk(r)){case 1:n=T1;break;case 4:n=Gk;break;case 16:n=Oh;break;case 536870912:n=Hk;break;default:n=Oh}n=wR(n,dR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function dR(t,e){if(ch=-1,fh=0,Se&6)throw Error(K(327));var n=t.callbackNode;if(Ya()&&t.callbackNode!==n)return null;var r=kh(t,t===$t?Qt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yh(t,r);else{e=r;var i=Se;Se|=2;var o=pR();($t!==t||Qt!==e)&&(fi=null,ll=yt()+500,Ss(t,e));do try{xz();break}catch(a){hR(t,a)}while(1);V1(),qh.current=o,Se=i,Et!==null?e=0:($t=null,Qt=0,e=Ct)}if(e!==0){if(e===2&&(i=Wv(t),i!==0&&(r=i,e=w0(t,i))),e===1)throw n=Nc,Ss(t,0),oo(t,r),Vn(t,yt()),n;if(e===6)oo(t,r);else{if(i=t.current.alternate,!(r&30)&&!_z(i)&&(e=Yh(t,r),e===2&&(o=Wv(t),o!==0&&(r=o,e=w0(t,o))),e===1))throw n=Nc,Ss(t,0),oo(t,r),Vn(t,yt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:rs(t,On,fi);break;case 3:if(oo(t,r),(r&130023424)===r&&(e=J1+500-yt(),10<e)){if(kh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){bn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Zv(rs.bind(null,t,On,fi),e);break}rs(t,On,fi);break;case 4:if(oo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Fr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wz(r/1960))-r,10<r){t.timeoutHandle=Zv(rs.bind(null,t,On,fi),r);break}rs(t,On,fi);break;case 5:rs(t,On,fi);break;default:throw Error(K(329))}}}return Vn(t,yt()),t.callbackNode===n?dR.bind(null,t):null}function w0(t,e){var n=rc;return t.current.memoizedState.isDehydrated&&(Ss(t,e).flags|=256),t=Yh(t,e),t!==2&&(e=On,On=n,e!==null&&_0(e)),t}function _0(t){On===null?On=t:On.push.apply(On,t)}function _z(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!$r(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oo(t,e){for(e&=~X1,e&=~hm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fr(e),r=1<<n;t[n]=-1,e&=~r}}function kA(t){if(Se&6)throw Error(K(327));Ya();var e=kh(t,0);if(!(e&1))return Vn(t,yt()),null;var n=Yh(t,e);if(t.tag!==0&&n===2){var r=Wv(t);r!==0&&(e=r,n=w0(t,r))}if(n===1)throw n=Nc,Ss(t,0),oo(t,e),Vn(t,yt()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rs(t,On,fi),Vn(t,yt()),null}function Z1(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(ll=yt()+500,um&&Bo())}}function Bs(t){uo!==null&&uo.tag===0&&!(Se&6)&&Ya();var e=Se;Se|=1;var n=_r.transition,r=Ne;try{if(_r.transition=null,Ne=1,t)return t()}finally{Ne=r,_r.transition=n,Se=e,!(Se&6)&&Bo()}}function e_(){Wn=ja.current,Ge(ja)}function Ss(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Q3(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(M1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jh();break;case 3:sl(),Ge(Nn),Ge(fn),U1();break;case 5:z1(r);break;case 4:sl();break;case 13:Ge(tt);break;case 19:Ge(tt);break;case 10:L1(r.type._context);break;case 22:case 23:e_()}n=n.return}if($t=t,Et=t=wo(t.current,null),Qt=Wn=e,Ct=0,Nc=null,X1=hm=Fs=0,On=rc=null,gs!==null){for(e=0;e<gs.length;e++)if(n=gs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}gs=null}return t}function hR(t,e){do{var n=Et;try{if(V1(),ah.current=Wh,Kh){for(var r=ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Kh=!1}if(Ls=0,Ft=It=ot=null,tc=!1,Dc=0,Q1.current=null,n===null||n.return===null){Ct=1,Nc=e,Et=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Qt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=vA(s);if(p!==null){p.flags&=-257,wA(p,s,a,o,e),p.mode&1&&yA(o,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){yA(o,u,e),t_();break e}l=Error(K(426))}}else if(Ye&&a.mode&1){var _=vA(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),wA(_,s,a,o,e),N1(al(l,a));break e}}o=l=al(l,a),Ct!==4&&(Ct=2),rc===null?rc=[o]:rc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=QD(o,l,e);fA(o,v);break e;case 1:a=l;var w=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(yo===null||!yo.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var P=XD(o,a,e);fA(o,P);break e}}o=o.return}while(o!==null)}gR(n)}catch(S){e=S,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(1)}function pR(){var t=qh.current;return qh.current=Wh,t===null?Wh:t}function t_(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),$t===null||!(Fs&268435455)&&!(hm&268435455)||oo($t,Qt)}function Yh(t,e){var n=Se;Se|=2;var r=pR();($t!==t||Qt!==e)&&(fi=null,Ss(t,e));do try{bz();break}catch(i){hR(t,i)}while(1);if(V1(),Se=n,qh.current=r,Et!==null)throw Error(K(261));return $t=null,Qt=0,Ct}function bz(){for(;Et!==null;)mR(Et)}function xz(){for(;Et!==null&&!G4();)mR(Et)}function mR(t){var e=vR(t.alternate,t,Wn);t.memoizedProps=t.pendingProps,e===null?gR(t):Et=e,Q1.current=null}function gR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mz(n,e),n!==null){n.flags&=32767,Et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ct=6,Et=null;return}}else if(n=pz(n,e,Wn),n!==null){Et=n;return}if(e=e.sibling,e!==null){Et=e;return}Et=e=t}while(e!==null);Ct===0&&(Ct=5)}function rs(t,e,n){var r=Ne,i=_r.transition;try{_r.transition=null,Ne=1,Ez(t,e,n,r)}finally{_r.transition=i,Ne=r}return null}function Ez(t,e,n,r){do Ya();while(uo!==null);if(Se&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(r3(t,o),t===$t&&(Et=$t=null,Qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Id||(Id=!0,wR(Oh,function(){return Ya(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=_r.transition,_r.transition=null;var s=Ne;Ne=1;var a=Se;Se|=4,Q1.current=null,yz(t,n),cR(n,t),U3(Xv),Dh=!!Qv,Xv=Qv=null,t.current=n,vz(n),H4(),Se=a,Ne=s,_r.transition=o}else t.current=n;if(Id&&(Id=!1,uo=t,Hh=i),o=t.pendingLanes,o===0&&(yo=null),X4(n.stateNode),Vn(t,yt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gh)throw Gh=!1,t=y0,y0=null,t;return Hh&1&&t.tag!==0&&Ya(),o=t.pendingLanes,o&1?t===v0?ic++:(ic=0,v0=t):ic=0,Bo(),null}function Ya(){if(uo!==null){var t=Qk(Hh),e=_r.transition,n=Ne;try{if(_r.transition=null,Ne=16>t?16:t,uo===null)var r=!1;else{if(t=uo,uo=null,Hh=0,Se&6)throw Error(K(331));var i=Se;for(Se|=4,ee=t.current;ee!==null;){var o=ee,s=o.child;if(ee.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ee=u;ee!==null;){var c=ee;switch(c.tag){case 0:case 11:case 15:nc(8,c,o)}var f=c.child;if(f!==null)f.return=c,ee=f;else for(;ee!==null;){c=ee;var h=c.sibling,p=c.return;if(aR(c),c===u){ee=null;break}if(h!==null){h.return=p,ee=h;break}ee=p}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}ee=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ee=s;else e:for(;ee!==null;){if(o=ee,o.flags&2048)switch(o.tag){case 0:case 11:case 15:nc(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,ee=v;break e}ee=o.return}}var w=t.current;for(ee=w;ee!==null;){s=ee;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,ee=x;else e:for(s=w;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dm(9,a)}}catch(S){dt(a,a.return,S)}if(a===s){ee=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,ee=P;break e}ee=a.return}}if(Se=i,Bo(),Yr&&typeof Yr.onPostCommitFiberRoot=="function")try{Yr.onPostCommitFiberRoot(im,t)}catch{}r=!0}return r}finally{Ne=n,_r.transition=e}}return!1}function DA(t,e,n){e=al(n,e),e=QD(t,e,1),t=go(t,e,1),e=bn(),t!==null&&(pf(t,1,e),Vn(t,e))}function dt(t,e,n){if(t.tag===3)DA(t,t,n);else for(;e!==null;){if(e.tag===3){DA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yo===null||!yo.has(r))){t=al(n,t),t=XD(e,t,1),e=go(e,t,1),t=bn(),e!==null&&(pf(e,1,t),Vn(e,t));break}}e=e.return}}function Tz(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bn(),t.pingedLanes|=t.suspendedLanes&n,$t===t&&(Qt&n)===n&&(Ct===4||Ct===3&&(Qt&130023424)===Qt&&500>yt()-J1?Ss(t,0):X1|=n),Vn(t,e)}function yR(t,e){e===0&&(t.mode&1?(e=vd,vd<<=1,!(vd&130023424)&&(vd=4194304)):e=1);var n=bn();t=Pi(t,e),t!==null&&(pf(t,e,n),Vn(t,n))}function Az(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yR(t,n)}function Sz(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),yR(t,n)}var vR;vR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nn.current)kn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kn=!1,hz(t,e,n);kn=!!(t.flags&131072)}else kn=!1,Ye&&e.flags&1048576&&xD(e,Fh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;uh(t,e),t=e.pendingProps;var i=rl(e,fn.current);Ha(e,n),i=W1(null,e,r,t,i,n);var o=q1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jn(r)?(o=!0,Vh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,B1(e),i.updater=fm,e.stateNode=i,i._reactInternals=e,s0(e,r,t,n),e=u0(null,e,r,!0,o,n)):(e.tag=0,Ye&&o&&R1(e),gn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(uh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Iz(r),t=Mr(r,t),i){case 0:e=l0(null,e,r,t,n);break e;case 1:e=xA(null,e,r,t,n);break e;case 11:e=_A(null,e,r,t,n);break e;case 14:e=bA(null,e,r,Mr(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),l0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),xA(t,e,r,i,n);case 3:e:{if(tR(e),t===null)throw Error(K(387));r=e.pendingProps,o=e.memoizedState,i=o.element,ID(t,e),zh(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=al(Error(K(423)),e),e=EA(t,e,r,n,i);break e}else if(r!==i){i=al(Error(K(424)),e),e=EA(t,e,r,n,i);break e}else for(Yn=mo(e.stateNode.containerInfo.firstChild),Xn=e,Ye=!0,jr=null,n=SD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(il(),r===i){e=Ii(t,e,n);break e}gn(t,e,r,n)}e=e.child}return e;case 5:return CD(e),t===null&&r0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Jv(r,i)?s=null:o!==null&&Jv(r,o)&&(e.flags|=32),eR(t,e),gn(t,e,s,n),e.child;case 6:return t===null&&r0(e),null;case 13:return nR(t,e,n);case 4:return $1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ol(e,null,r,n):gn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),_A(t,e,r,i,n);case 7:return gn(t,e,e.pendingProps,n),e.child;case 8:return gn(t,e,e.pendingProps.children,n),e.child;case 12:return gn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ze(Bh,r._currentValue),r._currentValue=s,o!==null)if($r(o.value,s)){if(o.children===i.children&&!Nn.current){e=Ii(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=_i(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),i0(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(K(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),i0(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}gn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ha(e,n),i=Er(i),r=r(i),e.flags|=1,gn(t,e,r,n),e.child;case 14:return r=e.type,i=Mr(r,e.pendingProps),i=Mr(r.type,i),bA(t,e,r,i,n);case 15:return JD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),uh(t,e),e.tag=1,jn(r)?(t=!0,Vh(e)):t=!1,Ha(e,n),YD(e,r,i),s0(e,r,i,n),u0(null,e,r,!0,t,n);case 19:return rR(t,e,n);case 22:return ZD(t,e,n)}throw Error(K(156,e.tag))};function wR(t,e){return qk(t,e)}function Pz(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(t,e,n,r){return new Pz(t,e,n,r)}function n_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Iz(t){if(typeof t=="function")return n_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===b1)return 11;if(t===x1)return 14}return 2}function wo(t,e){var n=t.alternate;return n===null?(n=yr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function dh(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")n_(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Sa:return Ps(n.children,i,o,e);case _1:s=8,i|=8;break;case Ov:return t=yr(12,n,e,i|2),t.elementType=Ov,t.lanes=o,t;case kv:return t=yr(13,n,e,i),t.elementType=kv,t.lanes=o,t;case Dv:return t=yr(19,n,e,i),t.elementType=Dv,t.lanes=o,t;case Ck:return pm(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pk:s=10;break e;case Ik:s=9;break e;case b1:s=11;break e;case x1:s=14;break e;case to:s=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=yr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ps(t,e,n,r){return t=yr(7,t,r,e),t.lanes=n,t}function pm(t,e,n,r){return t=yr(22,t,r,e),t.elementType=Ck,t.lanes=n,t.stateNode={isHidden:!1},t}function Py(t,e,n){return t=yr(6,t,null,e),t.lanes=n,t}function Iy(t,e,n){return e=yr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Cz(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ly(0),this.expirationTimes=ly(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ly(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function r_(t,e,n,r,i,o,s,a,l){return t=new Cz(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=yr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},B1(o),t}function Oz(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Aa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function _R(t){if(!t)return Io;t=t._reactInternals;e:{if(ea(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(jn(n))return _D(t,n,e)}return e}function bR(t,e,n,r,i,o,s,a,l){return t=r_(n,r,!0,t,i,o,s,a,l),t.context=_R(null),n=t.current,r=bn(),i=vo(n),o=_i(r,i),o.callback=e??null,go(n,o,i),t.current.lanes=i,pf(t,i,r),Vn(t,r),t}function mm(t,e,n,r){var i=e.current,o=bn(),s=vo(i);return n=_R(n),e.context===null?e.context=n:e.pendingContext=n,e=_i(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=go(i,e,s),t!==null&&(Br(t,i,s,o),sh(t,i,s)),s}function Qh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function RA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function i_(t,e){RA(t,e),(t=t.alternate)&&RA(t,e)}function kz(){return null}var xR=typeof reportError=="function"?reportError:function(t){console.error(t)};function o_(t){this._internalRoot=t}gm.prototype.render=o_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));mm(t,e,null,null)};gm.prototype.unmount=o_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bs(function(){mm(null,t,null,null)}),e[Si]=null}};function gm(t){this._internalRoot=t}gm.prototype.unstable_scheduleHydration=function(t){if(t){var e=Zk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<io.length&&e!==0&&e<io[n].priority;n++);io.splice(n,0,t),n===0&&tD(t)}};function s_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ym(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function MA(){}function Dz(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Qh(s);o.call(u)}}var s=bR(e,r,t,0,null,!1,!1,"",MA);return t._reactRootContainer=s,t[Si]=s.current,Pc(t.nodeType===8?t.parentNode:t),Bs(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Qh(l);a.call(u)}}var l=r_(t,0,!1,null,null,!1,!1,"",MA);return t._reactRootContainer=l,t[Si]=l.current,Pc(t.nodeType===8?t.parentNode:t),Bs(function(){mm(e,l,n,r)}),l}function vm(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Qh(s);a.call(l)}}mm(e,s,t,i)}else s=Dz(n,e,t,i,r);return Qh(s)}Xk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fu(e.pendingLanes);n!==0&&(A1(e,n|1),Vn(e,yt()),!(Se&6)&&(ll=yt()+500,Bo()))}break;case 13:Bs(function(){var r=Pi(t,1);if(r!==null){var i=bn();Br(r,t,1,i)}}),i_(t,1)}};S1=function(t){if(t.tag===13){var e=Pi(t,134217728);if(e!==null){var n=bn();Br(e,t,134217728,n)}i_(t,134217728)}};Jk=function(t){if(t.tag===13){var e=vo(t),n=Pi(t,e);if(n!==null){var r=bn();Br(n,t,e,r)}i_(t,e)}};Zk=function(){return Ne};eD=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};zv=function(t,e,n){switch(e){case"input":if(Nv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=lm(r);if(!i)throw Error(K(90));kk(r),Nv(r,i)}}}break;case"textarea":Rk(t,n);break;case"select":e=n.value,e!=null&&Ka(t,!!n.multiple,e,!1)}};Bk=Z1;$k=Bs;var Rz={usingClientEntryPoint:!1,Events:[gf,Oa,lm,Lk,Fk,Z1]},xu={findFiberByHostInstance:ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mz={bundleType:xu.bundleType,version:xu.version,rendererPackageName:xu.rendererPackageName,rendererConfig:xu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Li.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Kk(t),t===null?null:t.stateNode},findFiberByHostInstance:xu.findFiberByHostInstance||kz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cd.isDisabled&&Cd.supportsFiber)try{im=Cd.inject(Mz),Yr=Cd}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rz;rr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!s_(e))throw Error(K(200));return Oz(t,e,null,n)};rr.createRoot=function(t,e){if(!s_(t))throw Error(K(299));var n=!1,r="",i=xR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=r_(t,1,!1,null,null,n,!1,r,i),t[Si]=e.current,Pc(t.nodeType===8?t.parentNode:t),new o_(e)};rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=Kk(e),t=t===null?null:t.stateNode,t};rr.flushSync=function(t){return Bs(t)};rr.hydrate=function(t,e,n){if(!ym(e))throw Error(K(200));return vm(null,t,e,!0,n)};rr.hydrateRoot=function(t,e,n){if(!s_(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=xR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=bR(e,null,t,1,n??null,i,!1,o,s),t[Si]=e.current,Pc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new gm(e)};rr.render=function(t,e,n){if(!ym(e))throw Error(K(200));return vm(null,t,e,!1,n)};rr.unmountComponentAtNode=function(t){if(!ym(t))throw Error(K(40));return t._reactRootContainer?(Bs(function(){vm(null,null,t,!1,function(){t._reactRootContainer=null,t[Si]=null})}),!0):!1};rr.unstable_batchedUpdates=Z1;rr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ym(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return vm(t,e,n,!1,r)};rr.version="18.3.1-next-f1338f8080-20240426";function ER(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ER)}catch(t){console.error(t)}}ER(),Ek.exports=rr;var a_=Ek.exports,NA=a_;Iv.createRoot=NA.createRoot,Iv.hydrateRoot=NA.hydrateRoot;const l_=b.createContext({});function u_(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const c_=typeof window<"u",TR=c_?b.useLayoutEffect:b.useEffect,wm=b.createContext(null);function f_(t,e){t.indexOf(e)===-1&&t.push(e)}function d_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ci=(t,e,n)=>n>e?e:n<t?t:n;let h_=()=>{};const Oi={},AR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function SR(t){return typeof t=="object"&&t!==null}const PR=t=>/^0[^.\s]+$/u.test(t);function p_(t){let e;return()=>(e===void 0&&(e=t()),e)}const br=t=>t,Nz=(t,e)=>n=>e(t(n)),vf=(...t)=>t.reduce(Nz),jc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class m_{constructor(){this.subscriptions=[]}add(e){return f_(this.subscriptions,e),()=>d_(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xr=t=>t*1e3,Jr=t=>t/1e3;function IR(t,e){return e?t*(1e3/e):0}const CR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,jz=1e-7,Vz=12;function Lz(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=CR(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>jz&&++a<Vz);return s}function wf(t,e,n,r){if(t===e&&n===r)return br;const i=o=>Lz(o,0,1,t,n);return o=>o===0||o===1?o:CR(i(o),e,r)}const OR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,kR=t=>e=>1-t(1-e),DR=wf(.33,1.53,.69,.99),g_=kR(DR),RR=OR(g_),MR=t=>(t*=2)<1?.5*g_(t):.5*(2-Math.pow(2,-10*(t-1))),y_=t=>1-Math.sin(Math.acos(t)),NR=kR(y_),jR=OR(y_),Fz=wf(.42,0,1,1),Bz=wf(0,0,.58,1),VR=wf(.42,0,.58,1),$z=t=>Array.isArray(t)&&typeof t[0]!="number",LR=t=>Array.isArray(t)&&typeof t[0]=="number",zz={linear:br,easeIn:Fz,easeInOut:VR,easeOut:Bz,circIn:y_,circInOut:jR,circOut:NR,backIn:g_,backInOut:RR,backOut:DR,anticipate:MR},Uz=t=>typeof t=="string",jA=t=>{if(LR(t)){h_(t.length===4);const[e,n,r,i]=t;return wf(e,n,r,i)}else if(Uz(t))return zz[t];return t},Od=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],VA={value:null,addProjectionMetrics:null};function Kz(t,e){let n=new Set,r=new Set,i=!1,o=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(f){s.has(f)&&(c.schedule(f),t()),l++,f(a)}const c={schedule:(f,h=!1,p=!1)=>{const g=p&&i?n:r;return h&&s.add(f),g.has(f)||g.add(f),f},cancel:f=>{r.delete(f),s.delete(f)},process:f=>{if(a=f,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),e&&VA.value&&VA.value.frameloop[e].push(l),l=0,n.clear(),i=!1,o&&(o=!1,c.process(f))}};return c}const Wz=40;function FR(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=Od.reduce((x,P)=>(x[P]=Kz(o,e?P:void 0),x),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:f,preRender:h,render:p,postRender:m}=s,g=()=>{const x=Oi.useManualTiming?i.timestamp:performance.now();n=!1,Oi.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,Wz),1)),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),f.process(i),h.process(i),p.process(i),m.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(g))},_=()=>{n=!0,r=!0,i.isProcessing||t(g)};return{schedule:Od.reduce((x,P)=>{const S=s[P];return x[P]=(O,A=!1,T=!1)=>(n||_(),S.schedule(O,A,T)),x},{}),cancel:x=>{for(let P=0;P<Od.length;P++)s[Od[P]].cancel(x)},state:i,steps:s}}const{schedule:Qe,cancel:Co,state:qt,steps:Cy}=FR(typeof requestAnimationFrame<"u"?requestAnimationFrame:br,!0);let hh;function qz(){hh=void 0}const Dn={now:()=>(hh===void 0&&Dn.set(qt.isProcessing||Oi.useManualTiming?qt.timestamp:performance.now()),hh),set:t=>{hh=t,queueMicrotask(qz)}},BR=t=>e=>typeof e=="string"&&e.startsWith(t),v_=BR("--"),Gz=BR("var(--"),w_=t=>Gz(t)?Hz.test(t.split("/*")[0].trim()):!1,Hz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ml={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Vc={...Ml,transform:t=>Ci(0,1,t)},kd={...Ml,default:1},oc=t=>Math.round(t*1e5)/1e5,__=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Yz(t){return t==null}const Qz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,b_=(t,e)=>n=>!!(typeof n=="string"&&Qz.test(n)&&n.startsWith(t)||e&&!Yz(n)&&Object.prototype.hasOwnProperty.call(n,e)),$R=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,a]=r.match(__);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},Xz=t=>Ci(0,255,t),Oy={...Ml,transform:t=>Math.round(Xz(t))},vs={test:b_("rgb","red"),parse:$R("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Oy.transform(t)+", "+Oy.transform(e)+", "+Oy.transform(n)+", "+oc(Vc.transform(r))+")"};function Jz(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const b0={test:b_("#"),parse:Jz,transform:vs.transform},_f=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),eo=_f("deg"),Zr=_f("%"),ue=_f("px"),Zz=_f("vh"),e6=_f("vw"),LA=(()=>({...Zr,parse:t=>Zr.parse(t)/100,transform:t=>Zr.transform(t*100)}))(),Va={test:b_("hsl","hue"),parse:$R("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Zr.transform(oc(e))+", "+Zr.transform(oc(n))+", "+oc(Vc.transform(r))+")"},xt={test:t=>vs.test(t)||b0.test(t)||Va.test(t),parse:t=>vs.test(t)?vs.parse(t):Va.test(t)?Va.parse(t):b0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vs.transform(t):Va.transform(t),getAnimatableNone:t=>{const e=xt.parse(t);return e.alpha=0,xt.transform(e)}},t6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function n6(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(__))==null?void 0:e.length)||0)+(((n=t.match(t6))==null?void 0:n.length)||0)>0}const zR="number",UR="color",r6="var",i6="var(",FA="${}",o6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Lc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=e.replace(o6,l=>(xt.test(l)?(r.color.push(o),i.push(UR),n.push(xt.parse(l))):l.startsWith(i6)?(r.var.push(o),i.push(r6),n.push(l)):(r.number.push(o),i.push(zR),n.push(parseFloat(l))),++o,FA)).split(FA);return{values:n,split:a,indexes:r,types:i}}function KR(t){return Lc(t).values}function WR(t){const{split:e,types:n}=Lc(t),r=e.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=e[s],i[s]!==void 0){const a=n[s];a===zR?o+=oc(i[s]):a===UR?o+=xt.transform(i[s]):o+=i[s]}return o}}const s6=t=>typeof t=="number"?0:xt.test(t)?xt.getAnimatableNone(t):t;function a6(t){const e=KR(t);return WR(t)(e.map(s6))}const Oo={test:n6,parse:KR,createTransformer:WR,getAnimatableNone:a6};function ky(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function l6({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=ky(l,a,t+1/3),o=ky(l,a,t),s=ky(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function Xh(t,e){return n=>n>0?e:t}const nt=(t,e,n)=>t+(e-t)*n,Dy=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},u6=[b0,vs,Va],c6=t=>u6.find(e=>e.test(t));function BA(t){const e=c6(t);if(!e)return!1;let n=e.parse(t);return e===Va&&(n=l6(n)),n}const $A=(t,e)=>{const n=BA(t),r=BA(e);if(!n||!r)return Xh(t,e);const i={...n};return o=>(i.red=Dy(n.red,r.red,o),i.green=Dy(n.green,r.green,o),i.blue=Dy(n.blue,r.blue,o),i.alpha=nt(n.alpha,r.alpha,o),vs.transform(i))},x0=new Set(["none","hidden"]);function f6(t,e){return x0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function d6(t,e){return n=>nt(t,e,n)}function x_(t){return typeof t=="number"?d6:typeof t=="string"?w_(t)?Xh:xt.test(t)?$A:m6:Array.isArray(t)?qR:typeof t=="object"?xt.test(t)?$A:h6:Xh}function qR(t,e){const n=[...t],r=n.length,i=t.map((o,s)=>x_(o)(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function h6(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=x_(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function p6(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],s=t.indexes[o][r[o]],a=t.values[s]??0;n[i]=a,r[o]++}return n}const m6=(t,e)=>{const n=Oo.createTransformer(e),r=Lc(t),i=Lc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?x0.has(t)&&!i.values.length||x0.has(e)&&!r.values.length?f6(t,e):vf(qR(p6(r,i),i.values),n):Xh(t,e)};function GR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?nt(t,e,n):x_(t)(t,e)}const g6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Qe.update(e,n),stop:()=>Co(e),now:()=>qt.isProcessing?qt.timestamp:Dn.now()}},HR=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Jh=2e4;function E_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Jh;)e+=n,r=t.next(e);return e>=Jh?1/0:e}function y6(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(E_(r),Jh);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:Jr(i)}}const v6=5;function YR(t,e,n){const r=Math.max(e-v6,0);return IR(n-t(r),e-r)}const ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ry=.001;function w6({duration:t=ft.duration,bounce:e=ft.bounce,velocity:n=ft.velocity,mass:r=ft.mass}){let i,o,s=1-e;s=Ci(ft.minDamping,ft.maxDamping,s),t=Ci(ft.minDuration,ft.maxDuration,Jr(t)),s<1?(i=u=>{const c=u*s,f=c*t,h=c-n,p=E0(u,s),m=Math.exp(-f);return Ry-h/p*m},o=u=>{const f=u*s*t,h=f*n+n,p=Math.pow(s,2)*Math.pow(u,2)*t,m=Math.exp(-f),g=E0(Math.pow(u,2),s);return(-i(u)+Ry>0?-1:1)*((h-p)*m)/g}):(i=u=>{const c=Math.exp(-u*t),f=(u-n)*t+1;return-Ry+c*f},o=u=>{const c=Math.exp(-u*t),f=(n-u)*(t*t);return c*f});const a=5/t,l=b6(i,o,a);if(t=Xr(t),isNaN(l))return{stiffness:ft.stiffness,damping:ft.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:t}}}const _6=12;function b6(t,e,n){let r=n;for(let i=1;i<_6;i++)r=r-t(r)/e(r);return r}function E0(t,e){return t*Math.sqrt(1-e*e)}const x6=["duration","bounce"],E6=["stiffness","damping","mass"];function zA(t,e){return e.some(n=>t[n]!==void 0)}function T6(t){let e={velocity:ft.velocity,stiffness:ft.stiffness,damping:ft.damping,mass:ft.mass,isResolvedFromDuration:!1,...t};if(!zA(t,E6)&&zA(t,x6))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Ci(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ft.mass,stiffness:i,damping:o}}else{const n=w6(t);e={...e,...n,mass:ft.mass},e.isResolvedFromDuration=!0}return e}function Zh(t=ft.visualDuration,e=ft.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:u,mass:c,duration:f,velocity:h,isResolvedFromDuration:p}=T6({...n,velocity:-Jr(n.velocity||0)}),m=h||0,g=u/(2*Math.sqrt(l*c)),_=s-o,v=Jr(Math.sqrt(l/c)),w=Math.abs(_)<5;r||(r=w?ft.restSpeed.granular:ft.restSpeed.default),i||(i=w?ft.restDelta.granular:ft.restDelta.default);let x;if(g<1){const S=E0(v,g);x=O=>{const A=Math.exp(-g*v*O);return s-A*((m+g*v*_)/S*Math.sin(S*O)+_*Math.cos(S*O))}}else if(g===1)x=S=>s-Math.exp(-v*S)*(_+(m+v*_)*S);else{const S=v*Math.sqrt(g*g-1);x=O=>{const A=Math.exp(-g*v*O),T=Math.min(S*O,300);return s-A*((m+g*v*_)*Math.sinh(T)+S*_*Math.cosh(T))/S}}const P={calculatedDuration:p&&f||null,next:S=>{const O=x(S);if(p)a.done=S>=f;else{let A=S===0?m:0;g<1&&(A=S===0?Xr(m):YR(x,S,O));const T=Math.abs(A)<=r,I=Math.abs(s-O)<=i;a.done=T&&I}return a.value=a.done?s:O,a},toString:()=>{const S=Math.min(E_(P),Jh),O=HR(A=>P.next(S*A).value,S,30);return S+"ms "+O},toTransition:()=>{}};return P}Zh.applyToOptions=t=>{const e=y6(t,100,Zh);return t.ease=e.ease,t.duration=Xr(e.duration),t.type="keyframes",t};function T0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=t[0],h={done:!1,value:f},p=T=>a!==void 0&&T<a||l!==void 0&&T>l,m=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let g=n*e;const _=f+g,v=s===void 0?_:s(_);v!==_&&(g=v-f);const w=T=>-g*Math.exp(-T/r),x=T=>v+w(T),P=T=>{const I=w(T),k=x(T);h.done=Math.abs(I)<=u,h.value=h.done?v:k};let S,O;const A=T=>{p(h.value)&&(S=T,O=Zh({keyframes:[h.value,m(h.value)],velocity:YR(x,T,h.value),damping:i,stiffness:o,restDelta:u,restSpeed:c}))};return A(0),{calculatedDuration:null,next:T=>{let I=!1;return!O&&S===void 0&&(I=!0,P(T),A(T)),S!==void 0&&T>=S?O.next(T-S):(!I&&P(T),h)}}}function A6(t,e,n){const r=[],i=n||Oi.mix||GR,o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||br:e;a=vf(l,a)}r.push(a)}return r}function S6(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(h_(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=A6(e,r,i),l=a.length,u=c=>{if(s&&c<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(c<t[f+1]);f++);const h=jc(t[f],t[f+1],c);return a[f](h)};return n?c=>u(Ci(t[0],t[o-1],c)):u}function P6(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=jc(0,e,r);t.push(nt(n,1,i))}}function I6(t){const e=[0];return P6(e,t.length-1),e}function C6(t,e){return t.map(n=>n*e)}function O6(t,e){return t.map(()=>e||VR).splice(0,t.length-1)}function sc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=$z(r)?r.map(jA):jA(r),o={done:!1,value:e[0]},s=C6(n&&n.length===e.length?n:I6(e),t),a=S6(s,e,{ease:Array.isArray(i)?i:O6(e,i)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}const k6=t=>t!==null;function T_(t,{repeat:e,repeatType:n="loop"},r,i=1){const o=t.filter(k6),a=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!a||r===void 0?o[a]:r}const D6={decay:T0,inertia:T0,tween:sc,keyframes:sc,spring:Zh};function QR(t){typeof t.type=="string"&&(t.type=D6[t.type])}class A_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const R6=t=>t/100;class S_ extends A_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Dn.now()&&this.tick(Dn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;QR(e);const{type:n=sc,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=e;let{keyframes:a}=e;const l=n||sc;l!==sc&&typeof a[0]!="number"&&(this.mixKeyframes=vf(R6,GR(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});o==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=E_(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:s,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:f,repeatType:h,repeatDelay:p,type:m,onUpdate:g,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,P=r;if(f){const T=Math.min(this.currentTime,i)/a;let I=Math.floor(T),k=T%1;!k&&T>=1&&(k=1),k===1&&I--,I=Math.min(I,f+1),!!(I%2)&&(h==="reverse"?(k=1-k,p&&(k-=p/a)):h==="mirror"&&(P=s)),x=Ci(0,1,k)*a}const S=w?{done:!1,value:c[0]}:P.next(x);o&&(S.value=o(S.value));let{done:O}=S;!w&&l!==null&&(O=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return A&&m!==T0&&(S.value=T_(c,this.options,_,this.speed)),g&&g(S.value),A&&this.finish(),S}then(e,n){return this.finished.then(e,n)}get duration(){return Jr(this.calculatedDuration)}get time(){return Jr(this.currentTime)}set time(e){var n;e=Xr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Dn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Jr(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:e=g6,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),(o=(i=this.options).onPlay)==null||o.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Dn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function M6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ws=t=>t*180/Math.PI,A0=t=>{const e=ws(Math.atan2(t[1],t[0]));return S0(e)},N6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:A0,rotateZ:A0,skewX:t=>ws(Math.atan(t[1])),skewY:t=>ws(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},S0=t=>(t=t%360,t<0&&(t+=360),t),UA=A0,KA=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),WA=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),j6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:KA,scaleY:WA,scale:t=>(KA(t)+WA(t))/2,rotateX:t=>S0(ws(Math.atan2(t[6],t[5]))),rotateY:t=>S0(ws(Math.atan2(-t[2],t[0]))),rotateZ:UA,rotate:UA,skewX:t=>ws(Math.atan(t[4])),skewY:t=>ws(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function P0(t){return t.includes("scale")?1:0}function I0(t,e){if(!t||t==="none")return P0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=j6,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=N6,i=a}if(!i)return P0(e);const o=r[e],s=i[1].split(",").map(L6);return typeof o=="function"?o(s):s[o]}const V6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return I0(n,e)};function L6(t){return parseFloat(t.trim())}const Nl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jl=(()=>new Set(Nl))(),qA=t=>t===Ml||t===ue,F6=new Set(["x","y","z"]),B6=Nl.filter(t=>!F6.has(t));function $6(t){const e=[];return B6.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Is={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>I0(e,"x"),y:(t,{transform:e})=>I0(e,"y")};Is.translateX=Is.x;Is.translateY=Is.y;const Cs=new Set;let C0=!1,O0=!1,k0=!1;function XR(){if(O0){const t=Array.from(Cs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=$6(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var a;(a=r.getValue(o))==null||a.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}O0=!1,C0=!1,Cs.forEach(t=>t.complete(k0)),Cs.clear()}function JR(){Cs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(O0=!0)})}function z6(){k0=!0,JR(),XR(),k0=!1}class P_{constructor(e,n,r,i,o,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Cs.add(this),C0||(C0=!0,Qe.read(JR),Qe.resolveKeyframes(XR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const o=i==null?void 0:i.get(),s=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const a=r.readValue(n,s);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=s),i&&o===void 0&&i.set(e[0])}M6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Cs.delete(this)}cancel(){this.state==="scheduled"&&(Cs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const U6=t=>t.startsWith("--");function K6(t,e,n){U6(e)?t.style.setProperty(e,n):t.style[e]=n}const W6=p_(()=>window.ScrollTimeline!==void 0),q6={};function G6(t,e){const n=p_(t);return()=>q6[e]??n()}const ZR=G6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$u=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,GA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$u([0,.65,.55,1]),circOut:$u([.55,0,1,.45]),backIn:$u([.31,.01,.66,-.59]),backOut:$u([.33,1.53,.69,.99])};function e2(t,e){if(t)return typeof t=="function"?ZR()?HR(t,e):"ease-out":LR(t)?$u(t):Array.isArray(t)?t.map(n=>e2(n,e)||GA.easeOut):GA[t]}function H6(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[e]:n};l&&(c.offset=l);const f=e2(a,i);Array.isArray(f)&&(c.easing=f);const h={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),t.animate(c,h)}function t2(t){return typeof t=="function"&&"applyToOptions"in t}function Y6({type:t,...e}){return t2(t)&&ZR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Q6 extends A_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:s=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!o,this.allowFlatten=s,this.options=e,h_(typeof e.type!="string");const u=Y6(e);this.animation=H6(n,r,i,u,o),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const c=T_(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):K6(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Jr(Number(e))}get time(){return Jr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Xr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&W6()?(this.animation.timeline=e,br):n(this)}}const n2={anticipate:MR,backInOut:RR,circInOut:jR};function X6(t){return t in n2}function J6(t){typeof t.ease=="string"&&X6(t.ease)&&(t.ease=n2[t.ease])}const HA=10;class Z6 extends Q6{constructor(e){J6(e),QR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...s}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new S_({...s,autoplay:!1}),l=Xr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-HA).value,a.sample(l).value,HA),a.stop()}}const YA=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Oo.test(t)||t==="0")&&!t.startsWith("url("));function eU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function tU(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],s=YA(i,e),a=YA(o,e);return!s||!a?!1:eU(t)||(n==="spring"||t2(n))&&r}function D0(t){t.duration=0,t.type}const nU=new Set(["opacity","clipPath","filter","transform"]),rU=p_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function iU(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:s}=t;if(!(((c=e==null?void 0:e.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return rU()&&n&&nU.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&o!==0&&s!=="inertia"}const oU=40;class sU extends A_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",keyframes:a,name:l,motionValue:u,element:c,...f}){var m;super(),this.stop=()=>{var g,_;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=Dn.now();const h={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,name:l,motionValue:u,element:c,...f},p=(c==null?void 0:c.KeyframeResolver)||P_;this.keyframeResolver=new p(a,(g,_,v)=>this.onKeyframesResolved(g,_,h,!v),l,u,c),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:o,type:s,velocity:a,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=Dn.now(),tU(e,o,s,a)||((Oi.instantAnimations||!l)&&(c==null||c(T_(e,r,n))),e[0]=e[e.length-1],D0(r),r.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>oU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},p=!u&&iU(h)?new Z6({...h,element:h.motionValue.owner.current}):new S_(h);p.finished.then(()=>this.notifyFinished()).catch(br),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),z6()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const aU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lU(t){const e=aU.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function r2(t,e,n=1){const[r,i]=lU(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return AR(s)?parseFloat(s):s}return w_(i)?r2(i,e,n+1):i}function I_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const i2=new Set(["width","height","top","left","right","bottom",...Nl]),uU={test:t=>t==="auto",parse:t=>t},o2=t=>e=>e.test(t),s2=[Ml,ue,Zr,eo,e6,Zz,uU],QA=t=>s2.find(o2(t));function cU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||PR(t):!0}const fU=new Set(["brightness","contrast","saturate","opacity"]);function dU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(__)||[];if(!r)return t;const i=n.replace(r,"");let o=fU.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const hU=/\b([a-z-]*)\(.*?\)/gu,R0={...Oo,getAnimatableNone:t=>{const e=t.match(hU);return e?e.map(dU).join(" "):t}},XA={...Ml,transform:Math.round},pU={rotate:eo,rotateX:eo,rotateY:eo,rotateZ:eo,scale:kd,scaleX:kd,scaleY:kd,scaleZ:kd,skew:eo,skewX:eo,skewY:eo,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:Vc,originX:LA,originY:LA,originZ:ue},C_={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,radius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,top:ue,right:ue,bottom:ue,left:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,backgroundPositionX:ue,backgroundPositionY:ue,...pU,zIndex:XA,fillOpacity:Vc,strokeOpacity:Vc,numOctaves:XA},mU={...C_,color:xt,backgroundColor:xt,outlineColor:xt,fill:xt,stroke:xt,borderColor:xt,borderTopColor:xt,borderRightColor:xt,borderBottomColor:xt,borderLeftColor:xt,filter:R0,WebkitFilter:R0},a2=t=>mU[t];function l2(t,e){let n=a2(t);return n!==R0&&(n=Oo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const gU=new Set(["auto","none","0"]);function yU(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!gU.has(o)&&Lc(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=l2(n,i)}class vU extends P_{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),w_(u))){const c=r2(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!i2.has(r)||e.length!==2)return;const[i,o]=e,s=QA(i),a=QA(o);if(s!==a)if(qA(s)&&qA(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else Is[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||cU(e[i]))&&r.push(i);r.length&&yU(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Is[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,s=r[o];r[o]=Is[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function wU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;e&&(r=e.current);const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const u2=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function c2(t){return SR(t)&&"offsetHeight"in t}const JA=30,_U=t=>!isNaN(parseFloat(t));class bU{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var o;const i=Dn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Dn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=_U(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new m_);const r=this.events[e].add(n);return e==="change"?()=>{r(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Dn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>JA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,JA);return IR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ul(t,e){return new bU(t,e)}const{schedule:O_,cancel:Mce}=FR(queueMicrotask,!1),Rr={x:!1,y:!1};function f2(){return Rr.x||Rr.y}function xU(t){return t==="x"||t==="y"?Rr[t]?null:(Rr[t]=!0,()=>{Rr[t]=!1}):Rr.x||Rr.y?null:(Rr.x=Rr.y=!0,()=>{Rr.x=Rr.y=!1})}function d2(t,e){const n=wU(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function ZA(t){return!(t.pointerType==="touch"||f2())}function EU(t,e,n={}){const[r,i,o]=d2(t,n),s=a=>{if(!ZA(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const c=f=>{ZA(f)&&(u(f),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return r.forEach(a=>{a.addEventListener("pointerenter",s,i)}),o}const h2=(t,e)=>e?t===e?!0:h2(t,e.parentElement):!1,k_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,TU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function AU(t){return TU.has(t.tagName)||t.tabIndex!==-1}const ph=new WeakSet;function eS(t){return e=>{e.key==="Enter"&&t(e)}}function My(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const SU=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=eS(()=>{if(ph.has(n))return;My(n,"down");const i=eS(()=>{My(n,"up")}),o=()=>My(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function tS(t){return k_(t)&&!f2()}function PU(t,e,n={}){const[r,i,o]=d2(t,n),s=a=>{const l=a.currentTarget;if(!tS(a))return;ph.add(l);const u=e(l,a),c=(p,m)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),ph.has(l)&&ph.delete(l),tS(p)&&typeof u=="function"&&u(p,{success:m})},f=p=>{c(p,l===window||l===document||n.useGlobalTarget||h2(l,p.target))},h=p=>{c(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",s,i),c2(a)&&(a.addEventListener("focus",u=>SU(u,i)),!AU(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),o}function p2(t){return SR(t)&&"ownerSVGElement"in t}function IU(t){return p2(t)&&t.tagName==="svg"}const cn=t=>!!(t&&t.getVelocity),CU=[...s2,xt,Oo],OU=t=>CU.find(o2(t)),D_=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class kU extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=c2(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function DU({children:t,isPresent:e,anchorX:n,root:r}){const i=b.useId(),o=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=b.useContext(D_);return b.useInsertionEffect(()=>{const{width:l,height:u,top:c,left:f,right:h}=s.current;if(e||!o.current||!l||!u)return;const p=n==="left"?`left: ${f}`:`right: ${h}`;o.current.dataset.motionPopId=i;const m=document.createElement("style");a&&(m.nonce=a);const g=r??document.head;return g.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${p}px !important;
            top: ${c}px !important;
          }
        `),()=>{g.contains(m)&&g.removeChild(m)}},[e]),M.jsx(kU,{isPresent:e,childRef:o,sizeRef:s,children:b.cloneElement(t,{ref:o})})}const RU=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s,anchorX:a,root:l})=>{const u=u_(MU),c=b.useId();let f=!0,h=b.useMemo(()=>(f=!1,{id:c,initial:e,isPresent:n,custom:i,onExitComplete:p=>{u.set(p,!0);for(const m of u.values())if(!m)return;r&&r()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[n,u,r]);return o&&f&&(h={...h}),b.useMemo(()=>{u.forEach((p,m)=>u.set(m,!1))},[n]),b.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),s==="popLayout"&&(t=M.jsx(DU,{isPresent:n,anchorX:a,root:l,children:t})),M.jsx(wm.Provider,{value:h,children:t})};function MU(){return new Map}function m2(t=!0){const e=b.useContext(wm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=b.useId();b.useEffect(()=>{if(t)return i(o)},[t]);const s=b.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,s]:[!0]}const Dd=t=>t.key||"";function nS(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const NU=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:s=!1,anchorX:a="left",root:l})=>{const[u,c]=m2(s),f=b.useMemo(()=>nS(t),[t]),h=s&&!u?[]:f.map(Dd),p=b.useRef(!0),m=b.useRef(f),g=u_(()=>new Map),[_,v]=b.useState(f),[w,x]=b.useState(f);TR(()=>{p.current=!1,m.current=f;for(let O=0;O<w.length;O++){const A=Dd(w[O]);h.includes(A)?g.delete(A):g.get(A)!==!0&&g.set(A,!1)}},[w,h.length,h.join("-")]);const P=[];if(f!==_){let O=[...f];for(let A=0;A<w.length;A++){const T=w[A],I=Dd(T);h.includes(I)||(O.splice(A,0,T),P.push(T))}return o==="wait"&&P.length&&(O=P),x(nS(O)),v(f),null}const{forceRender:S}=b.useContext(l_);return M.jsx(M.Fragment,{children:w.map(O=>{const A=Dd(O),T=s&&!u?!1:f===w||h.includes(A),I=()=>{if(g.has(A))g.set(A,!0);else return;let k=!0;g.forEach(D=>{D||(k=!1)}),k&&(S==null||S(),x(m.current),s&&(c==null||c()),r&&r())};return M.jsx(RU,{isPresent:T,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,root:l,onExitComplete:T?void 0:I,anchorX:a,children:O},A)})})},g2=b.createContext({strict:!1}),rS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cl={};for(const t in rS)cl[t]={isEnabled:e=>rS[t].some(n=>!!e[n])};function jU(t){for(const e in t)cl[e]={...cl[e],...t[e]}}const VU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ep(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||VU.has(t)}let y2=t=>!ep(t);function LU(t){typeof t=="function"&&(y2=e=>e.startsWith("on")?!ep(e):t(e))}try{LU(require("@emotion/is-prop-valid").default)}catch{}function FU(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(y2(i)||n===!0&&ep(i)||!e&&!ep(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const _m=b.createContext({});function bm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Fc(t){return typeof t=="string"||Array.isArray(t)}const R_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],M_=["initial",...R_];function xm(t){return bm(t.animate)||M_.some(e=>Fc(t[e]))}function v2(t){return!!(xm(t)||t.variants)}function BU(t,e){if(xm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Fc(n)?n:void 0,animate:Fc(r)?r:void 0}}return t.inherit!==!1?e:{}}function $U(t){const{initial:e,animate:n}=BU(t,b.useContext(_m));return b.useMemo(()=>({initial:e,animate:n}),[iS(e),iS(n)])}function iS(t){return Array.isArray(t)?t.join(" "):t}const Bc={};function zU(t){for(const e in t)Bc[e]=t[e],v_(e)&&(Bc[e].isCSSVariable=!0)}function w2(t,{layout:e,layoutId:n}){return jl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Bc[t]||t==="opacity")}const UU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KU=Nl.length;function WU(t,e,n){let r="",i=!0;for(let o=0;o<KU;o++){const s=Nl[o],a=t[s];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(s.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=u2(a,C_[s]);if(!l){i=!1;const c=UU[s]||s;r+=`${c}(${u}) `}n&&(e[s]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function N_(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let s=!1,a=!1;for(const l in e){const u=e[l];if(jl.has(l)){s=!0;continue}else if(v_(l)){i[l]=u;continue}else{const c=u2(u,C_[l]);l.startsWith("origin")?(a=!0,o[l]=c):r[l]=c}}if(e.transform||(s||n?r.transform=WU(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=o;r.transformOrigin=`${l} ${u} ${c}`}}const j_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _2(t,e,n){for(const r in e)!cn(e[r])&&!w2(r,n)&&(t[r]=e[r])}function qU({transformTemplate:t},e){return b.useMemo(()=>{const n=j_();return N_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function GU(t,e){const n=t.style||{},r={};return _2(r,n,t),Object.assign(r,qU(t,e)),r}function HU(t,e){const n={},r=GU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const YU={offset:"stroke-dashoffset",array:"stroke-dasharray"},QU={offset:"strokeDashoffset",array:"strokeDasharray"};function XU(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?YU:QU;t[o.offset]=ue.transform(-r);const s=ue.transform(e),a=ue.transform(n);t[o.array]=`${s} ${a}`}function b2(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:s=0,...a},l,u,c){if(N_(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:h}=t;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&XU(f,i,o,s,!1)}const x2=()=>({...j_(),attrs:{}}),E2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function JU(t,e,n,r){const i=b.useMemo(()=>{const o=x2();return b2(o,e,E2(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};_2(o,t.style,t),i.style={...o,...i.style}}return i}const ZU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function V_(t){return typeof t!="string"||t.includes("-")?!1:!!(ZU.indexOf(t)>-1||/[A-Z]/u.test(t))}function e5(t,e,n,{latestValues:r},i,o=!1){const a=(V_(t)?JU:HU)(e,r,i,t),l=FU(e,typeof t=="string",o),u=t!==b.Fragment?{...l,...a,ref:n}:{},{children:c}=e,f=b.useMemo(()=>cn(c)?c.get():c,[c]);return b.createElement(t,{...u,children:f})}function oS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function L_(t,e,n,r){if(typeof e=="function"){const[i,o]=oS(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=oS(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function mh(t){return cn(t)?t.get():t}function t5({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:n5(n,r,i,t),renderState:e()}}function n5(t,e,n,r){const i={},o=r(t,{});for(const h in o)i[h]=mh(o[h]);let{initial:s,animate:a}=t;const l=xm(t),u=v2(t);e&&u&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||s===!1;const f=c?a:s;if(f&&typeof f!="boolean"&&!bm(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const m=L_(t,h[p]);if(m){const{transitionEnd:g,transition:_,...v}=m;for(const w in v){let x=v[w];if(Array.isArray(x)){const P=c?x.length-1:0;x=x[P]}x!==null&&(i[w]=x)}for(const w in g)i[w]=g[w]}}}return i}const T2=t=>(e,n)=>{const r=b.useContext(_m),i=b.useContext(wm),o=()=>t5(t,e,r,i);return n?o():u_(o)};function F_(t,e,n){var o;const{style:r}=t,i={};for(const s in r)(cn(r[s])||e.style&&cn(e.style[s])||w2(s,t)||((o=n==null?void 0:n.getValue(s))==null?void 0:o.liveStyle)!==void 0)&&(i[s]=r[s]);return i}const r5=T2({scrapeMotionValuesFromProps:F_,createRenderState:j_});function A2(t,e,n){const r=F_(t,e,n);for(const i in t)if(cn(t[i])||cn(e[i])){const o=Nl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}const i5=T2({scrapeMotionValuesFromProps:A2,createRenderState:x2}),o5=Symbol.for("motionComponentSymbol");function La(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function s5(t,e,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):La(n)&&(n.current=r))},[e])}const B_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),a5="framerAppearId",S2="data-"+B_(a5),P2=b.createContext({});function l5(t,e,n,r,i){var g,_;const{visualElement:o}=b.useContext(_m),s=b.useContext(g2),a=b.useContext(wm),l=b.useContext(D_).reducedMotion,u=b.useRef(null);r=r||s.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,f=b.useContext(P2);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&u5(u.current,n,i,f);const h=b.useRef(!1);b.useInsertionEffect(()=>{c&&h.current&&c.update(n,a)});const p=n[S2],m=b.useRef(!!p&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,p))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,p)));return TR(()=>{c&&(h.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),m.current&&c.animationState&&c.animationState.animateChanges())}),b.useEffect(()=>{c&&(!m.current&&c.animationState&&c.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,p)}),m.current=!1),c.enteringChildren=void 0)}),c}function u5(t,e,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:I2(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&La(a),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function I2(t){if(t)return t.options.allowProjection!==!1?t.projection:I2(t.parent)}function Ny(t,{forwardMotionProps:e=!1}={},n,r){n&&jU(n);const i=V_(t)?i5:r5;function o(a,l){let u;const c={...b.useContext(D_),...a,layoutId:c5(a)},{isStatic:f}=c,h=$U(a),p=i(a,f);if(!f&&c_){f5();const m=d5(c);u=m.MeasureLayout,h.visualElement=l5(t,p,c,r,m.ProjectionNode)}return M.jsxs(_m.Provider,{value:h,children:[u&&h.visualElement?M.jsx(u,{visualElement:h.visualElement,...c}):null,e5(t,a,s5(p,h.visualElement,l),p,f,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const s=b.forwardRef(o);return s[o5]=t,s}function c5({layoutId:t}){const e=b.useContext(l_).id;return e&&t!==void 0?e+"-"+t:t}function f5(t,e){b.useContext(g2).strict}function d5(t){const{drag:e,layout:n}=cl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function h5(t,e){if(typeof Proxy>"u")return Ny;const n=new Map,r=(o,s)=>Ny(o,s,t,e),i=(o,s)=>r(o,s);return new Proxy(i,{get:(o,s)=>s==="create"?r:(n.has(s)||n.set(s,Ny(s,void 0,t,e)),n.get(s))})}function C2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function p5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function m5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function jy(t){return t===void 0||t===1}function M0({scale:t,scaleX:e,scaleY:n}){return!jy(t)||!jy(e)||!jy(n)}function is(t){return M0(t)||O2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function O2(t){return sS(t.x)||sS(t.y)}function sS(t){return t&&t!=="0%"}function tp(t,e,n){const r=t-n,i=e*r;return n+i}function aS(t,e,n,r,i){return i!==void 0&&(t=tp(t,i,r)),tp(t,n,r)+e}function N0(t,e=0,n=1,r,i){t.min=aS(t.min,e,n,r,i),t.max=aS(t.max,e,n,r,i)}function k2(t,{x:e,y:n}){N0(t.x,e.translate,e.scale,e.originPoint),N0(t.y,n.translate,n.scale,n.originPoint)}const lS=.999999999999,uS=1.0000000000001;function g5(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ba(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,k2(t,s)),r&&is(o.latestValues)&&Ba(t,o.latestValues))}e.x<uS&&e.x>lS&&(e.x=1),e.y<uS&&e.y>lS&&(e.y=1)}function Fa(t,e){t.min=t.min+e,t.max=t.max+e}function cS(t,e,n,r,i=.5){const o=nt(t.min,t.max,i);N0(t,e,n,o,r)}function Ba(t,e){cS(t.x,e.x,e.scaleX,e.scale,e.originX),cS(t.y,e.y,e.scaleY,e.scale,e.originY)}function D2(t,e){return C2(m5(t.getBoundingClientRect(),e))}function y5(t,e,n){const r=D2(t,n),{scroll:i}=e;return i&&(Fa(r.x,i.offset.x),Fa(r.y,i.offset.y)),r}const fS=()=>({translate:0,scale:1,origin:0,originPoint:0}),$a=()=>({x:fS(),y:fS()}),dS=()=>({min:0,max:0}),mt=()=>({x:dS(),y:dS()}),j0={current:null},R2={current:!1};function v5(){if(R2.current=!0,!!c_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>j0.current=t.matches;t.addEventListener("change",e),e()}else j0.current=!1}const w5=new WeakMap;function _5(t,e,n){for(const r in e){const i=e[r],o=n[r];if(cn(i))t.addValue(r,i);else if(cn(o))t.addValue(r,ul(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,ul(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const hS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class b5{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=P_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Dn.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Qe.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=xm(n),this.isVariantNode=v2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&cn(p)&&p.set(l[h])}}mount(e){var n;this.current=e,w5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),R2.current||v5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:j0.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Co(this.notifyUpdate),Co(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=jl.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Qe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in cl){const n=cl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<hS.length;r++){const i=hS[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=e[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=_5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ul(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(AR(r)||PR(r))?r=parseFloat(r):!OU(r)&&Oo.test(n)&&(r=l2(e,n)),this.setBaseTarget(e,cn(r)?r.get():r)),cn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=L_(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!cn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new m_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){O_.render(this.render)}}class M2 extends b5{constructor(){super(...arguments),this.KeyframeResolver=vU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function N2(t,{style:e,vars:n},r,i){const o=t.style;let s;for(s in e)o[s]=e[s];i==null||i.applyProjectionStyles(o,r);for(s in n)o.setProperty(s,n[s])}function x5(t){return window.getComputedStyle(t)}class E5 extends M2{constructor(){super(...arguments),this.type="html",this.renderInstance=N2}readValueFromInstance(e,n){var r;if(jl.has(n))return(r=this.projection)!=null&&r.isProjecting?P0(n):V6(e,n);{const i=x5(e),o=(v_(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return D2(e,n)}build(e,n,r){N_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return F_(e,n,r)}}const j2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function T5(t,e,n,r){N2(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(j2.has(i)?i:B_(i),e.attrs[i])}class A5 extends M2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(jl.has(n)){const r=a2(n);return r&&r.default||0}return n=j2.has(n)?n:B_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return A2(e,n,r)}build(e,n,r){b2(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){T5(e,n,r,i)}mount(e){this.isSVGTag=E2(e.tagName),super.mount(e)}}const S5=(t,e)=>V_(t)?new A5(e):new E5(e,{allowProjection:t!==b.Fragment});function Qa(t,e,n){const r=t.getProps();return L_(r,e,n!==void 0?n:r.custom,t)}const V0=t=>Array.isArray(t);function P5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ul(n))}function I5(t){return V0(t)?t[t.length-1]||0:t}function C5(t,e){const n=Qa(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const a=I5(o[s]);P5(t,s,a)}}function O5(t){return!!(cn(t)&&t.add)}function L0(t,e){const n=t.getValue("willChange");if(O5(n))return n.add(e);if(!n&&Oi.WillChange){const r=new Oi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function V2(t){return t.props[S2]}const k5=t=>t!==null;function D5(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(k5),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const R5={type:"spring",stiffness:500,damping:25,restSpeed:10},M5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),N5={type:"keyframes",duration:.8},j5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},V5=(t,{keyframes:e})=>e.length>2?N5:jl.has(t)?t.startsWith("scale")?M5(e[1]):R5:j5;function L5({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const $_=(t,e,n,r={},i,o)=>s=>{const a=I_(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Xr(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:o?void 0:i};L5(a)||Object.assign(c,V5(t,c)),c.duration&&(c.duration=Xr(c.duration)),c.repeatDelay&&(c.repeatDelay=Xr(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(D0(c),c.delay===0&&(f=!0)),(Oi.instantAnimations||Oi.skipAnimations)&&(f=!0,D0(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,f&&!o&&e.get()!==void 0){const h=D5(c.keyframes,a);if(h!==void 0){Qe.update(()=>{c.onUpdate(h),c.onComplete()});return}}return a.isSync?new S_(c):new sU(c)};function F5({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function L2(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...a}=e;r&&(o=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const c in a){const f=t.getValue(c,t.latestValues[c]??null),h=a[c];if(h===void 0||u&&F5(u,c))continue;const p={delay:n,...I_(o||{},c)},m=f.get();if(m!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===m&&!p.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const v=V2(t);if(v){const w=window.MotionHandoffAnimation(v,c,Qe);w!==null&&(p.startTime=w,g=!0)}}L0(t,c),f.start($_(c,f,h,t.shouldReduceMotion&&i2.has(c)?{type:!1}:p,t,g));const _=f.animation;_&&l.push(_)}return s&&Promise.all(l).then(()=>{Qe.update(()=>{s&&C5(t,s)})}),l}function F2(t,e,n,r=0,i=1){const o=Array.from(t).sort((u,c)=>u.sortNodePosition(c)).indexOf(e),s=t.size,a=(s-1)*r;return typeof n=="function"?n(o,s):i===1?o*r:a-o*r}function F0(t,e,n={}){var l;const r=Qa(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(L2(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:h}=i;return B5(t,e,u,c,f,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,c]=a==="beforeChildren"?[o,s]:[s,o];return u().then(()=>c())}else return Promise.all([o(),s(n.delay)])}function B5(t,e,n=0,r=0,i=0,o=1,s){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(F0(l,e,{...s,delay:n+(typeof r=="function"?0:r)+F2(t.variantChildren,l,r,i,o)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function $5(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>F0(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=F0(t,e,n);else{const i=typeof e=="function"?Qa(t,e,n.custom):e;r=Promise.all(L2(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function B2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const z5=M_.length;function $2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?$2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<z5;n++){const r=M_[n],i=t.props[r];(Fc(i)||i===!1)&&(e[r]=i)}return e}const U5=[...R_].reverse(),K5=R_.length;function W5(t){return e=>Promise.all(e.map(({animation:n,options:r})=>$5(t,n,r)))}function q5(t){let e=W5(t),n=pS(),r=!0;const i=l=>(u,c)=>{var h;const f=Qa(t,c,l==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:m,...g}=f;u={...u,...g,...m}}return u};function o(l){e=l(t)}function s(l){const{props:u}=t,c=$2(t.parent)||{},f=[],h=new Set;let p={},m=1/0;for(let _=0;_<K5;_++){const v=U5[_],w=n[v],x=u[v]!==void 0?u[v]:c[v],P=Fc(x),S=v===l?w.isActive:null;S===!1&&(m=_);let O=x===c[v]&&x!==u[v]&&P;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),w.protectedKeys={...p},!w.isActive&&S===null||!x&&!w.prevProp||bm(x)||typeof x=="boolean")continue;const A=G5(w.prevProp,x);let T=A||v===l&&w.isActive&&!O&&P||_>m&&P,I=!1;const k=Array.isArray(x)?x:[x];let D=k.reduce(i(v),{});S===!1&&(D={});const{prevResolvedValues:N={}}=w,R={...N,...D},se=le=>{T=!0,h.has(le)&&(I=!0,h.delete(le)),w.needsAnimating[le]=!0;const z=t.getValue(le);z&&(z.liveStyle=!1)};for(const le in R){const z=D[le],Y=N[le];if(p.hasOwnProperty(le))continue;let ne=!1;V0(z)&&V0(Y)?ne=!B2(z,Y):ne=z!==Y,ne?z!=null?se(le):h.add(le):z!==void 0&&h.has(le)?se(le):w.protectedKeys[le]=!0}w.prevProp=x,w.prevResolvedValues=D,w.isActive&&(p={...p,...D}),r&&t.blockInitialAnimation&&(T=!1);const me=O&&A;T&&(!me||I)&&f.push(...k.map(le=>{const z={type:v};if(typeof le=="string"&&r&&!me&&t.manuallyAnimateOnMount&&t.parent){const{parent:Y}=t,ne=Qa(Y,le);if(Y.enteringChildren&&ne){const{delayChildren:Ee}=ne.transition||{};z.delay=F2(Y.enteringChildren,t,Ee)}}return{animation:le,options:z}}))}if(h.size){const _={};if(typeof u.initial!="boolean"){const v=Qa(t,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(_.transition=v.transition)}h.forEach(v=>{const w=t.getBaseTarget(v),x=t.getValue(v);x&&(x.liveStyle=!0),_[v]=w??null}),f.push({animation:_})}let g=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(f):Promise.resolve()}function a(l,u){var f;if(n[l].isActive===u)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,u)}),n[l].isActive=u;const c=s(l);for(const h in n)n[h].protectedKeys={};return c}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=pS(),r=!0}}}function G5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!B2(e,t):!1}function es(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pS(){return{animate:es(!0),whileInView:es(),whileHover:es(),whileTap:es(),whileDrag:es(),whileFocus:es(),exit:es()}}class $o{constructor(e){this.isMounted=!1,this.node=e}update(){}}class H5 extends $o{constructor(e){super(e),e.animationState||(e.animationState=q5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();bm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Y5=0;class Q5 extends $o{constructor(){super(...arguments),this.id=Y5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const X5={animation:{Feature:H5},exit:{Feature:Q5}};function $c(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function bf(t){return{point:{x:t.pageX,y:t.pageY}}}const J5=t=>e=>k_(e)&&t(e,bf(e));function ac(t,e,n,r){return $c(t,e,J5(n),r)}const z2=1e-4,Z5=1-z2,e9=1+z2,U2=.01,t9=0-U2,n9=0+U2;function vn(t){return t.max-t.min}function r9(t,e,n){return Math.abs(t-e)<=n}function mS(t,e,n,r=.5){t.origin=r,t.originPoint=nt(e.min,e.max,t.origin),t.scale=vn(n)/vn(e),t.translate=nt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Z5&&t.scale<=e9||isNaN(t.scale))&&(t.scale=1),(t.translate>=t9&&t.translate<=n9||isNaN(t.translate))&&(t.translate=0)}function lc(t,e,n,r){mS(t.x,e.x,n.x,r?r.originX:void 0),mS(t.y,e.y,n.y,r?r.originY:void 0)}function gS(t,e,n){t.min=n.min+e.min,t.max=t.min+vn(e)}function i9(t,e,n){gS(t.x,e.x,n.x),gS(t.y,e.y,n.y)}function yS(t,e,n){t.min=e.min-n.min,t.max=t.min+vn(e)}function uc(t,e,n){yS(t.x,e.x,n.x),yS(t.y,e.y,n.y)}function dr(t){return[t("x"),t("y")]}const K2=({current:t})=>t?t.ownerDocument.defaultView:null,vS=(t,e)=>Math.abs(t-e);function o9(t,e){const n=vS(t.x,e.x),r=vS(t.y,e.y);return Math.sqrt(n**2+r**2)}class W2{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Ly(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=o9(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!m)return;const{point:g}=h,{timestamp:_}=qt;this.history.push({...g,timestamp:_});const{onStart:v,onMove:w}=this.handlers;p||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Vy(p,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Ly(h.type==="pointercancel"?this.lastMoveEventInfo:Vy(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,v),g&&g(h,v)},!k_(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=s,this.contextWindow=i||window;const a=bf(e),l=Vy(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=qt;this.history=[{...u,timestamp:c}];const{onSessionStart:f}=n;f&&f(e,Ly(l,this.history)),this.removeListeners=vf(ac(this.contextWindow,"pointermove",this.handlePointerMove),ac(this.contextWindow,"pointerup",this.handlePointerUp),ac(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Co(this.updatePoint)}}function Vy(t,e){return e?{point:e(t.point)}:t}function wS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ly({point:t},e){return{point:t,delta:wS(t,q2(e)),offset:wS(t,s9(e)),velocity:a9(e,.1)}}function s9(t){return t[0]}function q2(t){return t[t.length-1]}function a9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=q2(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Xr(e)));)n--;if(!r)return{x:0,y:0};const o=Jr(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function l9(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?nt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?nt(n,t,r.max):Math.min(t,n)),t}function _S(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function u9(t,{top:e,left:n,bottom:r,right:i}){return{x:_S(t.x,n,i),y:_S(t.y,e,r)}}function bS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function c9(t,e){return{x:bS(t.x,e.x),y:bS(t.y,e.y)}}function f9(t,e){let n=.5;const r=vn(t),i=vn(e);return i>r?n=jc(e.min,e.max-r,t.min):r>i&&(n=jc(t.min,t.max-i,e.min)),Ci(0,1,n)}function d9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const B0=.35;function h9(t=B0){return t===!1?t=0:t===!0&&(t=B0),{x:xS(t,"left","right"),y:xS(t,"top","bottom")}}function xS(t,e,n){return{min:ES(t,e),max:ES(t,n)}}function ES(t,e){return typeof t=="number"?t:t[e]||0}const p9=new WeakMap;class m9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(bf(f).point)},s=(f,h)=>{const{drag:p,dragPropagation:m,onDragStart:g}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xU(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dr(v=>{let w=this.getAxisMotionValue(v).get()||0;if(Zr.test(w)){const{projection:x}=this.visualElement;if(x&&x.layout){const P=x.layout.layoutBox[v];P&&(w=vn(P)*(parseFloat(w)/100))}}this.originPoint[v]=w}),g&&Qe.postRender(()=>g(f,h)),L0(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},a=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:g,onDrag:_}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:v}=h;if(m&&this.currentDirection===null){this.currentDirection=g9(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),_&&_(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>dr(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new W2(e,{onSessionStart:o,onStart:s,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:K2(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Qe.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Rd(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=l9(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&La(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=u9(r.layoutBox,e):this.constraints=!1,this.elastic=h9(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&dr(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=d9(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!La(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=y5(r,i.root,this.visualElement.getTransformPagePoint());let s=c9(i.layout.layoutBox,o);if(n){const a=n(p5(s));this.hasMutatedConstraints=!!a,a&&(s=C2(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=dr(c=>{if(!Rd(c,n,this.currentDirection))return;let f=l&&l[c]||{};s&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:r?e[c]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(c,m)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return L0(this.visualElement,e),r.start($_(e,r,0,n,this.visualElement,!1))}stopAnimation(){dr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){dr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){dr(n=>{const{drag:r}=this.getProps();if(!Rd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(e[n]-nt(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!La(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};dr(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const l=a.get();i[s]=f9({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),dr(s=>{if(!Rd(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(nt(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;p9.set(this.visualElement,this);const e=this.visualElement.current,n=ac(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();La(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Qe.read(r);const s=$c(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(dr(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=B0,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function Rd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function g9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class y9 extends $o{constructor(e){super(e),this.removeGroupControls=br,this.removeListeners=br,this.controls=new m9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||br}unmount(){this.removeGroupControls(),this.removeListeners()}}const TS=t=>(e,n)=>{t&&Qe.postRender(()=>t(e,n))};class v9 extends $o{constructor(){super(...arguments),this.removePointerDownListener=br}onPointerDown(e){this.session=new W2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:K2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:TS(e),onStart:TS(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&Qe.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=ac(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function AS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Eu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ue.test(t))t=parseFloat(t);else return t;const n=AS(t,e.target.x),r=AS(t,e.target.y);return`${n}% ${r}%`}},w9={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Oo.parse(t);if(i.length>5)return r;const o=Oo.createTransformer(t),s=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=a,i[1+s]/=l;const u=nt(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),o(i)}};let Fy=!1;class _9 extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;zU(b9),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),Fy&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),gh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:s}=r;return s&&(s.isPresent=o,Fy=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||Qe.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),O_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Fy=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function G2(t){const[e,n]=m2(),r=b.useContext(l_);return M.jsx(_9,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(P2),isPresent:e,safeToRemove:n})}const b9={borderRadius:{...Eu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Eu,borderTopRightRadius:Eu,borderBottomLeftRadius:Eu,borderBottomRightRadius:Eu,boxShadow:w9};function x9(t,e,n){const r=cn(t)?t:ul(t);return r.start($_("",r,e,n)),r.animation}const E9=(t,e)=>t.depth-e.depth;class T9{constructor(){this.children=[],this.isDirty=!1}add(e){f_(this.children,e),this.isDirty=!0}remove(e){d_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(E9),this.isDirty=!1,this.children.forEach(e)}}function A9(t,e){const n=Dn.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Co(r),t(o-e))};return Qe.setup(r,!0),()=>Co(r)}const H2=["TopLeft","TopRight","BottomLeft","BottomRight"],S9=H2.length,SS=t=>typeof t=="string"?parseFloat(t):t,PS=t=>typeof t=="number"||ue.test(t);function P9(t,e,n,r,i,o){i?(t.opacity=nt(0,n.opacity??1,I9(r)),t.opacityExit=nt(e.opacity??1,0,C9(r))):o&&(t.opacity=nt(e.opacity??1,n.opacity??1,r));for(let s=0;s<S9;s++){const a=`border${H2[s]}Radius`;let l=IS(e,a),u=IS(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||PS(l)===PS(u)?(t[a]=Math.max(nt(SS(l),SS(u),r),0),(Zr.test(u)||Zr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=nt(e.rotate||0,n.rotate||0,r))}function IS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const I9=Y2(0,.5,NR),C9=Y2(.5,.95,br);function Y2(t,e,n){return r=>r<t?0:r>e?1:n(jc(t,e,r))}function CS(t,e){t.min=e.min,t.max=e.max}function ar(t,e){CS(t.x,e.x),CS(t.y,e.y)}function OS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function kS(t,e,n,r,i){return t-=e,t=tp(t,1/n,r),i!==void 0&&(t=tp(t,1/i,r)),t}function O9(t,e=0,n=1,r=.5,i,o=t,s=t){if(Zr.test(e)&&(e=parseFloat(e),e=nt(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=nt(o.min,o.max,r);t===o&&(a-=e),t.min=kS(t.min,e,n,a,i),t.max=kS(t.max,e,n,a,i)}function DS(t,e,[n,r,i],o,s){O9(t,e[n],e[r],e[i],e.scale,o,s)}const k9=["x","scaleX","originX"],D9=["y","scaleY","originY"];function RS(t,e,n,r){DS(t.x,e,k9,n?n.x:void 0,r?r.x:void 0),DS(t.y,e,D9,n?n.y:void 0,r?r.y:void 0)}function MS(t){return t.translate===0&&t.scale===1}function Q2(t){return MS(t.x)&&MS(t.y)}function NS(t,e){return t.min===e.min&&t.max===e.max}function R9(t,e){return NS(t.x,e.x)&&NS(t.y,e.y)}function jS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function X2(t,e){return jS(t.x,e.x)&&jS(t.y,e.y)}function VS(t){return vn(t.x)/vn(t.y)}function LS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class M9{constructor(){this.members=[]}add(e){f_(this.members,e),e.scheduleRender()}remove(e){if(d_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function N9(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:h,skewX:p,skewY:m}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const By=["","X","Y","Z"],j9=1e3;let V9=0;function $y(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function J2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=V2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Qe,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&J2(r)}function Z2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=V9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(B9),this.nodes.forEach(K9),this.nodes.forEach(W9),this.nodes.forEach($9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new T9)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new m_),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=p2(s)&&!IU(s),this.instance=s;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let c,f=0;const h=()=>this.root.updateBlockedByResize=!1;Qe.read(()=>{f=window.innerWidth}),t(s,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,c&&c(),c=A9(h,250),gh.hasAnimatedSinceResize&&(gh.hasAnimatedSinceResize=!1,this.nodes.forEach($S)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||Q9,{onLayoutAnimationStart:g,onLayoutAnimationComplete:_}=u.getProps(),v=!this.targetLayout||!X2(this.targetLayout,p),w=!f&&h;if(this.options.layoutRoot||this.resumeFrom||w||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...I_(m,"layout"),onPlay:g,onComplete:_};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(c,w)}else f||$S(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Co(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(q9),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&J2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(FS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(BS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(U9),this.nodes.forEach(L9),this.nodes.forEach(F9)):this.nodes.forEach(BS),this.clearAllSnapshots();const a=Dn.now();qt.delta=Ci(0,1e3/60,a-qt.timestamp),qt.timestamp=a,qt.isProcessing=!0,Cy.update.process(qt),Cy.preRender.process(qt),Cy.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,O_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(z9),this.sharedNodes.forEach(G9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vn(this.snapshot.measuredBox.x)&&!vn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Q2(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&this.instance&&(a||is(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),X9(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:s}=this.options;if(!s)return mt();const a=s.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(J9))){const{scroll:c}=this.root;c&&(Fa(a.x,c.offset.x),Fa(a.y,c.offset.y))}return a}removeElementScroll(s){var l;const a=mt();if(ar(a,s),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:h}=c;c!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&ar(a,s),Fa(a.x,f.offset.x),Fa(a.y,f.offset.y))}return a}applyTransform(s,a=!1){const l=mt();ar(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ba(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),is(c.latestValues)&&Ba(l,c.latestValues)}return is(this.latestValues)&&Ba(l,this.latestValues),l}removeTransform(s){const a=mt();ar(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!is(u.latestValues))continue;M0(u.latestValues)&&u.updateSnapshot();const c=mt(),f=u.measurePageBox();ar(c,f),RS(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return is(this.latestValues)&&RS(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:f}=this.options;if(!(!this.layout||!(c||f))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),uc(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=mt(),this.targetWithTransforms=mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ar(this.target,this.layout.layoutBox),k2(this.target,this.targetDelta)):ar(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),uc(this.relativeTargetOrigin,this.target,p.target),ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||M0(this.parent.latestValues)||O2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var m;const s=this.getLead(),a=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;ar(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;g5(this.layoutCorrected,this.treeScale,this.path,a),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=mt());const{target:p}=s;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(OS(this.prevProjectionDelta.x,this.projectionDelta.x),OS(this.prevProjectionDelta.y,this.projectionDelta.y)),lc(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!LS(this.projectionDelta.x,this.prevProjectionDelta.x)||!LS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$a(),this.projectionDelta=$a(),this.projectionDeltaWithTransform=$a()}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=$a();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=mt(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,_=this.getStack(),v=!_||_.members.length<=1,w=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(Y9));this.animationProgress=0;let x;this.mixTargetDelta=P=>{const S=P/1e3;zS(f.x,s.x,S),zS(f.y,s.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(uc(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),H9(this.relativeTarget,this.relativeTargetOrigin,h,S),x&&R9(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=mt()),ar(x,this.relativeTarget)),g&&(this.animationValues=c,P9(c,u,this.latestValues,S,w,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Co(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{gh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ul(0)),this.currentAnimation=x9(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),s.onUpdate&&s.onUpdate(c)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(j9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&eM(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||mt();const f=vn(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=vn(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}ar(a,l),Ba(a,c),lc(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new M9),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var a;const{layoutId:s}=this.options;return s?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:s}=this.options;return s?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&$y("z",s,u,this.animationValues);for(let c=0;c<By.length;c++)$y(`rotate${By[c]}`,s,u,this.animationValues),$y(`skew${By[c]}`,s,u,this.animationValues);s.render();for(const c in u)s.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);s.scheduleRender()}applyProjectionStyles(s,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=mh(a==null?void 0:a.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=mh(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!is(this.latestValues)&&(s.transform=l?l({},""):"none",this.hasProjected=!1);return}s.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=N9(this.projectionDeltaWithTransform,this.treeScale,c);l&&(f=l(c,f)),s.transform=f;const{x:h,y:p}=this.projectionDelta;s.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,u.animationValues?s.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:s.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const m in Bc){if(c[m]===void 0)continue;const{correct:g,applyTo:_,isCSSVariable:v}=Bc[m],w=f==="none"?c[m]:g(c[m],u);if(_){const x=_.length;for(let P=0;P<x;P++)s[_[P]]=w}else v?this.options.visualElement.renderState.vars[m]=w:s[m]=w}this.options.layoutId&&(s.pointerEvents=u===this?mh(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(FS),this.root.sharedNodes.clear()}}}function L9(t){t.updateLayout()}function F9(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=e.source!==t.layout.source;o==="size"?dr(f=>{const h=s?e.measuredBox[f]:e.layoutBox[f],p=vn(h);h.min=r[f].min,h.max=h.min+p}):eM(o,e.layoutBox,r)&&dr(f=>{const h=s?e.measuredBox[f]:e.layoutBox[f],p=vn(r[f]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const a=$a();lc(a,r,e.layoutBox);const l=$a();s?lc(l,t.applyTransform(i,!0),e.measuredBox):lc(l,r,e.layoutBox);const u=!Q2(a);let c=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const m=mt();uc(m,e.layoutBox,h.layoutBox);const g=mt();uc(g,r,p.layoutBox),X2(m,g)||(c=!0),f.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function B9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function z9(t){t.clearSnapshot()}function FS(t){t.clearMeasurements()}function BS(t){t.isLayoutDirty=!1}function U9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function $S(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function K9(t){t.resolveTargetDelta()}function W9(t){t.calcProjection()}function q9(t){t.resetSkewAndRotation()}function G9(t){t.removeLeadSnapshot()}function zS(t,e,n){t.translate=nt(e.translate,0,n),t.scale=nt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function US(t,e,n,r){t.min=nt(e.min,n.min,r),t.max=nt(e.max,n.max,r)}function H9(t,e,n,r){US(t.x,e.x,n.x,r),US(t.y,e.y,n.y,r)}function Y9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Q9={duration:.45,ease:[.4,0,.1,1]},KS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),WS=KS("applewebkit/")&&!KS("chrome/")?Math.round:br;function qS(t){t.min=WS(t.min),t.max=WS(t.max)}function X9(t){qS(t.x),qS(t.y)}function eM(t,e,n){return t==="position"||t==="preserve-aspect"&&!r9(VS(e),VS(n),.2)}function J9(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Z9=Z2({attachResizeListener:(t,e)=>$c(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zy={current:void 0},tM=Z2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!zy.current){const t=new Z9({});t.mount(window),t.setOptions({layoutScroll:!0}),zy.current=t}return zy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),eK={pan:{Feature:v9},drag:{Feature:y9,ProjectionNode:tM,MeasureLayout:G2}};function GS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Qe.postRender(()=>o(e,bf(e)))}class tK extends $o{mount(){const{current:e}=this.node;e&&(this.unmount=EU(e,(n,r)=>(GS(this.node,r,"Start"),i=>GS(this.node,i,"End"))))}unmount(){}}class nK extends $o{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vf($c(this.node.current,"focus",()=>this.onFocus()),$c(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function HS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Qe.postRender(()=>o(e,bf(e)))}class rK extends $o{mount(){const{current:e}=this.node;e&&(this.unmount=PU(e,(n,r)=>(HS(this.node,r,"Start"),(i,{success:o})=>HS(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $0=new WeakMap,Uy=new WeakMap,iK=t=>{const e=$0.get(t.target);e&&e(t)},oK=t=>{t.forEach(iK)};function sK({root:t,...e}){const n=t||document;Uy.has(n)||Uy.set(n,{});const r=Uy.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(oK,{root:t,...e})),r[i]}function aK(t,e,n){const r=sK(e);return $0.set(t,n),r.observe(t),()=>{$0.delete(t),r.unobserve(t)}}const lK={some:0,all:1};class uK extends $o{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:lK[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),h=u?c:f;h&&h(l)};return aK(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(cK(e,n))&&this.startObserver()}unmount(){}}function cK({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const fK={inView:{Feature:uK},tap:{Feature:rK},focus:{Feature:nK},hover:{Feature:tK}},dK={layout:{ProjectionNode:tM,MeasureLayout:G2}},hK={...X5,...fK,...eK,...dK},cs=h5(hK,S5);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mK=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),YS=t=>{const e=mK(t);return e.charAt(0).toUpperCase()+e.slice(1)},nM=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),gK=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>b.createElement("svg",{ref:l,...yK,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:nM("lucide",i),...!o&&!gK(a)&&{"aria-hidden":"true"},...a},[...s.map(([u,c])=>b.createElement(u,c)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=(t,e)=>{const n=b.forwardRef(({className:r,...i},o)=>b.createElement(vK,{ref:o,iconNode:e,className:nM(`lucide-${pK(YS(t))}`,`lucide-${t}`,r),...i}));return n.displayName=YS(t),n};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],_K=Pr("download",wK);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],QS=Pr("message-circle",bK);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],rM=Pr("pen-line",xK);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],iM=Pr("piggy-bank",EK);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],oM=Pr("plus",TK);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],SK=Pr("search",AK);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],IK=Pr("send",PK);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],OK=Pr("trash-2",CK);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],sM=Pr("trending-down",kK);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ky=Pr("trending-up",DK);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],MK=Pr("wallet",RK);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jK=Pr("x",NK);function aM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=aM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ce(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=aM(t))&&(r&&(r+=" "),r+=e);return r}var Em={},lM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(lM);var z_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(z_);var U_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(U_);var Tm={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let o=0,s="",a="",l=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const u=n[o];a?u==="\\"&&o+1<i?(o++,s+=n[o]):u===a?a="":s+=u:l?u==='"'||u==="'"?a=u:u==="]"?(l=!1,r.push(s),s=""):s+=u:u==="["?(l=!0,s&&(r.push(s),s="")):u==="."?s&&(r.push(s),s=""):s+=u,o++}return s&&r.push(s),r}t.toPath=e})(Tm);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lM,n=z_,r=U_,i=Tm;function o(a,l,u){if(a==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const c=a[l];return c===void 0?n.isDeepKey(l)?o(a,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=a[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(a,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const c=a[l];return c===void 0?u:c}}}function s(a,l,u){if(l.length===0)return u;let c=a;for(let f=0;f<l.length;f++){if(c==null||e.isUnsafeProperty(l[f]))return u;c=c[l[f]]}return c===void 0?u:c}t.get=o})(Em);var VK=Em.get;const ko=oi(VK);var uM={exports:{}},Be={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_=Symbol.for("react.transitional.element"),W_=Symbol.for("react.portal"),Am=Symbol.for("react.fragment"),Sm=Symbol.for("react.strict_mode"),Pm=Symbol.for("react.profiler"),Im=Symbol.for("react.consumer"),Cm=Symbol.for("react.context"),Om=Symbol.for("react.forward_ref"),km=Symbol.for("react.suspense"),Dm=Symbol.for("react.suspense_list"),Rm=Symbol.for("react.memo"),Mm=Symbol.for("react.lazy"),LK=Symbol.for("react.view_transition"),FK=Symbol.for("react.client.reference");function Ir(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case K_:switch(t=t.type,t){case Am:case Pm:case Sm:case km:case Dm:case LK:return t;default:switch(t=t&&t.$$typeof,t){case Cm:case Om:case Mm:case Rm:return t;case Im:return t;default:return e}}case W_:return e}}}Be.ContextConsumer=Im;Be.ContextProvider=Cm;Be.Element=K_;Be.ForwardRef=Om;Be.Fragment=Am;Be.Lazy=Mm;Be.Memo=Rm;Be.Portal=W_;Be.Profiler=Pm;Be.StrictMode=Sm;Be.Suspense=km;Be.SuspenseList=Dm;Be.isContextConsumer=function(t){return Ir(t)===Im};Be.isContextProvider=function(t){return Ir(t)===Cm};Be.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===K_};Be.isForwardRef=function(t){return Ir(t)===Om};Be.isFragment=function(t){return Ir(t)===Am};Be.isLazy=function(t){return Ir(t)===Mm};Be.isMemo=function(t){return Ir(t)===Rm};Be.isPortal=function(t){return Ir(t)===W_};Be.isProfiler=function(t){return Ir(t)===Pm};Be.isStrictMode=function(t){return Ir(t)===Sm};Be.isSuspense=function(t){return Ir(t)===km};Be.isSuspenseList=function(t){return Ir(t)===Dm};Be.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Am||t===Pm||t===Sm||t===km||t===Dm||typeof t=="object"&&t!==null&&(t.$$typeof===Mm||t.$$typeof===Rm||t.$$typeof===Cm||t.$$typeof===Im||t.$$typeof===Om||t.$$typeof===FK||t.getModuleId!==void 0)};Be.typeOf=Ir;uM.exports=Be;var BK=uM.exports,Bt=t=>t===0?0:t>0?1:-1,Fn=t=>typeof t=="number"&&t!=+t,_s=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,G=t=>(typeof t=="number"||t instanceof Number)&&!Fn(t),ti=t=>G(t)||typeof t=="string",$K=0,zc=t=>{var e=++$K;return"".concat(t||"").concat(e)},xn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!G(e)&&typeof e!="string")return r;var o;if(_s(e)){if(n==null)return r;var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Fn(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},cM=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1},XS=(t,e)=>G(t)&&G(e)?n=>t+n*(e-t):()=>e;function mr(t,e,n){return G(t)&&G(e)?t+n*(e-t):e}function fM(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):ko(r,e))===n)}var Je=t=>t===null||typeof t>"u",xf=t=>Je(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),zK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function q_(t){if(typeof t!="string")return!1;var e=zK;return e.includes(t)}var UK=["viewBox","children"],JS=["points","pathLength"],Wy={svg:UK,polygon:JS,polyline:JS},G_=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(b.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{q_(i)&&(r[i]=e||(o=>n[i](n,o)))}),r},KK=(t,e,n)=>r=>(t(e,n,r),null),Ef=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];q_(i)&&typeof o=="function"&&(r||(r={}),r[i]=KK(o,e,n))}),r},WK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function dM(t){if(typeof t!="string")return!1;var e=WK;return e.includes(t)}function si(t){var e=Object.entries(t).filter(n=>{var[r]=n;return dM(r)});return Object.fromEntries(e)}var ZS=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",eP=null,qy=null,hM=t=>{if(t===eP&&Array.isArray(qy))return qy;var e=[];return b.Children.forEach(t,n=>{Je(n)||(BK.isFragment(n)?e=e.concat(hM(n.props.children)):e.push(n))}),qy=e,eP=t,e};function Tf(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>ZS(i)):r=[ZS(e)],hM(t).forEach(i=>{var o=ko(i,"type.displayName")||ko(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var pM=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,qK=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var o=(i=r&&(Wy==null?void 0:Wy[r]))!==null&&i!==void 0?i:[],s=e.startsWith("data-"),a=typeof t!="function"&&(!!r&&o.includes(e)||dM(e)),l=!!n&&q_(e);return s||a||l},it=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(b.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var s;qK((s=r)===null||s===void 0?void 0:s[o],o,e,n)&&(i[o]=r[o])}),i},GK=["children","width","height","viewBox","className","style","title","desc"];function z0(){return z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z0.apply(null,arguments)}function HK(t,e){if(t==null)return{};var n,r,i=YK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function YK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var H_=b.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:s,style:a,title:l,desc:u}=t,c=HK(t,GK),f=o||{width:r,height:i,x:0,y:0},h=Ce("recharts-surface",s);return b.createElement("svg",z0({},it(c,!0,"svg"),{className:h,width:r,height:i,style:a,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),b.createElement("title",null,l),b.createElement("desc",null,u),n)}),QK=["children","className"];function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U0.apply(null,arguments)}function XK(t,e){if(t==null)return{};var n,r,i=JK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function JK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ot=b.forwardRef((t,e)=>{var{children:n,className:r}=t,i=XK(t,QK),o=Ce("recharts-layer",r);return b.createElement("g",U0({className:o},it(i,!0),{ref:e}),n)}),mM=b.createContext(null),ZK=()=>b.useContext(mM);function $e(t){return function(){return t}}const gM=Math.cos,np=Math.sin,zr=Math.sqrt,rp=Math.PI,Nm=2*rp,K0=Math.PI,W0=2*K0,os=1e-6,e8=W0-os;function yM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function t8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return yM;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class n8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?yM:t8(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,f=a-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>os)if(!(Math.abs(f*l-u*c)>os)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,m=i-a,g=l*l+u*u,_=p*p+m*m,v=Math.sqrt(g),w=Math.sqrt(h),x=o*Math.tan((K0-Math.acos((g+h-_)/(2*v*w)))/2),P=x/w,S=x/v;Math.abs(P-1)>os&&this._append`L${e+P*c},${n+P*f}`,this._append`A${o},${o},0,0,${+(f*p>c*m)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>os||Math.abs(this._y1-c)>os)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%W0+W0),h>e8?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>os&&this._append`A${r},${r},0,${+(h>=K0)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Y_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new n8(e)}function Q_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vM(t){this._context=t}vM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function jm(t){return new vM(t)}function wM(t){return t[0]}function _M(t){return t[1]}function bM(t,e){var n=$e(!0),r=null,i=jm,o=null,s=Y_(a);t=typeof t=="function"?t:t===void 0?wM:$e(t),e=typeof e=="function"?e:e===void 0?_M:$e(e);function a(l){var u,c=(l=Q_(l)).length,f,h=!1,p;for(r==null&&(o=i(p=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:$e(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:$e(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:$e(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Md(t,e,n){var r=null,i=$e(!0),o=null,s=jm,a=null,l=Y_(u);t=typeof t=="function"?t:t===void 0?wM:$e(+t),e=typeof e=="function"?e:$e(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?_M:$e(+n);function u(f){var h,p,m,g=(f=Q_(f)).length,_,v=!1,w,x=new Array(g),P=new Array(g);for(o==null&&(a=s(w=l())),h=0;h<=g;++h){if(!(h<g&&i(_=f[h],h,f))===v)if(v=!v)p=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),m=h-1;m>=p;--m)a.point(x[m],P[m]);a.lineEnd(),a.areaEnd()}v&&(x[h]=+t(_,h,f),P[h]=+e(_,h,f),a.point(r?+r(_,h,f):x[h],n?+n(_,h,f):P[h]))}if(w)return a=null,w+""||null}function c(){return bM().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:$e(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:$e(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:$e(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:$e(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:$e(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:$e(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:$e(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class xM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function r8(t){return new xM(t,!0)}function i8(t){return new xM(t,!1)}const X_={draw(t,e){const n=zr(e/rp);t.moveTo(n,0),t.arc(0,0,n,0,Nm)}},o8={draw(t,e){const n=zr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},EM=zr(1/3),s8=EM*2,a8={draw(t,e){const n=zr(e/s8),r=n*EM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},l8={draw(t,e){const n=zr(e),r=-n/2;t.rect(r,r,n,n)}},u8=.8908130915292852,TM=np(rp/10)/np(7*rp/10),c8=np(Nm/10)*TM,f8=-gM(Nm/10)*TM,d8={draw(t,e){const n=zr(e*u8),r=c8*n,i=f8*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Nm*o/5,a=gM(s),l=np(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},Gy=zr(3),h8={draw(t,e){const n=-zr(e/(Gy*3));t.moveTo(0,n*2),t.lineTo(-Gy*n,-n),t.lineTo(Gy*n,-n),t.closePath()}},lr=-.5,ur=zr(3)/2,q0=1/zr(12),p8=(q0/2+1)*3,m8={draw(t,e){const n=zr(e/p8),r=n/2,i=n*q0,o=r,s=n*q0+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(lr*r-ur*i,ur*r+lr*i),t.lineTo(lr*o-ur*s,ur*o+lr*s),t.lineTo(lr*a-ur*l,ur*a+lr*l),t.lineTo(lr*r+ur*i,lr*i-ur*r),t.lineTo(lr*o+ur*s,lr*s-ur*o),t.lineTo(lr*a+ur*l,lr*l-ur*a),t.closePath()}};function g8(t,e){let n=null,r=Y_(i);t=typeof t=="function"?t:$e(t||X_),e=typeof e=="function"?e:$e(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:$e(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:$e(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function ip(){}function op(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function AM(t){this._context=t}AM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:op(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:op(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function y8(t){return new AM(t)}function SM(t){this._context=t}SM.prototype={areaStart:ip,areaEnd:ip,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:op(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function v8(t){return new SM(t)}function PM(t){this._context=t}PM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:op(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function w8(t){return new PM(t)}function IM(t){this._context=t}IM.prototype={areaStart:ip,areaEnd:ip,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function _8(t){return new IM(t)}function tP(t){return t<0?-1:1}function nP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(tP(o)+tP(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function rP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Hy(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function sp(t){this._context=t}sp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hy(this,this._t0,rP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Hy(this,rP(this,n=nP(this,t,e)),n);break;default:Hy(this,this._t0,n=nP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function CM(t){this._context=new OM(t)}(CM.prototype=Object.create(sp.prototype)).point=function(t,e){sp.prototype.point.call(this,e,t)};function OM(t){this._context=t}OM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function b8(t){return new sp(t)}function x8(t){return new CM(t)}function kM(t){this._context=t}kM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=iP(t),i=iP(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function iP(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function E8(t){return new kM(t)}function Vm(t,e){this._context=t,this._t=e}Vm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function T8(t){return new Vm(t,.5)}function A8(t){return new Vm(t,0)}function S8(t){return new Vm(t,1)}function fl(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function G0(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function P8(t,e){return t[e]}function I8(t){const e=[];return e.key=t,e}function C8(){var t=$e([]),e=G0,n=fl,r=P8;function i(o){var s=Array.from(t.apply(this,arguments),I8),a,l=s.length,u=-1,c;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,c=Q_(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:$e(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:$e(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?G0:typeof o=="function"?o:$e(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??fl,i):n},i}function O8(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}fl(t,e)}}function k8(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}fl(t,e)}}function D8(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],f=c[r][1]||0,h=c[r-1][1]||0,p=(f-h)/2,m=0;m<a;++m){var g=t[e[m]],_=g[r][1]||0,v=g[r-1][1]||0;p+=_-v}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,fl(t,e)}}var R8=["type","size","sizeType"];function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H0.apply(null,arguments)}function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){M8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M8(t,e,n){return(e=N8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N8(t){var e=j8(t,"string");return typeof e=="symbol"?e:e+""}function j8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V8(t,e){if(t==null)return{};var n,r,i=L8(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function L8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var DM={symbolCircle:X_,symbolCross:o8,symbolDiamond:a8,symbolSquare:l8,symbolStar:d8,symbolTriangle:h8,symbolWye:m8},F8=Math.PI/180,B8=t=>{var e="symbol".concat(xf(t));return DM[e]||X_},$8=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*F8;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},z8=(t,e)=>{DM["symbol".concat(xf(t))]=e},J_=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=V8(t,R8),o=sP(sP({},i),{},{type:e,size:n,sizeType:r}),s=()=>{var f=B8(e),h=g8().type(f).size($8(n,r,e));return h()},{className:a,cx:l,cy:u}=o,c=it(o,!0);return l===+l&&u===+u&&n===+n?b.createElement("path",H0({},c,{className:Ce("recharts-symbols",a),transform:"translate(".concat(l,", ").concat(u,")"),d:s()})):null};J_.registerSymbol=z8;function Y0(){return Y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y0.apply(null,arguments)}function aP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(n),!0).forEach(function(r){Z_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z_(t,e,n){return(e=K8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K8(t){var e=W8(t,"string");return typeof e=="symbol"?e:e+""}function W8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cr=32;class eb extends b.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=cr/2,o=cr/6,s=cr/3,a=e.inactive?r:e.color,l=n??e.type;if(l==="none")return null;if(l==="plainline")return b.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:cr,y2:i,className:"recharts-legend-icon"});if(l==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(cr,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return b.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(cr/8,"h").concat(cr,"v").concat(cr*3/4,"h").concat(-cr,"z"),className:"recharts-legend-icon"});if(b.isValidElement(e.legendIcon)){var u=U8({},e);return delete u.legendIcon,b.cloneElement(e.legendIcon,u)}return b.createElement(J_,{fill:a,cx:i,cy:i,size:cr,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:s}=this.props,a={x:0,y:0,width:cr,height:cr},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((c,f)=>{var h=c.formatter||i,p=Ce({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:c.inactive});if(c.type==="none")return null;var m=c.inactive?o:c.color,g=h?h(c.value,c,f):c.value;return b.createElement("li",Y0({className:p,style:l,key:"legend-item-".concat(f)},Ef(this.props,c,f)),b.createElement(H_,{width:n,height:n,viewBox:a,style:u,"aria-label":"".concat(g," legend icon")},this.renderIcon(c,s)),b.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},g))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}Z_(eb,"displayName","Legend");Z_(eb,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var RM={},MM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const s=n[o],a=r(s);i.has(a)||i.set(a,s)}return Array.from(i.values())}t.uniqBy=e})(MM);var tb={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(tb);var NM={},Lm={},jM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(jM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jM;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Lm);var VM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(VM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lm,n=VM;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(NM);var LM={},FM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Em;function n(r){return function(i){return e.get(i,r)}}t.property=n})(FM);var BM={},Yy={},Qy={},nb={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(nb);var rb={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(rb);var Fm={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Fm);var lP;function q8(){return lP||(lP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ib(),n=nb,r=rb,i=Fm;function o(f,h,p){return typeof p!="function"?e.isMatch(f,h):s(f,h,function m(g,_,v,w,x,P){const S=p(g,_,v,w,x,P);return S!==void 0?!!S:s(g,_,m,P)},new Map)}function s(f,h,p,m){if(h===f)return!0;switch(typeof h){case"object":return a(f,h,p,m);case"function":return Object.keys(h).length>0?s(f,{...h},p,m):i.eq(f,h);default:return n.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function a(f,h,p,m){if(h==null)return!0;if(Array.isArray(h))return u(f,h,p,m);if(h instanceof Map)return l(f,h,p,m);if(h instanceof Set)return c(f,h,p,m);const g=Object.keys(h);if(f==null)return g.length===0;if(g.length===0)return!0;if(m&&m.has(h))return m.get(h)===f;m&&m.set(h,f);try{for(let _=0;_<g.length;_++){const v=g[_];if(!r.isPrimitive(f)&&!(v in f)||h[v]===void 0&&f[v]!==void 0||h[v]===null&&f[v]!==null||!p(f[v],h[v],v,f,h,m))return!1}return!0}finally{m&&m.delete(h)}}function l(f,h,p,m){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[g,_]of h.entries()){const v=f.get(g);if(p(v,_,g,f,h,m)===!1)return!1}return!0}function u(f,h,p,m){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const g=new Set;for(let _=0;_<h.length;_++){const v=h[_];let w=!1;for(let x=0;x<f.length;x++){if(g.has(x))continue;const P=f[x];let S=!1;if(p(P,v,_,f,h,m)&&(S=!0),S){g.add(x),w=!0;break}}if(!w)return!1}return!0}function c(f,h,p,m){return h.size===0?!0:f instanceof Set?u([...f],[...h],p,m):!1}t.isMatchWith=o,t.isSetMatch=c}(Qy)),Qy}var uP;function ib(){return uP||(uP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q8();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(Yy)),Yy}var $M={},ob={},sb={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(sb);var Bm={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Bm);var $m={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",s="[object Symbol]",a="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",m="[object Error]",g="[object DataView]",_="[object Uint8Array]",v="[object Uint8ClampedArray]",w="[object Uint16Array]",x="[object Uint32Array]",P="[object BigUint64Array]",S="[object Int8Array]",O="[object Int16Array]",A="[object Int32Array]",T="[object BigInt64Array]",I="[object Float32Array]",k="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=h,t.arrayTag=c,t.bigInt64ArrayTag=T,t.bigUint64ArrayTag=P,t.booleanTag=i,t.dataViewTag=g,t.dateTag=a,t.errorTag=m,t.float32ArrayTag=I,t.float64ArrayTag=k,t.functionTag=f,t.int16ArrayTag=O,t.int32ArrayTag=A,t.int8ArrayTag=S,t.mapTag=l,t.numberTag=r,t.objectTag=p,t.regexpTag=e,t.setTag=u,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=w,t.uint32ArrayTag=x,t.uint8ArrayTag=_,t.uint8ClampedArrayTag=v})($m);var zM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(zM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sb,n=Bm,r=$m,i=rb,o=zM;function s(c,f){return a(c,void 0,c,new Map,f)}function a(c,f,h,p=new Map,m=void 0){const g=m==null?void 0:m(c,f,h,p);if(g!=null)return g;if(i.isPrimitive(c))return c;if(p.has(c))return p.get(c);if(Array.isArray(c)){const _=new Array(c.length);p.set(c,_);for(let v=0;v<c.length;v++)_[v]=a(c[v],v,h,p,m);return Object.hasOwn(c,"index")&&(_.index=c.index),Object.hasOwn(c,"input")&&(_.input=c.input),_}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const _=new RegExp(c.source,c.flags);return _.lastIndex=c.lastIndex,_}if(c instanceof Map){const _=new Map;p.set(c,_);for(const[v,w]of c)_.set(v,a(w,v,h,p,m));return _}if(c instanceof Set){const _=new Set;p.set(c,_);for(const v of c)_.add(a(v,void 0,h,p,m));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(o.isTypedArray(c)){const _=new(Object.getPrototypeOf(c)).constructor(c.length);p.set(c,_);for(let v=0;v<c.length;v++)_[v]=a(c[v],v,h,p,m);return _}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const _=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return p.set(c,_),l(_,c,h,p,m),_}if(typeof File<"u"&&c instanceof File){const _=new File([c],c.name,{type:c.type});return p.set(c,_),l(_,c,h,p,m),_}if(c instanceof Blob){const _=new Blob([c],{type:c.type});return p.set(c,_),l(_,c,h,p,m),_}if(c instanceof Error){const _=new c.constructor;return p.set(c,_),_.message=c.message,_.name=c.name,_.stack=c.stack,_.cause=c.cause,l(_,c,h,p,m),_}if(typeof c=="object"&&u(c)){const _=Object.create(Object.getPrototypeOf(c));return p.set(c,_),l(_,c,h,p,m),_}return c}function l(c,f,h=c,p,m){const g=[...Object.keys(f),...e.getSymbols(f)];for(let _=0;_<g.length;_++){const v=g[_],w=Object.getOwnPropertyDescriptor(c,v);(w==null||w.writable)&&(c[v]=a(f[v],v,h,p,m))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=a,t.copyProperties=l})(ob);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ob;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})($M);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ib(),n=$M;function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(BM);var UM={},KM={},WM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ob,n=$m;function r(i,o){return e.cloneDeepWith(i,(s,a,l,u)=>{const c=o==null?void 0:o(s,a,l,u);if(c!=null)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(f,i),f}case n.argumentsTag:{const f={};return e.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}t.cloneDeepWith=r})(WM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WM;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(KM);var qM={},ab={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(ab);var GM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bm;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(GM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z_,n=ab,r=GM,i=Tm;function o(s,a){let l;if(Array.isArray(a)?l=a:typeof a=="string"&&e.isDeepKey(a)&&(s==null?void 0:s[a])==null?l=i.toPath(a):l=[a],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const f=l[c];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}t.has=o})(qM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ib(),n=U_,r=KM,i=Em,o=qM;function s(a,l){switch(typeof a){case"object":{Object.is(a==null?void 0:a.valueOf(),-0)&&(a="-0");break}case"number":{a=n.toKey(a);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,a);return c===void 0?o.has(u,a):l===void 0?c===void 0:e.isMatch(c,l)}}t.matchesProperty=s})(UM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tb,n=FM,r=BM,i=UM;function o(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=o})(LM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MM,n=tb,r=NM,i=LM;function o(s,a=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(a)):[]}t.uniqBy=o})(RM);var G8=RM.uniqBy;const cP=oi(G8);function HM(t,e,n){return e===!0?cP(t,n):typeof e=="function"?cP(t,e):t}var YM={exports:{}},QM={},XM={exports:{}},JM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dl=b;function H8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Y8=typeof Object.is=="function"?Object.is:H8,Q8=dl.useState,X8=dl.useEffect,J8=dl.useLayoutEffect,Z8=dl.useDebugValue;function eW(t,e){var n=e(),r=Q8({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return J8(function(){i.value=n,i.getSnapshot=e,Xy(i)&&o({inst:i})},[t,n,e]),X8(function(){return Xy(i)&&o({inst:i}),t(function(){Xy(i)&&o({inst:i})})},[t]),Z8(n),n}function Xy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Y8(t,n)}catch{return!0}}function tW(t,e){return e()}var nW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?tW:eW;JM.useSyncExternalStore=dl.useSyncExternalStore!==void 0?dl.useSyncExternalStore:nW;XM.exports=JM;var rW=XM.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm=b,iW=rW;function oW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sW=typeof Object.is=="function"?Object.is:oW,aW=iW.useSyncExternalStore,lW=zm.useRef,uW=zm.useEffect,cW=zm.useMemo,fW=zm.useDebugValue;QM.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=lW(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=cW(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var m=s.value;if(i(m,p))return f=m}return f=p}if(m=f,sW(c,p))return m;var g=r(p);return i!==void 0&&i(m,g)?(c=p,m):(c=p,f=g)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=aW(t,o[0],o[1]);return uW(function(){s.hasValue=!0,s.value=a},[a]),fW(a),a};YM.exports=QM;var dW=YM.exports,lb=b.createContext(null),hW=t=>t,lt=()=>{var t=b.useContext(lb);return t?t.store.dispatch:hW},yh=()=>{},pW=()=>yh,mW=(t,e)=>t===e;function re(t){var e=b.useContext(lb);return dW.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:pW,e?e.store.getState:yh,e?e.store.getState:yh,e?t:yh,mW)}function gW(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function yW(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function vW(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var fP=t=>Array.isArray(t)?t:[t];function wW(t){const e=Array.isArray(t[0])?t[0]:t;return vW(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function _W(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var bW=class{constructor(t){this.value=t}deref(){return this.value}},xW=typeof WeakRef<"u"?WeakRef:bW,EW=0,dP=1;function Nd(){return{s:EW,v:void 0,o:null,p:null}}function ZM(t,e={}){let n=Nd();const{resultEqualityCheck:r}=e;let i,o=0;function s(){var f;let a=n;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=a.o;g===null&&(a.o=g=new WeakMap);const _=g.get(m);_===void 0?(a=Nd(),g.set(m,a)):a=_}else{let g=a.p;g===null&&(a.p=g=new Map);const _=g.get(m);_===void 0?(a=Nd(),g.set(m,a)):a=_}}const u=a;let c;if(a.s===dP)c=a.v;else if(c=t.apply(null,arguments),o++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,c)&&(c=h,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new xW(c):c}return u.s=dP,u.v=c,c}return s.clearCache=()=>{n=Nd(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function TW(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,s=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),gW(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:p=ZM,argsMemoizeOptions:m=[],devModeChecks:g={}}=c,_=fP(h),v=fP(m),w=wW(i),x=f(function(){return o++,u.apply(null,arguments)},..._),P=p(function(){s++;const O=_W(w,arguments);return a=x.apply(null,O),a},...v);return Object.assign(P,{resultFunc:u,memoizedResultFunc:x,dependencies:w,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:f,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var L=TW(ZM),AW=Object.assign((t,e=L)=>{yW(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((s,a,l)=>(s[n[l]]=a,s),{}))},{withTypes:()=>AW}),eN={},tN={},nN={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const s=e(r),a=e(i);if(s===a&&s===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?a-s:s-a}return 0};t.compareValues=n})(nN);var rN={},ub={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(ub);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ub,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||s!=null&&Object.hasOwn(s,o)}t.isKey=i})(rN);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nN,n=rN,r=Tm;function i(o,s,a,l){if(o==null)return[];a=l?void 0:a,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(a)||(a=a==null?[]:[a]),a=a.map(p=>String(p));const u=(p,m)=>{let g=p;for(let _=0;_<m.length&&g!=null;++_)g=g[m[_]];return g},c=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:u(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?u(m,p):typeof m=="object"?m[p]:m,f=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return o.map(p=>({original:p,criteria:f.map(m=>c(m,p))})).slice().sort((p,m)=>{for(let g=0;g<f.length;g++){const _=e.compareValues(p.criteria[g],m.criteria[g],a[g]);if(_!==0)return _}return 0}).map(p=>p.original)}t.orderBy=i})(tN);var iN={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),s=(a,l)=>{for(let u=0;u<a.length;u++){const c=a[u];Array.isArray(c)&&l<o?s(c,l+1):i.push(c)}};return s(n,0),i}t.flatten=e})(iN);var cb={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ab,n=Lm,r=nb,i=Fm;function o(s,a,l){return r.isObject(l)&&(typeof a=="number"&&n.isArrayLike(l)&&e.isIndex(a)&&a<l.length||typeof a=="string"&&a in l)?i.eq(l[a],s):!1}t.isIterateeCall=o})(cb);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tN,n=iN,r=cb;function i(o,...s){const a=s.length;return a>1&&r.isIterateeCall(o,s[0],s[1])?s=[]:a>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(o,n.flatten(s),["asc"])}t.sortBy=i})(eN);var SW=eN.sortBy;const Um=oi(SW);var oN=t=>t.legend.settings,PW=t=>t.legend.size,IW=t=>t.legend.payload,CW=L([IW,oN],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Um(r,n):r});function OW(){return re(CW)}var jd=1;function sN(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-e.height)>jd||Math.abs(s.left-e.left)>jd||Math.abs(s.top-e.top)>jd||Math.abs(s.width-e.width)>jd)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Kt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var kW=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),hP=kW,Jy=()=>Math.random().toString(36).substring(7).split("").join("."),DW={INIT:`@@redux/INIT${Jy()}`,REPLACE:`@@redux/REPLACE${Jy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Jy()}`},ap=DW;function fb(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function aN(t,e,n){if(typeof t!="function")throw new Error(Kt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Kt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Kt(1));return n(aN)(t,e)}let r=t,i=e,o=new Map,s=o,a=0,l=!1;function u(){s===o&&(s=new Map,o.forEach((_,v)=>{s.set(v,_)}))}function c(){if(l)throw new Error(Kt(3));return i}function f(_){if(typeof _!="function")throw new Error(Kt(4));if(l)throw new Error(Kt(5));let v=!0;u();const w=a++;return s.set(w,_),function(){if(v){if(l)throw new Error(Kt(6));v=!1,u(),s.delete(w),o=null}}}function h(_){if(!fb(_))throw new Error(Kt(7));if(typeof _.type>"u")throw new Error(Kt(8));if(typeof _.type!="string")throw new Error(Kt(17));if(l)throw new Error(Kt(9));try{l=!0,i=r(i,_)}finally{l=!1}return(o=s).forEach(w=>{w()}),_}function p(_){if(typeof _!="function")throw new Error(Kt(10));r=_,h({type:ap.REPLACE})}function m(){const _=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Kt(11));function w(){const P=v;P.next&&P.next(c())}return w(),{unsubscribe:_(w)}},[hP](){return this}}}return h({type:ap.INIT}),{dispatch:h,subscribe:f,getState:c,replaceReducer:p,[hP]:m}}function RW(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:ap.INIT})>"u")throw new Error(Kt(12));if(typeof n(void 0,{type:ap.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Kt(13))})}function lN(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const s=e[o];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{RW(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const f=r[c],h=n[f],p=s[f],m=h(p,a);if(typeof m>"u")throw a&&a.type,new Error(Kt(14));u[f]=m,l=l||m!==p}return l=l||r.length!==Object.keys(s).length,l?u:s}}function lp(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function MW(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Kt(15))};const s={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},a=t.map(l=>l(s));return o=lp(...a)(i.dispatch),{...i,dispatch:o}}}function uN(t){return fb(t)&&"type"in t&&typeof t.type=="string"}var cN=Symbol.for("immer-nothing"),pP=Symbol.for("immer-draftable"),er=Symbol.for("immer-state");function Vr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var hl=Object.getPrototypeOf;function $s(t){return!!t&&!!t[er]}function ki(t){var e;return t?fN(t)||Array.isArray(t)||!!t[pP]||!!((e=t.constructor)!=null&&e[pP])||Wm(t)||qm(t):!1}var NW=Object.prototype.constructor.toString();function fN(t){if(!t||typeof t!="object")return!1;const e=hl(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===NW}function up(t,e){Km(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Km(t){const e=t[er];return e?e.type_:Array.isArray(t)?1:Wm(t)?2:qm(t)?3:0}function Q0(t,e){return Km(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function dN(t,e,n){const r=Km(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function jW(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Wm(t){return t instanceof Map}function qm(t){return t instanceof Set}function ss(t){return t.copy_||t.base_}function X0(t,e){if(Wm(t))return new Map(t);if(qm(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=fN(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[er];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[s]})}return Object.create(hl(t),r)}else{const r=hl(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function db(t,e=!1){return Gm(t)||$s(t)||!ki(t)||(Km(t)>1&&(t.set=t.add=t.clear=t.delete=VW),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>db(r,!0))),t}function VW(){Vr(2)}function Gm(t){return Object.isFrozen(t)}var LW={};function zs(t){const e=LW[t];return e||Vr(0,t),e}var Uc;function hN(){return Uc}function FW(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function mP(t,e){e&&(zs("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function J0(t){Z0(t),t.drafts_.forEach(BW),t.drafts_=null}function Z0(t){t===Uc&&(Uc=t.parent_)}function gP(t){return Uc=FW(Uc,t)}function BW(t){const e=t[er];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function yP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[er].modified_&&(J0(e),Vr(4)),ki(t)&&(t=cp(e,t),e.parent_||fp(e,t)),e.patches_&&zs("Patches").generateReplacementPatches_(n[er].base_,t,e.patches_,e.inversePatches_)):t=cp(e,n,[]),J0(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==cN?t:void 0}function cp(t,e,n){if(Gm(e))return e;const r=e[er];if(!r)return up(e,(i,o)=>vP(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return fp(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),up(o,(a,l)=>vP(t,r,i,a,l,n,s)),fp(t,i,!1),n&&t.patches_&&zs("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function vP(t,e,n,r,i,o,s){if($s(i)){const a=o&&e&&e.type_!==3&&!Q0(e.assigned_,r)?o.concat(r):void 0,l=cp(t,i,a);if(dN(n,r,l),$s(l))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(ki(i)&&!Gm(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;cp(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&fp(t,i)}}function fp(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&db(e,n)}function $W(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:hN(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=hb;n&&(i=[r],o=Kc);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var hb={get(t,e){if(e===er)return t;const n=ss(t);if(!Q0(n,e))return zW(t,n,e);const r=n[e];return t.finalized_||!ki(r)?r:r===Zy(t.base_,e)?(ev(t),t.copy_[e]=tw(r,t)):r},has(t,e){return e in ss(t)},ownKeys(t){return Reflect.ownKeys(ss(t))},set(t,e,n){const r=pN(ss(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Zy(ss(t),e),o=i==null?void 0:i[er];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(jW(n,i)&&(n!==void 0||Q0(t.base_,e)))return!0;ev(t),ew(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Zy(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,ev(t),ew(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ss(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Vr(11)},getPrototypeOf(t){return hl(t.base_)},setPrototypeOf(){Vr(12)}},Kc={};up(hb,(t,e)=>{Kc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Kc.deleteProperty=function(t,e){return Kc.set.call(this,t,e,void 0)};Kc.set=function(t,e,n){return hb.set.call(this,t[0],e,n,t[0])};function Zy(t,e){const n=t[er];return(n?ss(n):t)[e]}function zW(t,e,n){var i;const r=pN(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function pN(t,e){if(!(e in t))return;let n=hl(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=hl(n)}}function ew(t){t.modified_||(t.modified_=!0,t.parent_&&ew(t.parent_))}function ev(t){t.copy_||(t.copy_=X0(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var UW=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const s=this;return function(l=o,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Vr(6),r!==void 0&&typeof r!="function"&&Vr(7);let i;if(ki(e)){const o=gP(this),s=tw(e,void 0);let a=!0;try{i=n(s),a=!1}finally{a?J0(o):Z0(o)}return mP(o,r),yP(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===cN&&(i=void 0),this.autoFreeze_&&db(i,!0),r){const o=[],s=[];zs("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}else Vr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...a)=>this.produceWithPatches(s,l=>e(l,...a));let r,i;return[this.produce(e,n,(s,a)=>{r=s,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ki(t)||Vr(8),$s(t)&&(t=bi(t));const e=gP(this),n=tw(t,void 0);return n[er].isManual_=!0,Z0(e),n}finishDraft(t,e){const n=t&&t[er];(!n||!n.isManual_)&&Vr(9);const{scope_:r}=n;return mP(r,e),yP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=zs("Patches").applyPatches_;return $s(t)?r(t,e):this.produce(t,i=>r(i,e))}};function tw(t,e){const n=Wm(t)?zs("MapSet").proxyMap_(t,e):qm(t)?zs("MapSet").proxySet_(t,e):$W(t,e);return(e?e.scope_:hN()).drafts_.push(n),n}function bi(t){return $s(t)||Vr(10,t),mN(t)}function mN(t){if(!ki(t)||Gm(t))return t;const e=t[er];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=X0(t,e.scope_.immer_.useStrictShallowCopy_)}else n=X0(t,!0);return up(n,(r,i)=>{dN(n,r,mN(i))}),e&&(e.finalized_=!1),n}var tr=new UW,gN=tr.produce;tr.produceWithPatches.bind(tr);tr.setAutoFreeze.bind(tr);tr.setUseStrictShallowCopy.bind(tr);tr.applyPatches.bind(tr);tr.createDraft.bind(tr);tr.finishDraft.bind(tr);function yN(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var KW=yN(),WW=yN,qW=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?lp:lp.apply(null,arguments)};function Ar(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Jn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>uN(r)&&r.type===t,n}var vN=class zu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,zu.prototype)}static get[Symbol.species](){return zu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new zu(...e[0].concat(this)):new zu(...e.concat(this))}};function wP(t){return ki(t)?gN(t,()=>{}):t}function Vd(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function GW(t){return typeof t=="boolean"}var HW=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let s=new vN;return n&&(GW(n)?s.push(KW):s.push(WW(n.extraArgument))),s},YW="RTK_autoBatch",_P=t=>e=>{setTimeout(e,t)},QW=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,s=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_P(10):t.type==="callback"?t.queueNotification:_P(t.timeout),u=()=>{s=!1,o&&(o=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const f=()=>i&&c(),h=r.subscribe(f);return a.add(c),()=>{h(),a.delete(c)}},dispatch(c){var f;try{return i=!((f=c==null?void 0:c.meta)!=null&&f[YW]),o=!i,o&&(s||(s=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},XW=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new vN(t);return r&&i.push(QW(typeof r=="object"?r:void 0)),i};function JW(t){const e=HW(),{reducer:n=void 0,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:o=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(fb(n))l=lN(n);else throw new Error(Jn(1));let u;typeof r=="function"?u=r(e):u=e();let c=lp;i&&(c=qW({trace:!1,...typeof i=="object"&&i}));const f=MW(...u),h=XW(f);let p=typeof a=="function"?a(h):h();const m=c(...p);return aN(l,s,m)}function wN(t){const e={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(Jn(28));if(a in e)throw new Error(Jn(29));return e[a]=s,i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function ZW(t){return typeof t=="function"}function e7(t,e){let[n,r,i]=wN(e),o;if(ZW(t))o=()=>wP(t());else{const a=wP(t);o=()=>a}function s(a=o(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,f)=>{if(f)if($s(c)){const p=f(c,l);return p===void 0?c:p}else{if(ki(c))return gN(c,h=>f(h,l));{const h=f(c,l);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},a)}return s.getInitialState=o,s}var t7="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",n7=(t=21)=>{let e="",n=t;for(;n--;)e+=t7[Math.random()*64|0];return e},r7=Symbol.for("rtk-slice-createasyncthunk");function i7(t,e){return`${t}/${e}`}function o7({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[r7];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(Jn(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(a7()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(P,S){const O=typeof P=="string"?P:P.type;if(!O)throw new Error(Jn(12));if(O in u.sliceCaseReducersByType)throw new Error(Jn(13));return u.sliceCaseReducersByType[O]=S,c},addMatcher(P,S){return u.sliceMatchers.push({matcher:P,reducer:S}),c},exposeAction(P,S){return u.actionCreators[P]=S,c},exposeCaseReducer(P,S){return u.sliceCaseReducersByName[P]=S,c}};l.forEach(P=>{const S=a[P],O={reducerName:P,type:i7(o,P),createNotation:typeof i.reducers=="function"};u7(S)?f7(O,S,c,e):l7(O,S,c)});function f(){const[P={},S=[],O=void 0]=typeof i.extraReducers=="function"?wN(i.extraReducers):[i.extraReducers],A={...P,...u.sliceCaseReducersByType};return e7(i.initialState,T=>{for(let I in A)T.addCase(I,A[I]);for(let I of u.sliceMatchers)T.addMatcher(I.matcher,I.reducer);for(let I of S)T.addMatcher(I.matcher,I.reducer);O&&T.addDefaultCase(O)})}const h=P=>P,p=new Map,m=new WeakMap;let g;function _(P,S){return g||(g=f()),g(P,S)}function v(){return g||(g=f()),g.getInitialState()}function w(P,S=!1){function O(T){let I=T[P];return typeof I>"u"&&S&&(I=Vd(m,O,v)),I}function A(T=h){const I=Vd(p,S,()=>new WeakMap);return Vd(I,T,()=>{const k={};for(const[D,N]of Object.entries(i.selectors??{}))k[D]=s7(N,T,()=>Vd(m,T,v),S);return k})}return{reducerPath:P,getSelectors:A,get selectors(){return A(O)},selectSlice:O}}const x={name:o,reducer:_,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...w(s),injectInto(P,{reducerPath:S,...O}={}){const A=S??s;return P.inject({reducerPath:A,reducer:_},O),{...x,...w(A,!0)}}};return x}}function s7(t,e,n,r){function i(o,...s){let a=e(o);return typeof a>"u"&&r&&(a=n()),t(a,...s)}return i.unwrapped=t,i}var or=o7();function a7(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function l7({type:t,reducerName:e,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!c7(r))throw new Error(Jn(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,s?Ar(t,s):Ar(t))}function u7(t){return t._reducerDefinitionType==="asyncThunk"}function c7(t){return t._reducerDefinitionType==="reducerWithPrepare"}function f7({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Jn(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:l,settled:u,options:c}=n,f=i(t,o,c);r.exposeAction(e,f),s&&r.addCase(f.fulfilled,s),a&&r.addCase(f.pending,a),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(e,{fulfilled:s||Ld,pending:a||Ld,rejected:l||Ld,settled:u||Ld})}function Ld(){}var d7="task",_N="listener",bN="completed",pb="cancelled",h7=`task-${pb}`,p7=`task-${bN}`,nw=`${_N}-${pb}`,m7=`${_N}-${bN}`,Hm=class{constructor(t){ny(this,"name","TaskAbortError");ny(this,"message");this.code=t,this.message=`${d7} ${pb} (reason: ${t})`}},mb=(t,e)=>{if(typeof t!="function")throw new TypeError(Jn(32))},dp=()=>{},xN=(t,e=dp)=>(t.catch(e),t),EN=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Os=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},ks=t=>{if(t.aborted){const{reason:e}=t;throw new Hm(e)}};function TN(t,e){let n=dp;return new Promise((r,i)=>{const o=()=>i(new Hm(t.reason));if(t.aborted){o();return}n=EN(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=dp})}var g7=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Hm?"cancelled":"rejected",error:n}}finally{e==null||e()}},hp=t=>e=>xN(TN(t,e).then(n=>(ks(t),n))),AN=t=>{const e=hp(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Xa}=Object,bP={},Ym="listenerMiddleware",y7=(t,e)=>{const n=r=>EN(t,()=>Os(r,t.reason));return(r,i)=>{mb(r);const o=new AbortController;n(o);const s=g7(async()=>{ks(t),ks(o.signal);const a=await r({pause:hp(o.signal),delay:AN(o.signal),signal:o.signal});return ks(o.signal),a},()=>Os(o,p7));return i!=null&&i.autoJoin&&e.push(s.catch(dp)),{result:hp(t)(s),cancel(){Os(o,h7)}}}},v7=(t,e)=>{const n=async(r,i)=>{ks(e);let o=()=>{};const a=[new Promise((l,u)=>{let c=t({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});o=()=>{c(),u()}})];i!=null&&a.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await TN(e,Promise.race(a));return ks(e),l}finally{o()}};return(r,i)=>xN(n(r,i))},SN=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=Ar(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Jn(21));return mb(o),{predicate:i,type:e,effect:o}},PN=Xa(t=>{const{type:e,predicate:n,effect:r}=SN(t);return{id:n7(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Jn(22))}}},{withTypes:()=>PN}),xP=(t,e)=>{const{type:n,effect:r,predicate:i}=SN(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},rw=t=>{t.pending.forEach(e=>{Os(e,nw)})},w7=t=>()=>{t.forEach(rw),t.clear()},EP=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},IN=Xa(Ar(`${Ym}/add`),{withTypes:()=>IN}),_7=Ar(`${Ym}/removeAll`),CN=Xa(Ar(`${Ym}/remove`),{withTypes:()=>CN}),b7=(...t)=>{console.error(`${Ym}/error`,...t)},Af=(t={})=>{const e=new Map,{extra:n,onError:r=b7}=t;mb(r);const i=c=>(c.unsubscribe=()=>e.delete(c.id),e.set(c.id,c),f=>{c.unsubscribe(),f!=null&&f.cancelActive&&rw(c)}),o=c=>{const f=xP(e,c)??PN(c);return i(f)};Xa(o,{withTypes:()=>o});const s=c=>{const f=xP(e,c);return f&&(f.unsubscribe(),c.cancelActive&&rw(f)),!!f};Xa(s,{withTypes:()=>s});const a=async(c,f,h,p)=>{const m=new AbortController,g=v7(o,m.signal),_=[];try{c.pending.add(m),await Promise.resolve(c.effect(f,Xa({},h,{getOriginalState:p,condition:(v,w)=>g(v,w).then(Boolean),take:g,delay:AN(m.signal),pause:hp(m.signal),extra:n,signal:m.signal,fork:y7(m.signal,_),unsubscribe:c.unsubscribe,subscribe:()=>{e.set(c.id,c)},cancelActiveListeners:()=>{c.pending.forEach((v,w,x)=>{v!==m&&(Os(v,nw),x.delete(v))})},cancel:()=>{Os(m,nw),c.pending.delete(m)},throwIfCancelled:()=>{ks(m.signal)}})))}catch(v){v instanceof Hm||EP(r,v,{raisedBy:"effect"})}finally{await Promise.all(_),Os(m,m7),c.pending.delete(m)}},l=w7(e);return{middleware:c=>f=>h=>{if(!uN(h))return f(h);if(IN.match(h))return o(h.payload);if(_7.match(h)){l();return}if(CN.match(h))return s(h.payload);let p=c.getState();const m=()=>{if(p===bP)throw new Error(Jn(23));return p};let g;try{if(g=f(h),e.size>0){const _=c.getState(),v=Array.from(e.values());for(const w of v){let x=!1;try{x=w.predicate(h,_,p)}catch(P){x=!1,EP(r,P,{raisedBy:"predicate"})}x&&a(w,h,c,m)}}}finally{p=bP}return g},startListening:o,stopListening:s,clearListeners:l}};function Jn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var x7={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},ON=or({name:"chartLayout",initialState:x7,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:E7,setLayout:T7,setChartSize:A7,setScale:S7}=ON.actions,P7=ON.reducer;function TP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(n),!0).forEach(function(r){I7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I7(t,e,n){return(e=C7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C7(t){var e=O7(t,"string");return typeof e=="symbol"?e:e+""}function O7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pp=Math.PI/180,k7=t=>t*180/Math.PI,Tt=(t,e,n,r)=>({x:t+Math.cos(-pp*r)*n,y:e+Math.sin(-pp*r)*n}),kN=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},D7=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},R7=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,s=D7({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s,angle:0};var a=(n-i)/s,l=Math.acos(a);return r>o&&(l=2*Math.PI-l),{radius:s,angle:k7(l),angleInRadian:l}},M7=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},N7=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return t+s*360},j7=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:o}=R7({x:n,y:r},e),{innerRadius:s,outerRadius:a}=e;if(i<s||i>a||i===0)return null;var{startAngle:l,endAngle:u}=M7(e),c=o,f;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;f=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;f=c>=u&&c<=l}return f?AP(AP({},e),{},{radius:i,angle:N7(c,e)}):null};function DN(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){V7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V7(t,e,n){return(e=L7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L7(t){var e=F7(t,"string");return typeof e=="symbol"?e:e+""}function F7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Le(t,e,n){return Je(t)||Je(e)?n:ti(e)?ko(t,e,n):typeof e=="function"?e(t):n}var B7=(t,e,n,r,i)=>{var o,s=-1,a=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(a<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<a;l++){var u=l>0?n[l-1].coordinate:n[a-1].coordinate,c=n[l].coordinate,f=l>=a-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(Bt(c-u)!==Bt(f-c)){var p=[];if(Bt(f-c)===Bt(i[1]-i[0])){h=f;var m=c+i[1]-i[0];p[0]=Math.min(m,(m+u)/2),p[1]=Math.max(m,(m+u)/2)}else{h=u;var g=f+i[1]-i[0];p[0]=Math.min(c,(g+c)/2),p[1]=Math.max(c,(g+c)/2)}var _=[Math.min(c,(h+c)/2),Math.max(c,(h+c)/2)];if(t>_[0]&&t<=_[1]||t>=p[0]&&t<=p[1]){({index:s}=n[l]);break}}else{var v=Math.min(u,f),w=Math.max(u,f);if(t>(v+c)/2&&t<=(w+c)/2){({index:s}=n[l]);break}}}else if(e){for(var x=0;x<a;x++)if(x===0&&t<=(e[x].coordinate+e[x+1].coordinate)/2||x>0&&x<a-1&&t>(e[x].coordinate+e[x-1].coordinate)/2&&t<=(e[x].coordinate+e[x+1].coordinate)/2||x===a-1&&t>(e[x].coordinate+e[x-1].coordinate)/2){({index:s}=e[x]);break}}return s},$7=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:s,layout:a}=e;if((a==="vertical"||a==="horizontal"&&s==="middle")&&o!=="center"&&G(t[o]))return gr(gr({},t),{},{[o]:t[o]+(r||0)});if((a==="horizontal"||a==="vertical"&&o==="center")&&s!=="middle"&&G(t[s]))return gr(gr({},t),{},{[s]:t[s]+(i||0)})}return t},Fi=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",RN=(t,e,n,r)=>{if(r)return t.map(a=>a.coordinate);var i,o,s=t.map(a=>(a.coordinate===e&&(i=!0),a.coordinate===n&&(o=!0),a.coordinate));return i||s.push(e),o||s.push(n),s},MN=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:o,scale:s,realScaleType:a,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:f,niceTicks:h,axisType:p}=t;if(!s)return null;var m=a==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,g=(e||n)&&i==="category"&&s.bandwidth?s.bandwidth()/m:0;if(g=p==="angleAxis"&&o&&o.length>=2?Bt(o[0]-o[1])*2*g:g,e&&(f||h)){var _=(f||h||[]).map((v,w)=>{var x=r?r.indexOf(v):v;return{coordinate:s(x)+g,value:v,offset:g,index:w}});return _.filter(v=>!Fn(v.coordinate))}return l&&u?u.map((v,w)=>({coordinate:s(v)+g,value:v,index:w,offset:g})):s.ticks&&!n&&c!=null?s.ticks(c).map((v,w)=>({coordinate:s(v)+g,value:v,offset:g,index:w})):s.domain().map((v,w)=>({coordinate:s(v)+g,value:r?r[v]:v,index:w,offset:g}))},PP=1e-4,z7=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-PP,o=Math.max(r[0],r[1])+PP,s=t(e[0]),a=t(e[n-1]);(s<i||s>o||a<i||a>o)&&t.domain([e[0],e[n-1]])}},U7=(t,e)=>{if(!e||e.length!==2||!G(e[0])||!G(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!G(t[0])||t[0]<n)&&(i[0]=n),(!G(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},K7=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,s=0;s<e;++s){var a=Fn(t[s][n][1])?t[s][n][0]:t[s][n][1];a>=0?(t[s][n][0]=i,t[s][n][1]=i+a,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+a,o=t[s][n][1])}},W7=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var s=Fn(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},q7={sign:K7,expand:O8,none:fl,silhouette:k8,wiggle:D8,positive:W7},G7=(t,e,n)=>{var r=q7[n],i=C8().keys(e).value((o,s)=>+Le(o,s,0)).order(G0).offset(r);return i(t)};function NN(t){return t==null?void 0:String(t)}function IP(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:o,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Je(i[e.dataKey])){var a=fM(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Le(i,Je(s)?e.dataKey:s);return Je(l)?null:e.scale(l)}var CP=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:o,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var a=Le(o,e.dataKey,e.scale.domain()[s]);return Je(a)?null:e.scale(a)-i/2+r},H7=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Y7=t=>{var e=t.flat(2).filter(G);return[Math.min(...e),Math.max(...e)]},Q7=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],X7=(t,e,n)=>{if(t!=null)return Q7(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:s}=o,a=s.reduce((l,u)=>{var c=DN(u,e,n),f=Y7(c);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]},[1/0,-1/0]))},OP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Wc=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Um(e,c=>c.coordinate),o=1/0,s=1,a=i.length;s<a;s++){var l=i[s],u=i[s-1];o=Math.min((l.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function DP(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return gr(gr({},e),{},{dataKey:n,payload:r,value:i,name:o})}function Vl(t,e){if(t)return String(t);if(typeof e=="string")return e}function J7(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var o=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return o?{x:t,y:e}:null}return r?j7({x:t,y:e},r):null}var Z7=(t,e,n,r)=>{var i=e.find(u=>u&&u.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,{radius:s}=r;return gr(gr(gr({},r),Tt(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var a=i.coordinate,{angle:l}=r;return gr(gr(gr({},r),Tt(r.cx,r.cy,a,l)),{},{angle:l,radius:a})}return{x:0,y:0}},eq=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Bi=t=>t.layout.width,$i=t=>t.layout.height,tq=t=>t.layout.scale,jN=t=>t.layout.margin,gb=L(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),yb=L(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),VN="data-recharts-item-index",LN="data-recharts-item-data-key",Qm=60;function RP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(n),!0).forEach(function(r){nq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nq(t,e,n){return(e=rq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rq(t){var e=iq(t,"string");return typeof e=="symbol"?e:e+""}function iq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oq=t=>t.brush.height,kt=L([Bi,$i,jN,oq,gb,yb,oN,PW],(t,e,n,r,i,o,s,a)=>{var l=o.reduce((m,g)=>{var{orientation:_}=g;if(!g.mirror&&!g.hide){var v=typeof g.width=="number"?g.width:Qm;return Qi(Qi({},m),{},{[_]:m[_]+v})}return m},{left:n.left||0,right:n.right||0}),u=i.reduce((m,g)=>{var{orientation:_}=g;return!g.mirror&&!g.hide?Qi(Qi({},m),{},{[_]:ko(m,"".concat(_))+g.height}):m},{top:n.top||0,bottom:n.bottom||0}),c=Qi(Qi({},u),l),f=c.bottom;c.bottom+=r,c=$7(c,s,a);var h=t-c.left-c.right,p=e-c.top-c.bottom;return Qi(Qi({brushBottom:f},c),{},{width:Math.max(h,0),height:Math.max(p,0)})}),sq=L(kt,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),FN=L(Bi,$i,(t,e)=>({x:0,y:0,width:t,height:e})),aq=b.createContext(null),Bn=()=>b.useContext(aq)!=null,Xm=t=>t.brush,Jm=L([Xm,kt,jN],(t,e,n)=>({height:t.height,x:G(t.x)?t.x:e.left,y:G(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:G(t.width)?t.width:e.width})),vb=()=>{var t,e=Bn(),n=re(sq),r=re(Jm),i=(t=re(Xm))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},lq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},BN=()=>{var t;return(t=re(kt))!==null&&t!==void 0?t:lq},wb=()=>re(Bi),_b=()=>re($i),uq={top:0,right:0,bottom:0,left:0},cq=()=>{var t;return(t=re(e=>e.layout.margin))!==null&&t!==void 0?t:uq},xe=t=>t.layout.layoutType,Zm=()=>re(xe),fq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},$N=or({name:"legend",initialState:fq,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=bi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:MP,setLegendSettings:dq,addLegendPayload:zN,removeLegendPayload:UN}=$N.actions,hq=$N.reducer,pq=["contextPayload"];function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(null,arguments)}function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){bb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bb(t,e,n){return(e=mq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mq(t){var e=gq(t,"string");return typeof e=="symbol"?e:e+""}function gq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yq(t,e){if(t==null)return{};var n,r,i=vq(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vq(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wq(t){return t.value}function _q(t){var{contextPayload:e}=t,n=yq(t,pq),r=HM(e,t.payloadUniqBy,wq),i=pl(pl({},n),{},{payload:r});return b.isValidElement(t.content)?b.cloneElement(t.content,i):typeof t.content=="function"?b.createElement(t.content,i):b.createElement(eb,i)}function bq(t,e,n,r,i,o){var{layout:s,align:a,verticalAlign:l}=e,u,c;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(a==="center"&&s==="vertical"?u={left:((r||0)-o.width)/2}:u=a==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?c={top:((i||0)-o.height)/2}:c=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),pl(pl({},u),c)}function xq(t){var e=lt();return b.useEffect(()=>{e(dq(t))},[e,t]),null}function Eq(t){var e=lt();return b.useEffect(()=>(e(MP(t)),()=>{e(MP({width:0,height:0}))}),[e,t]),null}function Tq(t){var e=OW(),n=ZK(),r=cq(),{width:i,height:o,wrapperStyle:s,portal:a}=t,[l,u]=sN([e]),c=wb(),f=_b(),h=c-(r.left||0)-(r.right||0),p=Ja.getWidthOrHeight(t.layout,o,i,h),m=a?s:pl(pl({position:"absolute",width:(p==null?void 0:p.width)||i||"auto",height:(p==null?void 0:p.height)||o||"auto"},bq(s,t,r,c,f,l)),s),g=a??n;if(g==null)return null;var _=b.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:u},b.createElement(xq,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),b.createElement(Eq,{width:l.width,height:l.height}),b.createElement(_q,iw({},t,p,{margin:r,chartWidth:c,chartHeight:f,contextPayload:e})));return a_.createPortal(_,g)}class Ja extends b.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&G(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return b.createElement(Tq,this.props)}}bb(Ja,"displayName","Legend");bb(Ja,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(null,arguments)}function jP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(n),!0).forEach(function(r){Aq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aq(t,e,n){return(e=Sq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sq(t){var e=Pq(t,"string");return typeof e=="symbol"?e:e+""}function Pq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iq(t){return Array.isArray(t)&&ti(t[0])&&ti(t[1])?t.join(" ~ "):t}var Cq=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:s,itemSorter:a,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:f,accessibilityLayer:h=!1}=t,p=()=>{if(o&&o.length){var S={padding:0,margin:0},O=(a?Um(o,a):o).map((A,T)=>{if(A.type==="none")return null;var I=A.formatter||s||Iq,{value:k,name:D}=A,N=k,R=D;if(I){var se=I(k,D,A,T,o);if(Array.isArray(se))[N,R]=se;else if(se!=null)N=se;else return null}var me=tv({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:me},ti(R)?b.createElement("span",{className:"recharts-tooltip-item-name"},R):null,ti(R)?b.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,b.createElement("span",{className:"recharts-tooltip-item-value"},N),b.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:S},O)}return null},m=tv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),g=tv({margin:0},i),_=!Je(c),v=_?c:"",w=Ce("recharts-default-tooltip",l),x=Ce("recharts-tooltip-label",u);_&&f&&o!==void 0&&o!==null&&(v=f(c,o));var P=h?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",ow({className:w,style:m},P),b.createElement("p",{className:x,style:g},b.isValidElement(v)?v:"".concat(v)),p())},Tu="recharts-tooltip-wrapper",Oq={visibility:"hidden"};function kq(t){var{coordinate:e,translateX:n,translateY:r}=t;return Ce(Tu,{["".concat(Tu,"-right")]:G(n)&&e&&G(e.x)&&n>=e.x,["".concat(Tu,"-left")]:G(n)&&e&&G(e.x)&&n<e.x,["".concat(Tu,"-bottom")]:G(r)&&e&&G(e.y)&&r>=e.y,["".concat(Tu,"-top")]:G(r)&&e&&G(e.y)&&r<e.y})}function VP(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:a,viewBox:l,viewBoxDimension:u}=t;if(o&&G(o[r]))return o[r];var c=n[r]-a-(i>0?i:0),f=n[r]+i;if(e[r])return s[r]?c:f;var h=l[r];if(h==null)return 0;if(s[r]){var p=c,m=h;return p<m?Math.max(f,h):Math.max(c,h)}if(u==null)return 0;var g=f+a,_=h+u;return g>_?Math.max(c,h):Math.max(f,h)}function Dq(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Rq(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:s,useTranslate3d:a,viewBox:l}=t,u,c,f;return s.height>0&&s.width>0&&n?(c=VP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=VP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=Dq({translateX:c,translateY:f,useTranslate3d:a})):u=Oq,{cssProperties:u,cssClasses:kq({translateX:c,translateY:f,coordinate:n})}}function LP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(n),!0).forEach(function(r){sw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sw(t,e,n){return(e=Mq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mq(t){var e=Nq(t,"string");return typeof e=="symbol"?e:e+""}function Nq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jq extends b.PureComponent{constructor(){super(...arguments),sw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),sw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:s,hasPayload:a,isAnimationActive:l,offset:u,position:c,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:m,lastBoundingBox:g,innerRef:_,hasPortalFromProps:v}=this.props,{cssClasses:w,cssProperties:x}=Rq({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:u,position:c,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:p}),P=v?{}:Fd(Fd({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&a?"visible":"hidden",position:"absolute",top:0,left:0}),S=Fd(Fd({},P),{},{visibility:!this.state.dismissed&&e&&a?"visible":"hidden"},m);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:S,ref:_},o)}}var Vq=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ta={isSsr:Vq()},KN=()=>re(t=>t.rootProps.accessibilityLayer);function Jt(t){return Number.isFinite(t)}function ml(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(null,arguments)}function FP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(n),!0).forEach(function(r){Lq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lq(t,e,n){return(e=Fq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fq(t){var e=Bq(t,"string");return typeof e=="symbol"?e:e+""}function Bq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $P={curveBasisClosed:v8,curveBasisOpen:w8,curveBasis:y8,curveBumpX:r8,curveBumpY:i8,curveLinearClosed:_8,curveLinear:jm,curveMonotoneX:b8,curveMonotoneY:x8,curveNatural:E8,curveStep:T8,curveStepAfter:S8,curveStepBefore:A8},Bd=t=>Jt(t.x)&&Jt(t.y),Au=t=>t.x,Su=t=>t.y,$q=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(xf(t));return(n==="curveMonotone"||n==="curveBump")&&e?$P["".concat(n).concat(e==="vertical"?"Y":"X")]:$P[n]||jm},zq=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,s=$q(e,i),a=o?n.filter(Bd):n,l;if(Array.isArray(r)){var u=o?r.filter(f=>Bd(f)):r,c=a.map((f,h)=>BP(BP({},f),{},{base:u[h]}));return i==="vertical"?l=Md().y(Su).x1(Au).x0(f=>f.base.x):l=Md().x(Au).y1(Su).y0(f=>f.base.y),l.defined(Bd).curve(s),l(c)}return i==="vertical"&&G(r)?l=Md().y(Su).x1(Au).x0(r):G(r)?l=Md().x(Au).y1(Su).y0(r):l=bM().x(Au).y(Su),l.defined(Bd).curve(s),l(a)},cc=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?zq(t):r;return b.createElement("path",aw({},si(t),G_(t),{className:Ce("recharts-curve",e),d:o===null?void 0:o,ref:i}))},Uq=["x","y","top","left","width","height","className"];function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(null,arguments)}function zP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(n),!0).forEach(function(r){Wq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wq(t,e,n){return(e=qq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qq(t){var e=Gq(t,"string");return typeof e=="symbol"?e:e+""}function Gq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hq(t,e){if(t==null)return{};var n,r,i=Yq(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yq(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Qq=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),Xq=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:s=0,className:a}=t,l=Hq(t,Uq),u=Kq({x:e,y:n,top:r,left:i,width:o,height:s},l);return!G(e)||!G(n)||!G(o)||!G(s)||!G(r)||!G(i)?null:b.createElement("path",lw({},it(u,!0),{className:Ce("recharts-cross",a),d:Qq(e,n,o,s,r,i)}))};function Jq(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){eG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eG(t,e,n){return(e=tG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tG(t){var e=nG(t,"string");return typeof e=="symbol"?e:e+""}function nG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sr(t,e){var n=Zq({},t),r=e,i=Object.keys(e),o=i.reduce((s,a)=>(s[a]===void 0&&r[a]!==void 0&&(s[a]=r[a]),s),n);return o}var WN={},qN={},GN={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(GN);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GN,n=sb,r=Bm,i=$m,o=Fm;function s(u,c,f){return a(u,c,void 0,void 0,void 0,void 0,f)}function a(u,c,f,h,p,m,g){const _=g(u,c,f,h,p,m);if(_!==void 0)return _;if(typeof u==typeof c)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===c;case"number":return u===c||Object.is(u,c);case"function":return u===c;case"object":return l(u,c,m,g)}return l(u,c,m,g)}function l(u,c,f,h){if(Object.is(u,c))return!0;let p=r.getTag(u),m=r.getTag(c);if(p===i.argumentsTag&&(p=i.objectTag),m===i.argumentsTag&&(m=i.objectTag),p!==m)return!1;switch(p){case i.stringTag:return u.toString()===c.toString();case i.numberTag:{const v=u.valueOf(),w=c.valueOf();return o.eq(v,w)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(u.valueOf(),c.valueOf());case i.regexpTag:return u.source===c.source&&u.flags===c.flags;case i.functionTag:return u===c}f=f??new Map;const g=f.get(u),_=f.get(c);if(g!=null&&_!=null)return g===c;f.set(u,c),f.set(c,u);try{switch(p){case i.mapTag:{if(u.size!==c.size)return!1;for(const[v,w]of u.entries())if(!c.has(v)||!a(w,c.get(v),v,u,c,f,h))return!1;return!0}case i.setTag:{if(u.size!==c.size)return!1;const v=Array.from(u.values()),w=Array.from(c.values());for(let x=0;x<v.length;x++){const P=v[x],S=w.findIndex(O=>a(P,O,void 0,u,c,f,h));if(S===-1)return!1;w.splice(S,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(c)||u.length!==c.length)return!1;for(let v=0;v<u.length;v++)if(!a(u[v],c[v],v,u,c,f,h))return!1;return!0}case i.arrayBufferTag:return u.byteLength!==c.byteLength?!1:l(new Uint8Array(u),new Uint8Array(c),f,h);case i.dataViewTag:return u.byteLength!==c.byteLength||u.byteOffset!==c.byteOffset?!1:l(new Uint8Array(u),new Uint8Array(c),f,h);case i.errorTag:return u.name===c.name&&u.message===c.message;case i.objectTag:{if(!(l(u.constructor,c.constructor,f,h)||e.isPlainObject(u)&&e.isPlainObject(c)))return!1;const w=[...Object.keys(u),...n.getSymbols(u)],x=[...Object.keys(c),...n.getSymbols(c)];if(w.length!==x.length)return!1;for(let P=0;P<w.length;P++){const S=w[P],O=u[S];if(!Object.hasOwn(c,S))return!1;const A=c[S];if(!a(O,A,S,u,c,f,h))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(c)}}t.isEqualWith=s})(qN);var HN={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(HN);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qN,n=HN;function r(i,o){return e.isEqualWith(i,o,n.noop)}t.isEqual=r})(WN);var rG=WN.isEqual;const iG=oi(rG);var mp=1e-4,YN=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],QN=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),KP=(t,e)=>n=>{var r=YN(t,e);return QN(r,n)},oG=(t,e)=>n=>{var r=YN(t,e),i=[...r.map((o,s)=>o*s).slice(1),0];return QN(i,n)},WP=function(){for(var e,n,r,i,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];if(s.length===1)switch(s[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var l=s[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([e,r,n,i]=l[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else s.length===4&&([e,r,n,i]=s);var u=KP(e,n),c=KP(r,i),f=oG(e,n),h=m=>m>1?1:m<0?0:m,p=m=>{for(var g=m>1?1:m,_=g,v=0;v<8;++v){var w=u(_)-g,x=f(_);if(Math.abs(w-g)<mp||x<mp)return c(_);_=h(_-w/x)}return c(_)};return p.isStepper=!1,p},sG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(s,a,l)=>{var u=-(s-a)*n,c=l*r,f=l+(u-c)*i/1e3,h=l*i/1e3+s;return Math.abs(h-a)<mp&&Math.abs(f)<mp?[a,0]:[h,f]};return o.isStepper=!0,o.dt=i,o},XN=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return WP(t);case"spring":return sG();default:if(t.split("(")[0]==="cubic-bezier")return WP(t)}return typeof t=="function"?t:null};function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){aG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aG(t,e,n){return(e=lG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lG(t){var e=uG(t,"string");return typeof e=="symbol"?e:e+""}function uG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cG=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),fG=(t,e,n)=>t.map(r=>"".concat(cG(r)," ").concat(e,"ms ").concat(n)).join(","),dG=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),qc=(t,e)=>Object.keys(e).reduce((n,r)=>GP(GP({},n),{},{[r]:t(r,e[r])}),{});function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){hG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hG(t,e,n){return(e=pG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pG(t){var e=mG(t,"string");return typeof e=="symbol"?e:e+""}function mG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gp=(t,e,n)=>t+(e-t)*n,uw=t=>{var{from:e,to:n}=t;return e!==n},JN=(t,e,n)=>{var r=qc((i,o)=>{if(uw(o)){var[s,a]=t(o.from,o.to,o.velocity);return Gt(Gt({},o),{},{from:s,velocity:a})}return o},e);return n<1?qc((i,o)=>uw(o)?Gt(Gt({},o),{},{velocity:gp(o.velocity,r[i].velocity,n),from:gp(o.from,r[i].from,n)}):o,e):JN(t,r,n-1)};function gG(t,e,n,r,i,o){var s,a=r.reduce((h,p)=>Gt(Gt({},h),{},{[p]:{from:t[p],velocity:0,to:e[p]}}),{}),l=()=>qc((h,p)=>p.from,a),u=()=>!Object.values(a).filter(uw).length,c=null,f=h=>{s||(s=h);var p=h-s,m=p/n.dt;a=JN(n,a,m),i(Gt(Gt(Gt({},t),e),l())),s=h,u()||(c=o.setTimeout(f))};return()=>(c=o.setTimeout(f),()=>{c()})}function yG(t,e,n,r,i,o,s){var a=null,l=i.reduce((f,h)=>Gt(Gt({},f),{},{[h]:[t[h],e[h]]}),{}),u,c=f=>{u||(u=f);var h=(f-u)/r,p=qc((g,_)=>gp(..._,n(h)),l);if(o(Gt(Gt(Gt({},t),e),p)),h<1)a=s.setTimeout(c);else{var m=qc((g,_)=>gp(..._,n(1)),l);o(Gt(Gt(Gt({},t),e),m))}};return()=>(a=s.setTimeout(c),()=>{a()})}const ZN=(t,e,n,r,i,o)=>{var s=dG(t,e);return n.isStepper===!0?gG(t,e,n,s,i,o):yG(t,e,n,r,s,i,o)};function vG(t){var e,n=()=>null,r=!1,i=null,o=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var a=s,[l,...u]=a;if(typeof l=="number"){i=t.setTimeout(o.bind(null,u),l);return}o(l),i=t.setTimeout(o.bind(null,u));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),o(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class wG{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}function _G(){return vG(new wG)}var bG=b.createContext(_G);function ej(t,e){var n=b.useContext(bG);return b.useMemo(()=>e??n(t),[t,e,n])}var xG=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cw.apply(null,arguments)}function EG(t,e){if(t==null)return{};var n,r,i=TG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function TG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){bs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bs(t,e,n){return(e=AG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AG(t){var e=SG(t,"string");return typeof e=="symbol"?e:e+""}function SG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xb extends b.PureComponent{constructor(e,n){super(e,n),bs(this,"mounted",!1),bs(this,"manager",void 0),bs(this,"stopJSAnimation",null),bs(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:o,to:s,children:a,duration:l,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||l<=0){this.state={style:{}},typeof a=="function"&&(this.state={style:s});return}if(o){if(typeof a=="function"){this.state={style:o};return}this.state={style:i?{[i]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:o,to:s,from:a}=this.props,{style:l}=this.state;if(r){if(!n){var u={style:i?{[i]:s}:s};this.state&&l&&(i&&l[i]!==s||!i&&l!==s)&&this.setState(u);return}if(!(iG(e.to,s)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=c||o?a:e.to;if(this.state&&l){var h={style:i?{[i]:f}:f};(i&&l[i]!==f||!i&&l!==f)&&this.setState(h)}this.runAnimation(Xi(Xi({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:o,begin:s,onAnimationEnd:a,onAnimationStart:l}=e,u=ZN(n,r,XN(o),i,this.changeStyle,this.manager.getTimeoutController()),c=()=>{this.stopJSAnimation=u()};this.manager.start([l,s,c,i,a])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:o,easing:s,onAnimationStart:a,onAnimationEnd:l,children:u}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof s=="function"||typeof u=="function"||s==="spring"){this.runJSAnimation(e);return}var c=i?{[i]:o}:o,f=fG(Object.keys(c),r,s);this.manager.start([a,n,Xi(Xi({},c),{},{transition:f}),r,l])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:o,easing:s,isActive:a,from:l,to:u,canBegin:c,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:p,animationManager:m}=e,g=EG(e,xG),_=b.Children.count(n),v=this.state.style;if(typeof n=="function")return n(v);if(!a||_===0||i<=0)return n;var w=x=>{var{style:P={},className:S}=x.props,O=b.cloneElement(x,Xi(Xi({},g),{},{style:Xi(Xi({},P),v),className:S}));return O};return _===1?w(b.Children.only(n)):b.createElement("div",null,b.Children.map(n,x=>w(x)))}}bs(xb,"displayName","Animate");bs(xb,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function yp(t){var e,n=ej((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return b.createElement(xb,cw({},t,{animationManager:n}))}function vp(){return vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vp.apply(null,arguments)}var QP=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,a=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var c=[0,0,0,0],f=0,h=4;f<h;f++)c[f]=i[f]>o?o:i[f];u="M".concat(t,",").concat(e+s*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(t+a*c[0],",").concat(e)),u+="L ".concat(t+n-a*c[1],",").concat(e),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(t+n,",").concat(e+s*c[1])),u+="L ".concat(t+n,",").concat(e+r-s*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(t+n-a*c[2],",").concat(e+r)),u+="L ".concat(t+a*c[3],",").concat(e+r),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+r-s*c[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var p=Math.min(o,i);u="M ".concat(t,",").concat(e+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+a*p,",").concat(e,`
            L `).concat(t+n-a*p,",").concat(e,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+n,",").concat(e+s*p,`
            L `).concat(t+n,",").concat(e+r-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+n-a*p,",").concat(e+r,`
            L `).concat(t+a*p,",").concat(e+r,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t,",").concat(e+r-s*p," Z")}else u="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},PG={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tj=t=>{var e=sr(t,PG),n=b.useRef(null),[r,i]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&i(v)}catch{}},[]);var{x:o,y:s,width:a,height:l,radius:u,className:c}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=e;if(o!==+o||s!==+s||a!==+a||l!==+l||a===0||l===0)return null;var _=Ce("recharts-rectangle",c);return g?b.createElement(yp,{canBegin:r>0,from:{width:a,height:l,x:o,y:s},to:{width:a,height:l,x:o,y:s},duration:h,animationEasing:f,isActive:g},v=>{var{width:w,height:x,x:P,y:S}=v;return b.createElement(yp,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,isActive:m,easing:f},b.createElement("path",vp({},it(e,!0),{className:_,d:QP(P,S,w,x,u),ref:n})))}):b.createElement("path",vp({},it(e,!0),{className:_,d:QP(o,s,a,l,u)}))};function nj(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,s=Tt(e,n,r,i),a=Tt(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function fw(){return fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fw.apply(null,arguments)}var IG=(t,e)=>{var n=Bt(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},$d=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:s,cornerRadius:a,cornerIsExternal:l}=t,u=a*(s?1:-1)+r,c=Math.asin(a/u)/pp,f=l?i:i+o*c,h=Tt(e,n,u,f),p=Tt(e,n,r,f),m=l?i-o*c:i,g=Tt(e,n,u*Math.cos(c*pp),m);return{center:h,circleTangency:p,lineTangency:g,theta:c}},rj=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s}=t,a=IG(o,s),l=o+a,u=Tt(e,n,i,o),c=Tt(e,n,i,l),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(a)>180),",").concat(+(o>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(r>0){var h=Tt(e,n,r,o),p=Tt(e,n,r,l);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(a)>180),",").concat(+(o<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(e,",").concat(n," Z");return f},CG=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:a,startAngle:l,endAngle:u}=t,c=Bt(u-l),{circleTangency:f,lineTangency:h,theta:p}=$d({cx:e,cy:n,radius:i,angle:l,sign:c,cornerRadius:o,cornerIsExternal:a}),{circleTangency:m,lineTangency:g,theta:_}=$d({cx:e,cy:n,radius:i,angle:u,sign:-c,cornerRadius:o,cornerIsExternal:a}),v=a?Math.abs(l-u):Math.abs(l-u)-p-_;if(v<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):rj({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var w="M ".concat(h.x,",").concat(h.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(c<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(g.x,",").concat(g.y,`
  `);if(r>0){var{circleTangency:x,lineTangency:P,theta:S}=$d({cx:e,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:a}),{circleTangency:O,lineTangency:A,theta:T}=$d({cx:e,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:a}),I=a?Math.abs(l-u):Math.abs(l-u)-S-T;if(I<0&&o===0)return"".concat(w,"L").concat(e,",").concat(n,"Z");w+="L".concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(I>180),",").concat(+(c>0),",").concat(x.x,",").concat(x.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(P.x,",").concat(P.y,"Z")}else w+="L".concat(e,",").concat(n,"Z");return w},OG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ij=t=>{var e=sr(t,OG),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:c,className:f}=e;if(o<i||u===c)return null;var h=Ce("recharts-sector",f),p=o-i,m=xn(s,p,0,!0),g;return m>0&&Math.abs(u-c)<360?g=CG({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,p/2),forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:c}):g=rj({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c}),b.createElement("path",fw({},it(e,!0),{className:h,d:g}))};function kG(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:a,cy:l,innerRadius:u,outerRadius:c,angle:f}=e,h=Tt(a,l,u,f),p=Tt(a,l,c,f);r=h.x,i=h.y,o=p.x,s=p.y}else return nj(e);return[{x:r,y:i},{x:o,y:s}]}var oj={},sj={},aj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ub;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(aj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aj;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(sj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cb,n=sj;function r(i,o,s){s&&typeof s!="number"&&e.isIterateeCall(i,o,s)&&(o=s=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),s=s===void 0?i<o?1:-1:n.toFinite(s);const a=Math.max(Math.ceil((o-i)/(s||1)),0),l=new Array(a);for(let u=0;u<a;u++)l[u]=i,i+=s;return l}t.range=r})(oj);var DG=oj.range;const lj=oi(DG);function _o(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function RG(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Eb(t){let e,n,r;t.length!==2?(e=_o,n=(a,l)=>_o(t(a),l),r=(a,l)=>t(a)-l):(e=t===_o||t===RG?t:MG,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function MG(){return 0}function uj(t){return t===null?NaN:+t}function*NG(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const jG=Eb(_o),VG=jG.right;Eb(uj).center;const Sf=VG;class XP extends Map{constructor(e,n=BG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(JP(this,e))}has(e){return super.has(JP(this,e))}set(e,n){return super.set(LG(this,e),n)}delete(e){return super.delete(FG(this,e))}}function JP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function LG({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function FG({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function BG(t){return t!==null&&typeof t=="object"?t.valueOf():t}function $G(t=_o){if(t===_o)return cj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function cj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const zG=Math.sqrt(50),UG=Math.sqrt(10),KG=Math.sqrt(2);function wp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=zG?10:o>=UG?5:o>=KG?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?wp(t,e,n*2):[a,l,u]}function dw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?wp(e,t,n):wp(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function hw(t,e,n){return e=+e,t=+t,n=+n,wp(t,e,n)[2]}function pw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?hw(e,t,n):hw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ZP(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function eI(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function fj(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?cj:$G(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+h)),m=Math.min(r,Math.floor(e+(l-u)*f/l+h));fj(t,e,p,m,i)}const o=t[e];let s=n,a=r;for(Pu(t,n,e),i(t[r],o)>0&&Pu(t,n,r);s<a;){for(Pu(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?Pu(t,n,a):(++a,Pu(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Pu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function WG(t,e,n){if(t=Float64Array.from(NG(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return eI(t);if(e>=1)return ZP(t);var r,i=(r-1)*e,o=Math.floor(i),s=ZP(fj(t,o).subarray(0,o+1)),a=eI(t.subarray(o+1));return s+(a-s)*(i-o)}}function qG(t,e,n=uj){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function GG(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Cr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function zi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const mw=Symbol("implicit");function Tb(){var t=new XP,e=[],n=[],r=mw;function i(o){let s=t.get(o);if(s===void 0){if(r!==mw)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new XP;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Tb(e,n).unknown(r)},Cr.apply(i,arguments),i}function Ab(){var t=Tb().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,p=i<r,m=p?i:r,g=p?r:i;o=(g-m)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),m+=(g-m-o*(h-l))*c,s=o*(1-l),a&&(m=Math.round(m),s=Math.round(s));var _=GG(h).map(function(v){return m+o*v});return n(p?_.reverse():_)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return Ab(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},Cr.apply(f(),arguments)}function dj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return dj(e())},t}function HG(){return dj(Ab.apply(null,arguments).paddingInner(1))}function Sb(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function hj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pf(){}var Gc=.7,_p=1/Gc,Za="\\s*([+-]?\\d+)\\s*",Hc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",YG=/^#([0-9a-f]{3,8})$/,QG=new RegExp(`^rgb\\(${Za},${Za},${Za}\\)$`),XG=new RegExp(`^rgb\\(${ei},${ei},${ei}\\)$`),JG=new RegExp(`^rgba\\(${Za},${Za},${Za},${Hc}\\)$`),ZG=new RegExp(`^rgba\\(${ei},${ei},${ei},${Hc}\\)$`),eH=new RegExp(`^hsl\\(${Hc},${ei},${ei}\\)$`),tH=new RegExp(`^hsla\\(${Hc},${ei},${ei},${Hc}\\)$`),tI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sb(Pf,Yc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:nI,formatHex:nI,formatHex8:nH,formatHsl:rH,formatRgb:rI,toString:rI});function nI(){return this.rgb().formatHex()}function nH(){return this.rgb().formatHex8()}function rH(){return pj(this).formatHsl()}function rI(){return this.rgb().formatRgb()}function Yc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=YG.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?iI(e):n===3?new Rn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?zd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?zd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=QG.exec(t))?new Rn(e[1],e[2],e[3],1):(e=XG.exec(t))?new Rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=JG.exec(t))?zd(e[1],e[2],e[3],e[4]):(e=ZG.exec(t))?zd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=eH.exec(t))?aI(e[1],e[2]/100,e[3]/100,1):(e=tH.exec(t))?aI(e[1],e[2]/100,e[3]/100,e[4]):tI.hasOwnProperty(t)?iI(tI[t]):t==="transparent"?new Rn(NaN,NaN,NaN,0):null}function iI(t){return new Rn(t>>16&255,t>>8&255,t&255,1)}function zd(t,e,n,r){return r<=0&&(t=e=n=NaN),new Rn(t,e,n,r)}function iH(t){return t instanceof Pf||(t=Yc(t)),t?(t=t.rgb(),new Rn(t.r,t.g,t.b,t.opacity)):new Rn}function gw(t,e,n,r){return arguments.length===1?iH(t):new Rn(t,e,n,r??1)}function Rn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Sb(Rn,gw,hj(Pf,{brighter(t){return t=t==null?_p:Math.pow(_p,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Gc:Math.pow(Gc,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rn(Ds(this.r),Ds(this.g),Ds(this.b),bp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oI,formatHex:oI,formatHex8:oH,formatRgb:sI,toString:sI}));function oI(){return`#${xs(this.r)}${xs(this.g)}${xs(this.b)}`}function oH(){return`#${xs(this.r)}${xs(this.g)}${xs(this.b)}${xs((isNaN(this.opacity)?1:this.opacity)*255)}`}function sI(){const t=bp(this.opacity);return`${t===1?"rgb(":"rgba("}${Ds(this.r)}, ${Ds(this.g)}, ${Ds(this.b)}${t===1?")":`, ${t})`}`}function bp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ds(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xs(t){return t=Ds(t),(t<16?"0":"")+t.toString(16)}function aI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Lr(t,e,n,r)}function pj(t){if(t instanceof Lr)return new Lr(t.h,t.s,t.l,t.opacity);if(t instanceof Pf||(t=Yc(t)),!t)return new Lr;if(t instanceof Lr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Lr(s,a,l,t.opacity)}function sH(t,e,n,r){return arguments.length===1?pj(t):new Lr(t,e,n,r??1)}function Lr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Sb(Lr,sH,hj(Pf,{brighter(t){return t=t==null?_p:Math.pow(_p,t),new Lr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Gc:Math.pow(Gc,t),new Lr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Rn(nv(t>=240?t-240:t+120,i,r),nv(t,i,r),nv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Lr(lI(this.h),Ud(this.s),Ud(this.l),bp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=bp(this.opacity);return`${t===1?"hsl(":"hsla("}${lI(this.h)}, ${Ud(this.s)*100}%, ${Ud(this.l)*100}%${t===1?")":`, ${t})`}`}}));function lI(t){return t=(t||0)%360,t<0?t+360:t}function Ud(t){return Math.max(0,Math.min(1,t||0))}function nv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Pb=t=>()=>t;function aH(t,e){return function(n){return t+n*e}}function lH(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function uH(t){return(t=+t)==1?mj:function(e,n){return n-e?lH(e,n,t):Pb(isNaN(e)?n:e)}}function mj(t,e){var n=e-t;return n?aH(t,n):Pb(isNaN(t)?e:t)}const uI=function t(e){var n=uH(e);function r(i,o){var s=n((i=gw(i)).r,(o=gw(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=mj(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function cH(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function fH(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function dH(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Ll(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function hH(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function xp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function pH(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ll(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var yw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rv=new RegExp(yw.source,"g");function mH(t){return function(){return t}}function gH(t){return function(e){return t(e)+""}}function yH(t,e){var n=yw.lastIndex=rv.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=yw.exec(t))&&(i=rv.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:xp(r,i)})),n=rv.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?gH(l[0].x):mH(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function Ll(t,e){var n=typeof e,r;return e==null||n==="boolean"?Pb(e):(n==="number"?xp:n==="string"?(r=Yc(e))?(e=r,uI):yH:e instanceof Yc?uI:e instanceof Date?hH:fH(e)?cH:Array.isArray(e)?dH:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?pH:xp)(t,e)}function Ib(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function vH(t,e){e===void 0&&(e=t,t=Ll);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function wH(t){return function(){return t}}function Ep(t){return+t}var cI=[0,1];function wn(t){return t}function vw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:wH(isNaN(e)?NaN:.5)}function _H(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function bH(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=vw(i,r),o=n(s,o)):(r=vw(r,i),o=n(o,s)),function(a){return o(r(a))}}function xH(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=vw(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=Sf(t,a,1,r)-1;return o[l](i[l](a))}}function If(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function eg(){var t=cI,e=cI,n=Ll,r,i,o,s=wn,a,l,u;function c(){var h=Math.min(t.length,e.length);return s!==wn&&(s=_H(t[0],t[h-1])),a=h>2?xH:bH,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=a(e,t.map(r),xp)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Ep),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=Ib,c()},f.clamp=function(h){return arguments.length?(s=h?!0:wn,c()):s!==wn},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return r=h,i=p,c()}}function Cb(){return eg()(wn,wn)}function EH(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Tp(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function gl(t){return t=Tp(Math.abs(t)),t?t[1]:NaN}function TH(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function AH(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var SH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qc(t){if(!(e=SH.exec(t)))throw new Error("invalid format: "+t);var e;return new Ob({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Qc.prototype=Ob.prototype;function Ob(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ob.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function PH(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var gj;function IH(t,e){var n=Tp(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(gj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Tp(t,Math.max(0,e+o-1))[0]}function fI(t,e){var n=Tp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const dI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:EH,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>fI(t*100,e),r:fI,s:IH,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function hI(t){return t}var pI=Array.prototype.map,mI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function CH(t){var e=t.grouping===void 0||t.thousands===void 0?hI:TH(pI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?hI:AH(pI.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Qc(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,_=f.zero,v=f.width,w=f.comma,x=f.precision,P=f.trim,S=f.type;S==="n"?(w=!0,S="g"):dI[S]||(x===void 0&&(x=12),P=!0,S="g"),(_||h==="0"&&p==="=")&&(_=!0,h="0",p="=");var O=g==="$"?n:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=g==="$"?r:/[%p]/.test(S)?s:"",T=dI[S],I=/[defgprs%]/.test(S);x=x===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function k(D){var N=O,R=A,se,me,_e;if(S==="c")R=T(D)+R,D="";else{D=+D;var le=D<0||1/D<0;if(D=isNaN(D)?l:T(Math.abs(D),x),P&&(D=PH(D)),le&&+D==0&&m!=="+"&&(le=!1),N=(le?m==="("?m:a:m==="-"||m==="("?"":m)+N,R=(S==="s"?mI[8+gj/3]:"")+R+(le&&m==="("?")":""),I){for(se=-1,me=D.length;++se<me;)if(_e=D.charCodeAt(se),48>_e||_e>57){R=(_e===46?i+D.slice(se+1):D.slice(se))+R,D=D.slice(0,se);break}}}w&&!_&&(D=e(D,1/0));var z=N.length+D.length+R.length,Y=z<v?new Array(v-z+1).join(h):"";switch(w&&_&&(D=e(Y+D,Y.length?v-R.length:1/0),Y=""),p){case"<":D=N+D+R+Y;break;case"=":D=N+Y+D+R;break;case"^":D=Y.slice(0,z=Y.length>>1)+N+D+R+Y.slice(z);break;default:D=Y+N+D+R;break}return o(D)}return k.toString=function(){return f+""},k}function c(f,h){var p=u((f=Qc(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(gl(h)/3)))*3,g=Math.pow(10,-m),_=mI[8+m/3];return function(v){return p(g*v)+_}}return{format:u,formatPrefix:c}}var Kd,kb,yj;OH({thousands:",",grouping:[3],currency:["$",""]});function OH(t){return Kd=CH(t),kb=Kd.format,yj=Kd.formatPrefix,Kd}function kH(t){return Math.max(0,-gl(Math.abs(t)))}function DH(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gl(e)/3)))*3-gl(Math.abs(t)))}function RH(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,gl(e)-gl(t))+1}function vj(t,e,n,r){var i=pw(t,e,n),o;switch(r=Qc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=DH(i,s))&&(r.precision=o),yj(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=RH(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=kH(i))&&(r.precision=o-(r.type==="%")*2);break}}return kb(r)}function zo(t){var e=t.domain;return t.ticks=function(n){var r=e();return dw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return vj(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=hw(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function wj(){var t=Cb();return t.copy=function(){return If(t,wj())},Cr.apply(t,arguments),zo(t)}function _j(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ep),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return _j(t).unknown(e)},t=arguments.length?Array.from(t,Ep):[0,1],zo(n)}function bj(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function gI(t){return Math.log(t)}function yI(t){return Math.exp(t)}function MH(t){return-Math.log(-t)}function NH(t){return-Math.exp(-t)}function jH(t){return isFinite(t)?+("1e"+t):t<0?0:t}function VH(t){return t===10?jH:t===Math.E?Math.exp:e=>Math.pow(t,e)}function LH(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function vI(t){return(e,n)=>-t(-e,n)}function Db(t){const e=t(gI,yI),n=e.domain;let r=10,i,o;function s(){return i=LH(r),o=VH(r),n()[0]<0?(i=vI(i),o=vI(o),t(MH,NH)):t(gI,yI),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),p=i(c),m,g;const _=a==null?10:+a;let v=[];if(!(r%1)&&p-h<_){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<r;++m)if(g=h<0?m/o(-h):m*o(h),!(g<u)){if(g>c)break;v.push(g)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/o(-h):m*o(h),!(g<u)){if(g>c)break;v.push(g)}v.length*2<_&&(v=dw(u,c,_))}else v=dw(h,p,Math.min(p-h,_)).map(o);return f?v.reverse():v},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Qc(l)).precision==null&&(l.trim=!0),l=kb(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(bj(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function xj(){const t=Db(eg()).domain([1,10]);return t.copy=()=>If(t,xj()).base(t.base()),Cr.apply(t,arguments),t}function wI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function _I(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Rb(t){var e=1,n=t(wI(e),_I(e));return n.constant=function(r){return arguments.length?t(wI(e=+r),_I(e)):e},zo(n)}function Ej(){var t=Rb(eg());return t.copy=function(){return If(t,Ej()).constant(t.constant())},Cr.apply(t,arguments)}function bI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function FH(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function BH(t){return t<0?-t*t:t*t}function Mb(t){var e=t(wn,wn),n=1;function r(){return n===1?t(wn,wn):n===.5?t(FH,BH):t(bI(n),bI(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},zo(e)}function Nb(){var t=Mb(eg());return t.copy=function(){return If(t,Nb()).exponent(t.exponent())},Cr.apply(t,arguments),t}function $H(){return Nb.apply(null,arguments).exponent(.5)}function xI(t){return Math.sign(t)*t*t}function zH(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Tj(){var t=Cb(),e=[0,1],n=!1,r;function i(o){var s=zH(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(xI(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Ep)).map(xI)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Tj(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Cr.apply(i,arguments),zo(i)}function Aj(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=qG(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Sf(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(_o),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Aj().domain(t).range(e).unknown(r)},Cr.apply(o,arguments)}function Sj(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Sf(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return Sj().domain([t,e]).range(i).unknown(o)},Cr.apply(zo(s),arguments)}function Pj(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Sf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Pj().domain(t).range(e).unknown(n)},Cr.apply(i,arguments)}const iv=new Date,ov=new Date;function Dt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>Dt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(iv.setTime(+o),ov.setTime(+s),t(iv),t(ov),Math.floor(n(iv,ov))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Ap=Dt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ap.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Dt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ap);Ap.range;const yi=1e3,vr=yi*60,vi=vr*60,Di=vi*24,jb=Di*7,EI=Di*30,sv=Di*365,Es=Dt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*yi)},(t,e)=>(e-t)/yi,t=>t.getUTCSeconds());Es.range;const Vb=Dt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yi)},(t,e)=>{t.setTime(+t+e*vr)},(t,e)=>(e-t)/vr,t=>t.getMinutes());Vb.range;const Lb=Dt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*vr)},(t,e)=>(e-t)/vr,t=>t.getUTCMinutes());Lb.range;const Fb=Dt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yi-t.getMinutes()*vr)},(t,e)=>{t.setTime(+t+e*vi)},(t,e)=>(e-t)/vi,t=>t.getHours());Fb.range;const Bb=Dt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*vi)},(t,e)=>(e-t)/vi,t=>t.getUTCHours());Bb.range;const Cf=Dt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*vr)/Di,t=>t.getDate()-1);Cf.range;const tg=Dt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Di,t=>t.getUTCDate()-1);tg.range;const Ij=Dt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Di,t=>Math.floor(t/Di));Ij.range;function na(t){return Dt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*vr)/jb)}const ng=na(0),Sp=na(1),UH=na(2),KH=na(3),yl=na(4),WH=na(5),qH=na(6);ng.range;Sp.range;UH.range;KH.range;yl.range;WH.range;qH.range;function ra(t){return Dt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/jb)}const rg=ra(0),Pp=ra(1),GH=ra(2),HH=ra(3),vl=ra(4),YH=ra(5),QH=ra(6);rg.range;Pp.range;GH.range;HH.range;vl.range;YH.range;QH.range;const $b=Dt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());$b.range;const zb=Dt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());zb.range;const Ri=Dt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ri.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ri.range;const Mi=Dt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Mi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Mi.range;function Cj(t,e,n,r,i,o){const s=[[Es,1,yi],[Es,5,5*yi],[Es,15,15*yi],[Es,30,30*yi],[o,1,vr],[o,5,5*vr],[o,15,15*vr],[o,30,30*vr],[i,1,vi],[i,3,3*vi],[i,6,6*vi],[i,12,12*vi],[r,1,Di],[r,2,2*Di],[n,1,jb],[e,1,EI],[e,3,3*EI],[t,1,sv]];function a(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),m=p?p.range(u,+c+1):[];return h?m.reverse():m}function l(u,c,f){const h=Math.abs(c-u)/f,p=Eb(([,,_])=>_).right(s,h);if(p===s.length)return t.every(pw(u/sv,c/sv,f));if(p===0)return Ap.every(Math.max(pw(u,c,f),1));const[m,g]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(g)}return[a,l]}const[XH,JH]=Cj(Mi,zb,rg,Ij,Bb,Lb),[ZH,eY]=Cj(Ri,$b,ng,Cf,Fb,Vb);function av(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function lv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Iu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function tY(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=Cu(i),c=Ou(i),f=Cu(o),h=Ou(o),p=Cu(s),m=Ou(s),g=Cu(a),_=Ou(a),v=Cu(l),w=Ou(l),x={a:le,A:z,b:Y,B:ne,c:null,d:CI,e:CI,f:TY,g:MY,G:jY,H:bY,I:xY,j:EY,L:Oj,m:AY,M:SY,p:Ee,q:Q,Q:DI,s:RI,S:PY,u:IY,U:CY,V:OY,w:kY,W:DY,x:null,X:null,y:RY,Y:NY,Z:VY,"%":kI},P={a:De,A:dn,b:be,B:Pn,c:null,d:OI,e:OI,f:$Y,g:XY,G:ZY,H:LY,I:FY,j:BY,L:Dj,m:zY,M:UY,p:hn,q:Zl,Q:DI,s:RI,S:KY,u:WY,U:qY,V:GY,w:HY,W:YY,x:null,X:null,y:QY,Y:JY,Z:eQ,"%":kI},S={a:k,A:D,b:N,B:R,c:se,d:PI,e:PI,f:yY,g:SI,G:AI,H:II,I:II,j:hY,L:gY,m:dY,M:pY,p:I,q:fY,Q:wY,s:_Y,S:mY,u:sY,U:aY,V:lY,w:oY,W:uY,x:me,X:_e,y:SI,Y:AI,Z:cY,"%":vY};x.x=O(n,x),x.X=O(r,x),x.c=O(e,x),P.x=O(n,P),P.X=O(r,P),P.c=O(e,P);function O(Z,fe){return function(de){var $=[],Ue=-1,Pe=0,wt=Z.length,jt,pn,ua;for(de instanceof Date||(de=new Date(+de));++Ue<wt;)Z.charCodeAt(Ue)===37&&($.push(Z.slice(Pe,Ue)),(pn=TI[jt=Z.charAt(++Ue)])!=null?jt=Z.charAt(++Ue):pn=jt==="e"?" ":"0",(ua=fe[jt])&&(jt=ua(de,pn)),$.push(jt),Pe=Ue+1);return $.push(Z.slice(Pe,Ue)),$.join("")}}function A(Z,fe){return function(de){var $=Iu(1900,void 0,1),Ue=T($,Z,de+="",0),Pe,wt;if(Ue!=de.length)return null;if("Q"in $)return new Date($.Q);if("s"in $)return new Date($.s*1e3+("L"in $?$.L:0));if(fe&&!("Z"in $)&&($.Z=0),"p"in $&&($.H=$.H%12+$.p*12),$.m===void 0&&($.m="q"in $?$.q:0),"V"in $){if($.V<1||$.V>53)return null;"w"in $||($.w=1),"Z"in $?(Pe=lv(Iu($.y,0,1)),wt=Pe.getUTCDay(),Pe=wt>4||wt===0?Pp.ceil(Pe):Pp(Pe),Pe=tg.offset(Pe,($.V-1)*7),$.y=Pe.getUTCFullYear(),$.m=Pe.getUTCMonth(),$.d=Pe.getUTCDate()+($.w+6)%7):(Pe=av(Iu($.y,0,1)),wt=Pe.getDay(),Pe=wt>4||wt===0?Sp.ceil(Pe):Sp(Pe),Pe=Cf.offset(Pe,($.V-1)*7),$.y=Pe.getFullYear(),$.m=Pe.getMonth(),$.d=Pe.getDate()+($.w+6)%7)}else("W"in $||"U"in $)&&("w"in $||($.w="u"in $?$.u%7:"W"in $?1:0),wt="Z"in $?lv(Iu($.y,0,1)).getUTCDay():av(Iu($.y,0,1)).getDay(),$.m=0,$.d="W"in $?($.w+6)%7+$.W*7-(wt+5)%7:$.w+$.U*7-(wt+6)%7);return"Z"in $?($.H+=$.Z/100|0,$.M+=$.Z%100,lv($)):av($)}}function T(Z,fe,de,$){for(var Ue=0,Pe=fe.length,wt=de.length,jt,pn;Ue<Pe;){if($>=wt)return-1;if(jt=fe.charCodeAt(Ue++),jt===37){if(jt=fe.charAt(Ue++),pn=S[jt in TI?fe.charAt(Ue++):jt],!pn||($=pn(Z,de,$))<0)return-1}else if(jt!=de.charCodeAt($++))return-1}return $}function I(Z,fe,de){var $=u.exec(fe.slice(de));return $?(Z.p=c.get($[0].toLowerCase()),de+$[0].length):-1}function k(Z,fe,de){var $=p.exec(fe.slice(de));return $?(Z.w=m.get($[0].toLowerCase()),de+$[0].length):-1}function D(Z,fe,de){var $=f.exec(fe.slice(de));return $?(Z.w=h.get($[0].toLowerCase()),de+$[0].length):-1}function N(Z,fe,de){var $=v.exec(fe.slice(de));return $?(Z.m=w.get($[0].toLowerCase()),de+$[0].length):-1}function R(Z,fe,de){var $=g.exec(fe.slice(de));return $?(Z.m=_.get($[0].toLowerCase()),de+$[0].length):-1}function se(Z,fe,de){return T(Z,e,fe,de)}function me(Z,fe,de){return T(Z,n,fe,de)}function _e(Z,fe,de){return T(Z,r,fe,de)}function le(Z){return s[Z.getDay()]}function z(Z){return o[Z.getDay()]}function Y(Z){return l[Z.getMonth()]}function ne(Z){return a[Z.getMonth()]}function Ee(Z){return i[+(Z.getHours()>=12)]}function Q(Z){return 1+~~(Z.getMonth()/3)}function De(Z){return s[Z.getUTCDay()]}function dn(Z){return o[Z.getUTCDay()]}function be(Z){return l[Z.getUTCMonth()]}function Pn(Z){return a[Z.getUTCMonth()]}function hn(Z){return i[+(Z.getUTCHours()>=12)]}function Zl(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var fe=O(Z+="",x);return fe.toString=function(){return Z},fe},parse:function(Z){var fe=A(Z+="",!1);return fe.toString=function(){return Z},fe},utcFormat:function(Z){var fe=O(Z+="",P);return fe.toString=function(){return Z},fe},utcParse:function(Z){var fe=A(Z+="",!0);return fe.toString=function(){return Z},fe}}}var TI={"-":"",_:" ",0:"0"},zt=/^\s*\d+/,nY=/^%/,rY=/[\\^$*+?|[\]().{}]/g;function Oe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function iY(t){return t.replace(rY,"\\$&")}function Cu(t){return new RegExp("^(?:"+t.map(iY).join("|")+")","i")}function Ou(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function oY(t,e,n){var r=zt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function sY(t,e,n){var r=zt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function aY(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function lY(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function uY(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function AI(t,e,n){var r=zt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function SI(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function cY(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fY(t,e,n){var r=zt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function dY(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function PI(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function hY(t,e,n){var r=zt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function II(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function pY(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function mY(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function gY(t,e,n){var r=zt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function yY(t,e,n){var r=zt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vY(t,e,n){var r=nY.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function wY(t,e,n){var r=zt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function _Y(t,e,n){var r=zt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function CI(t,e){return Oe(t.getDate(),e,2)}function bY(t,e){return Oe(t.getHours(),e,2)}function xY(t,e){return Oe(t.getHours()%12||12,e,2)}function EY(t,e){return Oe(1+Cf.count(Ri(t),t),e,3)}function Oj(t,e){return Oe(t.getMilliseconds(),e,3)}function TY(t,e){return Oj(t,e)+"000"}function AY(t,e){return Oe(t.getMonth()+1,e,2)}function SY(t,e){return Oe(t.getMinutes(),e,2)}function PY(t,e){return Oe(t.getSeconds(),e,2)}function IY(t){var e=t.getDay();return e===0?7:e}function CY(t,e){return Oe(ng.count(Ri(t)-1,t),e,2)}function kj(t){var e=t.getDay();return e>=4||e===0?yl(t):yl.ceil(t)}function OY(t,e){return t=kj(t),Oe(yl.count(Ri(t),t)+(Ri(t).getDay()===4),e,2)}function kY(t){return t.getDay()}function DY(t,e){return Oe(Sp.count(Ri(t)-1,t),e,2)}function RY(t,e){return Oe(t.getFullYear()%100,e,2)}function MY(t,e){return t=kj(t),Oe(t.getFullYear()%100,e,2)}function NY(t,e){return Oe(t.getFullYear()%1e4,e,4)}function jY(t,e){var n=t.getDay();return t=n>=4||n===0?yl(t):yl.ceil(t),Oe(t.getFullYear()%1e4,e,4)}function VY(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Oe(e/60|0,"0",2)+Oe(e%60,"0",2)}function OI(t,e){return Oe(t.getUTCDate(),e,2)}function LY(t,e){return Oe(t.getUTCHours(),e,2)}function FY(t,e){return Oe(t.getUTCHours()%12||12,e,2)}function BY(t,e){return Oe(1+tg.count(Mi(t),t),e,3)}function Dj(t,e){return Oe(t.getUTCMilliseconds(),e,3)}function $Y(t,e){return Dj(t,e)+"000"}function zY(t,e){return Oe(t.getUTCMonth()+1,e,2)}function UY(t,e){return Oe(t.getUTCMinutes(),e,2)}function KY(t,e){return Oe(t.getUTCSeconds(),e,2)}function WY(t){var e=t.getUTCDay();return e===0?7:e}function qY(t,e){return Oe(rg.count(Mi(t)-1,t),e,2)}function Rj(t){var e=t.getUTCDay();return e>=4||e===0?vl(t):vl.ceil(t)}function GY(t,e){return t=Rj(t),Oe(vl.count(Mi(t),t)+(Mi(t).getUTCDay()===4),e,2)}function HY(t){return t.getUTCDay()}function YY(t,e){return Oe(Pp.count(Mi(t)-1,t),e,2)}function QY(t,e){return Oe(t.getUTCFullYear()%100,e,2)}function XY(t,e){return t=Rj(t),Oe(t.getUTCFullYear()%100,e,2)}function JY(t,e){return Oe(t.getUTCFullYear()%1e4,e,4)}function ZY(t,e){var n=t.getUTCDay();return t=n>=4||n===0?vl(t):vl.ceil(t),Oe(t.getUTCFullYear()%1e4,e,4)}function eQ(){return"+0000"}function kI(){return"%"}function DI(t){return+t}function RI(t){return Math.floor(+t/1e3)}var ma,Mj,Nj;tQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tQ(t){return ma=tY(t),Mj=ma.format,ma.parse,Nj=ma.utcFormat,ma.utcParse,ma}function nQ(t){return new Date(t)}function rQ(t){return t instanceof Date?+t:+new Date(+t)}function Ub(t,e,n,r,i,o,s,a,l,u){var c=Cb(),f=c.invert,h=c.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),_=u("%I %p"),v=u("%a %d"),w=u("%b %d"),x=u("%B"),P=u("%Y");function S(O){return(l(O)<O?p:a(O)<O?m:s(O)<O?g:o(O)<O?_:r(O)<O?i(O)<O?v:w:n(O)<O?x:P)(O)}return c.invert=function(O){return new Date(f(O))},c.domain=function(O){return arguments.length?h(Array.from(O,rQ)):h().map(nQ)},c.ticks=function(O){var A=h();return t(A[0],A[A.length-1],O??10)},c.tickFormat=function(O,A){return A==null?S:u(A)},c.nice=function(O){var A=h();return(!O||typeof O.range!="function")&&(O=e(A[0],A[A.length-1],O??10)),O?h(bj(A,O)):c},c.copy=function(){return If(c,Ub(t,e,n,r,i,o,s,a,l,u))},c}function iQ(){return Cr.apply(Ub(ZH,eY,Ri,$b,ng,Cf,Fb,Vb,Es,Mj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function oQ(){return Cr.apply(Ub(XH,JH,Mi,zb,rg,tg,Bb,Lb,Es,Nj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ig(){var t=0,e=1,n,r,i,o,s=wn,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(h){var p,m;return arguments.length?([p,m]=h,s=f(p,m),u):[s(0),s(1)]}}return u.range=c(Ll),u.rangeRound=c(Ib),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Uo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function jj(){var t=zo(ig()(wn));return t.copy=function(){return Uo(t,jj())},zi.apply(t,arguments)}function Vj(){var t=Db(ig()).domain([1,10]);return t.copy=function(){return Uo(t,Vj()).base(t.base())},zi.apply(t,arguments)}function Lj(){var t=Rb(ig());return t.copy=function(){return Uo(t,Lj()).constant(t.constant())},zi.apply(t,arguments)}function Kb(){var t=Mb(ig());return t.copy=function(){return Uo(t,Kb()).exponent(t.exponent())},zi.apply(t,arguments)}function sQ(){return Kb.apply(null,arguments).exponent(.5)}function Fj(){var t=[],e=wn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Sf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(_o),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>WG(t,o/r))},n.copy=function(){return Fj(e).domain(t)},zi.apply(n,arguments)}function og(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=wn,c,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+c(g))-o)*(r*g<r*o?a:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(_){var v,w,x;return arguments.length?([v,w,x]=_,u=vH(g,[v,w,x]),p):[u(0),u(.5),u(1)]}}return p.range=m(Ll),p.rangeRound=m(Ib),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return c=g,i=g(t),o=g(e),s=g(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p}}function Bj(){var t=zo(og()(wn));return t.copy=function(){return Uo(t,Bj())},zi.apply(t,arguments)}function $j(){var t=Db(og()).domain([.1,1,10]);return t.copy=function(){return Uo(t,$j()).base(t.base())},zi.apply(t,arguments)}function zj(){var t=Rb(og());return t.copy=function(){return Uo(t,zj()).constant(t.constant())},zi.apply(t,arguments)}function Wb(){var t=Mb(og());return t.copy=function(){return Uo(t,Wb()).exponent(t.exponent())},zi.apply(t,arguments)}function aQ(){return Wb.apply(null,arguments).exponent(.5)}const Uu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ab,scaleDiverging:Bj,scaleDivergingLog:$j,scaleDivergingPow:Wb,scaleDivergingSqrt:aQ,scaleDivergingSymlog:zj,scaleIdentity:_j,scaleImplicit:mw,scaleLinear:wj,scaleLog:xj,scaleOrdinal:Tb,scalePoint:HG,scalePow:Nb,scaleQuantile:Aj,scaleQuantize:Sj,scaleRadial:Tj,scaleSequential:jj,scaleSequentialLog:Vj,scaleSequentialPow:Kb,scaleSequentialQuantile:Fj,scaleSequentialSqrt:sQ,scaleSequentialSymlog:Lj,scaleSqrt:$H,scaleSymlog:Ej,scaleThreshold:Pj,scaleTime:iQ,scaleUtc:oQ,tickFormat:vj},Symbol.toStringTag,{value:"Module"}));var Ko=t=>t.chartData,qb=L([Ko],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),sg=(t,e,n,r)=>r?qb(t):Ko(t);function wl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Jt(e)&&Jt(n))return!0}return!1}function MI(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function lQ(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(Jt(n))i=n;else if(typeof n=="function")return;if(Jt(r))o=r;else if(typeof r=="function")return;var s=[i,o];if(wl(s))return s}}function uQ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(wl(r))return MI(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,s,a;if(i==="auto")e!=null&&(s=Math.min(...e));else if(G(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&OP.test(i)){var l=OP.exec(i);if(l==null||e==null)s=void 0;else{var u=+l[1];s=e[0]-u}}else s=e==null?void 0:e[0];if(o==="auto")e!=null&&(a=Math.max(...e));else if(G(o))a=o;else if(typeof o=="function")try{e!=null&&(a=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&kP.test(o)){var c=kP.exec(o);if(c==null||e==null)a=void 0;else{var f=+c[1];a=e[1]+f}}else a=e==null?void 0:e[1];var h=[s,a];if(wl(h))return e==null?h:MI(h,e,n)}}}var Fl=1e9,cQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Hb,Xe=!0,Sr="[DecimalError] ",Rs=Sr+"Invalid argument: ",Gb=Sr+"Exponent out of range: ",Bl=Math.floor,as=Math.pow,fQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hn,Vt=1e7,qe=7,Uj=9007199254740991,Ip=Bl(Uj/qe),te={};te.absoluteValue=te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};te.comparedTo=te.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};te.decimalPlaces=te.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*qe;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};te.dividedBy=te.div=function(t){return xi(this,new this.constructor(t))};te.dividedToIntegerBy=te.idiv=function(t){var e=this,n=e.constructor;return Fe(xi(e,new n(t),0,1),n.precision)};te.equals=te.eq=function(t){return!this.cmp(t)};te.exponent=function(){return At(this)};te.greaterThan=te.gt=function(t){return this.cmp(t)>0};te.greaterThanOrEqualTo=te.gte=function(t){return this.cmp(t)>=0};te.isInteger=te.isint=function(){return this.e>this.d.length-2};te.isNegative=te.isneg=function(){return this.s<0};te.isPositive=te.ispos=function(){return this.s>0};te.isZero=function(){return this.s===0};te.lessThan=te.lt=function(t){return this.cmp(t)<0};te.lessThanOrEqualTo=te.lte=function(t){return this.cmp(t)<1};te.logarithm=te.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Hn))throw Error(Sr+"NaN");if(n.s<1)throw Error(Sr+(n.s?"NaN":"-Infinity"));return n.eq(Hn)?new r(0):(Xe=!1,e=xi(Xc(n,o),Xc(t,o),o),Xe=!0,Fe(e,i))};te.minus=te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?qj(e,t):Kj(e,(t.s=-t.s,t))};te.modulo=te.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Sr+"NaN");return n.s?(Xe=!1,e=xi(n,t,0,1).times(t),Xe=!0,n.minus(e)):Fe(new r(n),i)};te.naturalExponential=te.exp=function(){return Wj(this)};te.naturalLogarithm=te.ln=function(){return Xc(this)};te.negated=te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};te.plus=te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Kj(e,t):qj(e,(t.s=-t.s,t))};te.precision=te.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Rs+t);if(e=At(i)+1,r=i.d.length-1,n=r*qe+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};te.squareRoot=te.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Sr+"NaN")}for(t=At(a),Xe=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=qr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Bl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(xi(a,o,s+2)).times(.5),qr(o.d).slice(0,s)===(e=qr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Fe(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return Xe=!0,Fe(r,n)};te.times=te.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,f=c.constructor,h=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=p.length,l<u&&(o=h,h=p,p=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+p[r]*h[i-r-1]+e,o[i--]=a%Vt|0,e=a/Vt|0;o[i]=(o[i]+e)%Vt|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Xe?Fe(t,f.precision):t};te.toDecimalPlaces=te.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ni(t,0,Fl),e===void 0?e=r.rounding:ni(e,0,8),Fe(n,t+At(n)+1,e))};te.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Us(r,!0):(ni(t,0,Fl),e===void 0?e=i.rounding:ni(e,0,8),r=Fe(new i(r),t+1,e),n=Us(r,!0,t+1)),n};te.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Us(i):(ni(t,0,Fl),e===void 0?e=o.rounding:ni(e,0,8),r=Fe(new o(i),t+At(i)+1,e),n=Us(r.abs(),!1,t+At(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};te.toInteger=te.toint=function(){var t=this,e=t.constructor;return Fe(new e(t),At(t)+1,e.rounding)};te.toNumber=function(){return+this};te.toPower=te.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Hn);if(a=new l(a),!a.s){if(t.s<1)throw Error(Sr+"Infinity");return a}if(a.eq(Hn))return a;if(r=l.precision,t.eq(Hn))return Fe(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=Uj){for(i=new l(Hn),e=Math.ceil(r/qe+4),Xe=!1;n%2&&(i=i.times(a),jI(i.d,e)),n=Bl(n/2),n!==0;)a=a.times(a),jI(a.d,e);return Xe=!0,t.s<0?new l(Hn).div(i):Fe(i,r)}}else if(o<0)throw Error(Sr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,Xe=!1,i=t.times(Xc(a,r+u)),Xe=!0,i=Wj(i),i.s=o,i};te.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=At(i),r=Us(i,n<=o.toExpNeg||n>=o.toExpPos)):(ni(t,1,Fl),e===void 0?e=o.rounding:ni(e,0,8),i=Fe(new o(i),t,e),n=At(i),r=Us(i,t<=n||n<=o.toExpNeg,t)),r};te.toSignificantDigits=te.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ni(t,1,Fl),e===void 0?e=r.rounding:ni(e,0,8)),Fe(new r(n),t,e)};te.toString=te.valueOf=te.val=te.toJSON=te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=At(t),n=t.constructor;return Us(t,e<=n.toExpNeg||e>=n.toExpPos)};function Kj(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Xe?Fe(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/qe),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Vt|0,l[o]%=Vt;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,Xe?Fe(e,f):e}function ni(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Rs+t)}function qr(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=qe-r.length,n&&(o+=ro(n)),o+=r;s=t[e],r=s+"",n=qe-r.length,n&&(o+=ro(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var xi=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Vt|0,s=o/Vt|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Vt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,f,h,p,m,g,_,v,w,x,P,S,O,A,T,I=r.constructor,k=r.s==i.s?1:-1,D=r.d,N=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Sr+"Division by zero");for(l=r.e-i.e,A=N.length,S=D.length,p=new I(k),m=p.d=[],u=0;N[u]==(D[u]||0);)++u;if(N[u]>(D[u]||0)&&--l,o==null?w=o=I.precision:s?w=o+(At(r)-At(i))+1:w=o,w<0)return new I(0);if(w=w/qe+2|0,u=0,A==1)for(c=0,N=N[0],w++;(u<S||c)&&w--;u++)x=c*Vt+(D[u]||0),m[u]=x/N|0,c=x%N|0;else{for(c=Vt/(N[0]+1)|0,c>1&&(N=t(N,c),D=t(D,c),A=N.length,S=D.length),P=A,g=D.slice(0,A),_=g.length;_<A;)g[_++]=0;T=N.slice(),T.unshift(0),O=N[0],N[1]>=Vt/2&&++O;do c=0,a=e(N,g,A,_),a<0?(v=g[0],A!=_&&(v=v*Vt+(g[1]||0)),c=v/O|0,c>1?(c>=Vt&&(c=Vt-1),f=t(N,c),h=f.length,_=g.length,a=e(f,g,h,_),a==1&&(c--,n(f,A<h?T:N,h))):(c==0&&(a=c=1),f=N.slice()),h=f.length,h<_&&f.unshift(0),n(g,f,_),a==-1&&(_=g.length,a=e(N,g,A,_),a<1&&(c++,n(g,A<_?T:N,_))),_=g.length):a===0&&(c++,g=[0]),m[u++]=c,a&&g[0]?g[_++]=D[P]||0:(g=[D[P]],_=1);while((P++<S||g[0]!==void 0)&&w--)}return m[0]||m.shift(),p.e=l,Fe(p,s?o+At(p)+1:o)}}();function Wj(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,f=c.precision;if(At(t)>16)throw Error(Gb+At(t));if(!t.s)return new c(Hn);for(e==null?(Xe=!1,a=f):a=e,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(as(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(Hn),c.precision=a;;){if(i=Fe(i.times(t),a),n=n.times(++l),s=o.plus(xi(i,n,a)),qr(s.d).slice(0,a)===qr(o.d).slice(0,a)){for(;u--;)o=Fe(o.times(o),a);return c.precision=f,e==null?(Xe=!0,Fe(o,f)):o}o=s}}function At(t){for(var e=t.e*qe,n=t.d[0];n>=10;n/=10)e++;return e}function uv(t,e,n){if(e>t.LN10.sd())throw Xe=!0,n&&(t.precision=n),Error(Sr+"LN10 precision limit exceeded");return Fe(new t(t.LN10),e)}function ro(t){for(var e="";t--;)e+="0";return e}function Xc(t,e){var n,r,i,o,s,a,l,u,c,f=1,h=10,p=t,m=p.d,g=p.constructor,_=g.precision;if(p.s<1)throw Error(Sr+(p.s?"NaN":"-Infinity"));if(p.eq(Hn))return new g(0);if(e==null?(Xe=!1,u=_):u=e,p.eq(10))return e==null&&(Xe=!0),uv(g,u);if(u+=h,g.precision=u,n=qr(m),r=n.charAt(0),o=At(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=qr(p.d),r=n.charAt(0),f++;o=At(p),r>1?(p=new g("0."+n),o++):p=new g(r+"."+n.slice(1))}else return l=uv(g,u+2,_).times(o+""),p=Xc(new g(r+"."+n.slice(1)),u-h).plus(l),g.precision=_,e==null?(Xe=!0,Fe(p,_)):p;for(a=s=p=xi(p.minus(Hn),p.plus(Hn),u),c=Fe(p.times(p),u),i=3;;){if(s=Fe(s.times(c),u),l=a.plus(xi(s,new g(i),u)),qr(l.d).slice(0,u)===qr(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(uv(g,u+2,_).times(o+""))),a=xi(a,new g(f),u),g.precision=_,e==null?(Xe=!0,Fe(a,_)):a;a=l,i+=2}}function NI(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Bl(n/qe),t.d=[],r=(n+1)%qe,n<0&&(r+=qe),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=qe;r<i;)t.d.push(+e.slice(r,r+=qe));e=e.slice(r),r=qe-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Xe&&(t.e>Ip||t.e<-Ip))throw Error(Gb+n)}else t.s=0,t.e=0,t.d=[0];return t}function Fe(t,e,n){var r,i,o,s,a,l,u,c,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=qe,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/qe),o=f.length,c>=o)return t;for(u=o=f[c],s=1;o>=10;o/=10)s++;r%=qe,i=r-qe+s}if(n!==void 0&&(o=as(10,s-i-1),a=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/as(10,s-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=At(t),f.length=1,e=e-o-1,f[0]=as(10,(qe-e%qe)%qe),t.e=Bl(-e/qe)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=as(10,qe-r),f[c]=i>0?(u/as(10,s-i)%as(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==Vt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=Vt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(Xe&&(t.e>Ip||t.e<-Ip))throw Error(Gb+At(t));return t}function qj(t,e){var n,r,i,o,s,a,l,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Xe?Fe(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(p/qe),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Vt-1;--l[o],l[i]+=Vt}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Xe?Fe(e,p):e):new h(0)}function Us(t,e,n){var r,i=At(t),o=qr(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+ro(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ro(-i-1)+o,n&&(r=n-s)>0&&(o+=ro(r))):i>=s?(o+=ro(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+ro(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=ro(r))),t.s<0?"-"+o:o}function jI(t,e){if(t.length>e)return t.length=e,!0}function Gj(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Rs+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return NI(s,o.toString())}else if(typeof o!="string")throw Error(Rs+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,fQ.test(o))NI(s,o);else throw Error(Rs+o)}if(i.prototype=te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Gj,i.config=i.set=dQ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function dQ(t){if(!t||typeof t!="object")throw Error(Sr+"Object expected");var e,n,r,i=["precision",1,Fl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Bl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Rs+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Rs+n+": "+r);return this}var Hb=Gj(cQ);Hn=new Hb(1);const Re=Hb;var hQ=t=>t,Hj={"@@functional/placeholder":!0},Yj=t=>t===Hj,VI=t=>function e(){return arguments.length===0||arguments.length===1&&Yj(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},Qj=(t,e)=>t===1?e:VI(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(s=>s!==Hj).length;return o>=t?e(...r):Qj(t-o,VI(function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];var u=r.map(c=>Yj(c)?a.shift():c);return e(...u,...a)}))}),ag=t=>Qj(t.length,t),ww=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},pQ=ag((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),mQ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return hQ;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce((a,l)=>l(a),o(...arguments))}},_w=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),Xj=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e&&i.every((s,a)=>{var l;return s===((l=e)===null||l===void 0?void 0:l[a])})||(e=i,n=t(...i)),n}};function Jj(t){var e;return t===0?e=1:e=Math.floor(new Re(t).abs().log(10).toNumber())+1,e}function Zj(t,e,n){for(var r=new Re(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}ag((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});ag((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});ag((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var eV=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},tV=(t,e,n)=>{if(t.lte(0))return new Re(0);var r=Jj(t.toNumber()),i=new Re(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Re(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?new Re(l.toNumber()):new Re(Math.ceil(l.toNumber()))},gQ=(t,e,n)=>{var r=new Re(1),i=new Re(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Re(10).pow(Jj(t)-1),i=new Re(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Re(Math.floor(t)))}else t===0?i=new Re(Math.floor((e-1)/2)):n||(i=new Re(Math.floor(t)));var s=Math.floor((e-1)/2),a=mQ(pQ(l=>i.add(new Re(l-s).mul(r)).toNumber()),ww);return a(0,e)},nV=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Re(0),tickMin:new Re(0),tickMax:new Re(0)};var s=tV(new Re(n).sub(e).div(r-1),i,o),a;e<=0&&n>=0?a=new Re(0):(a=new Re(e).add(n).div(2),a=a.sub(new Re(a).mod(s)));var l=Math.ceil(a.sub(e).div(s).toNumber()),u=Math.ceil(new Re(n).sub(a).div(s).toNumber()),c=l+u+1;return c>r?nV(e,n,r,i,o+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:s,tickMin:a.sub(new Re(l).mul(s)),tickMax:a.add(new Re(u).mul(s))})};function yQ(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[s,a]=eV([e,n]);if(s===-1/0||a===1/0){var l=a===1/0?[s,...ww(0,r-1).map(()=>1/0)]:[...ww(0,r-1).map(()=>-1/0),a];return e>n?_w(l):l}if(s===a)return gQ(s,r,i);var{step:u,tickMin:c,tickMax:f}=nV(s,a,o,i,0),h=Zj(c,f.add(new Re(.1).mul(u)),u);return e>n?_w(h):h}function vQ(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=eV([n,r]);if(o===-1/0||s===1/0)return[n,r];if(o===s)return[o];var a=Math.max(e,2),l=tV(new Re(s).sub(o).div(a-1),i,0),u=[...Zj(new Re(o),new Re(s),l),s];return i===!1&&(u=u.map(c=>Math.round(c))),n>r?_w(u):u}var wQ=Xj(yQ),_Q=Xj(vQ),rV=t=>t.rootProps.maxBarSize,bQ=t=>t.rootProps.barGap,iV=t=>t.rootProps.barCategoryGap,xQ=t=>t.rootProps.barSize,Of=t=>t.rootProps.stackOffset,Yb=t=>t.options.chartName,Qb=t=>t.rootProps.syncId,oV=t=>t.rootProps.syncMethod,Xb=t=>t.options.eventEmitter,hi={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},qn={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},lg=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},EQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:hi.angleAxisId,includeHidden:!1,name:void 0,reversed:hi.reversed,scale:hi.scale,tick:hi.tick,tickCount:void 0,ticks:void 0,type:hi.type,unit:void 0},TQ={allowDataOverflow:qn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:qn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qn.scale,tick:qn.tick,tickCount:qn.tickCount,ticks:void 0,type:qn.type,unit:void 0},AQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:hi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hi.scale,tick:hi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},SQ={allowDataOverflow:qn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:qn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qn.scale,tick:qn.tick,tickCount:qn.tickCount,ticks:void 0,type:"category",unit:void 0},Jb=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?AQ:EQ,Zb=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?SQ:TQ,ug=t=>t.polarOptions,ex=L([Bi,$i,kt],kN),sV=L([ug,ex],(t,e)=>{if(t!=null)return xn(t.innerRadius,e,0)}),aV=L([ug,ex],(t,e)=>{if(t!=null)return xn(t.outerRadius,e,e*.8)}),PQ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},lV=L([ug],PQ);L([Jb,lV],lg);var uV=L([ex,sV,aV],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});L([Zb,uV],lg);var cV=L([xe,ug,sV,aV,Bi,$i],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:a,startAngle:l,endAngle:u}=e;return{cx:xn(s,i,i/2),cy:xn(a,o,o/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),et=(t,e)=>e,kf=(t,e,n)=>n;function cg(t){return t==null?void 0:t.id}var Rt=t=>{var e=xe(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},$l=t=>t.tooltip.settings.axisId,Mt=t=>{var e=Rt(t),n=$l(t);return Df(t,e,n)};function fV(t,e,n){var{chartData:r=[]}=e,i=n==null?void 0:n.dataKey,o=new Map;return t.forEach(s=>{var a,l=(a=s.data)!==null&&a!==void 0?a:r;if(!(l==null||l.length===0)){var u=cg(s);l.forEach((c,f)=>{var h=i==null?f:String(Le(c,i,null)),p=Le(c,s.dataKey,0),m;o.has(h)?m=o.get(h):m={},Object.assign(m,{[u]:p}),o.set(h,m)})}}),Array.from(o.values())}function fg(t){return t.stackId!=null&&t.dataKey!=null}function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){IQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IQ(t,e,n){return(e=CQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CQ(t){var e=OQ(t,"string");return typeof e=="symbol"?e:e+""}function OQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bw=[0,"auto"],Un={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ui=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??Un},Kn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:bw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Qm},Wo=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??Kn},kQ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},tx=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??kQ},vt=(t,e,n)=>{switch(e){case"xAxis":return Ui(t,n);case"yAxis":return Wo(t,n);case"zAxis":return tx(t,n);case"angleAxis":return Jb(t,n);case"radiusAxis":return Zb(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},DQ=(t,e,n)=>{switch(e){case"xAxis":return Ui(t,n);case"yAxis":return Wo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Df=(t,e,n)=>{switch(e){case"xAxis":return Ui(t,n);case"yAxis":return Wo(t,n);case"angleAxis":return Jb(t,n);case"radiusAxis":return Zb(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},dV=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function nx(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var dg=t=>t.graphicalItems.cartesianItems,RQ=L([et,kf],nx),rx=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Rf=L([dg,vt,RQ],rx),hV=L([Rf],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(fg)),pV=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),mV=L([Rf],pV),ix=t=>t.map(e=>e.data).filter(Boolean).flat(1),MQ=L([Rf],ix),ox=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},sx=L([MQ,sg],ox),ax=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Le(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Le(i,r)}))):t.map(r=>({value:r})),hg=L([sx,vt,Rf],ax);function gV(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function ia(t){return t.filter(e=>ti(e)||e instanceof Date).map(Number).filter(e=>Fn(e)===!1)}function NQ(t,e,n){return!n||typeof e!="number"||Fn(e)?[]:n.length?ia(n.flatMap(r=>{var i=Le(t,r.dataKey),o,s;if(Array.isArray(i)?[o,s]=i:o=s=i,!(!Jt(o)||!Jt(s)))return[e-o,e+s]})):[]}var jQ=L([hV,sg,Mt],fV),yV=(t,e,n)=>{var r={},i=e.reduce((o,s)=>(s.stackId==null||(o[s.stackId]==null&&(o[s.stackId]=[]),o[s.stackId].push(s)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[s,a]=o,l=a.map(cg);return[s,{stackedData:G7(t,l,n),graphicalItems:a}]}))},Jc=L([jQ,hV,Of],yV),vV=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var o=X7(t,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},VQ=L([Jc,Ko,et],vV),wV=(t,e,n,r,i)=>n.length>0?t.flatMap(o=>n.flatMap(s=>{var a,l,u=(a=r[s.id])===null||a===void 0?void 0:a.filter(f=>gV(i,f)),c=Le(o,(l=e.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:c,errorDomain:NQ(o,c,u)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(o=>({value:Le(o,e.dataKey),errorDomain:[]})):t.map(o=>({value:o,errorDomain:[]})),pg=t=>t.errorBars,_V=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>gV(n,r));L([mV,pg,et],_V);var LQ=L([sx,vt,mV,pg,et],wV);function FQ(t){var{value:e}=t;if(ti(e)||e instanceof Date)return e}var FI=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=ia(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},BQ=(t,e,n)=>{var r=t.map(FQ).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&cM(r))?lj(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},lx=t=>{var e;if(t==null||!("domain"in t))return bw;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=ia(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:bw},Op=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),s=Math.min(...o),a=Math.max(...o);return[s,a]}},bV=t=>t.referenceElements.dots,zl=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),$Q=L([bV,et,kf],zl),xV=t=>t.referenceElements.areas,zQ=L([xV,et,kf],zl),EV=t=>t.referenceElements.lines,UQ=L([EV,et,kf],zl),TV=(t,e)=>{var n=ia(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},KQ=L($Q,et,TV),AV=(t,e)=>{var n=ia(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},WQ=L([zQ,et],AV),SV=(t,e)=>{var n=ia(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},qQ=L(UQ,et,SV),GQ=L(KQ,qQ,WQ,(t,e,n)=>Op(t,n,e)),PV=L([vt],lx),ux=(t,e,n,r,i,o,s)=>{var a=lQ(e,t.allowDataOverflow);if(a!=null)return a;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=l?Op(n,i,FI(r)):Op(i,FI(r));return uQ(e,u,t.allowDataOverflow)},HQ=L([vt,PV,VQ,LQ,GQ,xe,et],ux),YQ=[0,1],cx=(t,e,n,r,i,o,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:a,type:l}=t,u=Fi(e,o);return u&&a==null?lj(0,n.length):l==="category"?BQ(r,t,u):i==="expand"?YQ:s}},fx=L([vt,xe,sx,hg,Of,et,HQ],cx),IV=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:s}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof o=="string"){var a="scale".concat(xf(o));return a in Uu?a:"point"}}},Ul=L([vt,xe,dV,Yb,et],IV);function QQ(t){if(t!=null){if(t in Uu)return Uu[t]();var e="scale".concat(xf(t));if(e in Uu)return Uu[e]()}}function dx(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=QQ(e);if(i!=null){var o=i.domain(n).range(r);return z7(o),o}}}var hx=(t,e,n)=>{var r=lx(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&wl(t))return wQ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&wl(t))return _Q(t,e.tickCount,e.allowDecimals)}},px=L([fx,Df,Ul],hx),mx=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&wl(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],s=e[1],a=n[n.length-1];return[Math.min(i,o),Math.max(s,a)]}return e},XQ=L([vt,fx,px,et],mx),JQ=L(hg,vt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(ia(t.map(a=>a.value))).sort((a,l)=>a-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var s=r[o+1]-r[o];n=Math.min(n,s)}return n/i}}),CV=L(JQ,xe,iV,kt,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Jt(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var s=xn(n,t*o),a=t*o/2;return a-s-(a-s)/o*s}return 0}),ZQ=(t,e)=>{var n=Ui(t,e);return n==null||typeof n.padding!="string"?0:CV(t,"xAxis",e,n.padding)},eX=(t,e)=>{var n=Wo(t,e);return n==null||typeof n.padding!="string"?0:CV(t,"yAxis",e,n.padding)},tX=L(Ui,ZQ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),nX=L(Wo,eX,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),rX=L([kt,tX,Jm,Xm,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),iX=L([kt,xe,nX,Jm,Xm,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:s}=i;return o?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Mf=(t,e,n,r)=>{var i;switch(e){case"xAxis":return rX(t,n,r);case"yAxis":return iX(t,n,r);case"zAxis":return(i=tx(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return lV(t);case"radiusAxis":return uV(t,n);default:return}},OV=L([vt,Mf],lg),Kl=L([vt,Ul,XQ,OV],dx);L([Rf,pg,et],_V);function kV(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var mg=(t,e)=>e,gg=(t,e,n)=>n,oX=L(gb,mg,gg,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(kV)),sX=L(yb,mg,gg,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(kV)),DV=(t,e)=>({width:t.width,height:e.height}),aX=(t,e)=>{var n=typeof e.width=="number"?e.width:Qm;return{width:n,height:t.height}},RV=L(kt,Ui,DV),lX=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},uX=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},cX=L($i,kt,oX,mg,gg,(t,e,n,r,i)=>{var o={},s;return n.forEach(a=>{var l=DV(e,a);s==null&&(s=lX(e,r,t));var u=r==="top"&&!i||r==="bottom"&&i;o[a.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),o}),fX=L(Bi,kt,sX,mg,gg,(t,e,n,r,i)=>{var o={},s;return n.forEach(a=>{var l=aX(e,a);s==null&&(s=uX(e,r,t));var u=r==="left"&&!i||r==="right"&&i;o[a.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),o}),dX=(t,e)=>{var n=kt(t),r=Ui(t,e);if(r!=null){var i=cX(t,r.orientation,r.mirror),o=i[e];return o==null?{x:n.left,y:0}:{x:n.left,y:o}}},hX=(t,e)=>{var n=kt(t),r=Wo(t,e);if(r!=null){var i=fX(t,r.orientation,r.mirror),o=i[e];return o==null?{x:0,y:n.top}:{x:o,y:n.top}}},MV=L(kt,Wo,(t,e)=>{var n=typeof e.width=="number"?e.width:Qm;return{width:n,height:t.height}}),BI=(t,e,n)=>{switch(e){case"xAxis":return RV(t,n).width;case"yAxis":return MV(t,n).height;default:return}},NV=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:s}=n,a=Fi(t,r),l=e.map(u=>u.value);if(s&&a&&o==="category"&&i&&cM(l))return l}},gx=L([xe,hg,vt,et],NV),jV=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,s=Fi(t,r);if(s&&(i==="number"||o!=="auto"))return e.map(a=>a.value)}},yx=L([xe,hg,Df,et],jV),$I=L([xe,DQ,Ul,Kl,gx,yx,Mf,px,et],(t,e,n,r,i,o,s,a,l)=>{if(e==null)return null;var u=Fi(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:o,duplicateDomain:i,isCategorical:u,niceTicks:a,range:s,realScaleType:n,scale:r}}),pX=(t,e,n,r,i,o,s,a,l)=>{if(!(e==null||r==null)){var u=Fi(t,l),{type:c,ticks:f,tickCount:h}=e,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,m=c==="category"&&r.bandwidth?r.bandwidth()/p:0;m=l==="angleAxis"&&o!=null&&o.length>=2?Bt(o[0]-o[1])*2*m:m;var g=f||i;if(g){var _=g.map((v,w)=>{var x=s?s.indexOf(v):v;return{index:w,coordinate:r(x)+m,value:v,offset:m}});return _.filter(v=>!Fn(v.coordinate))}return u&&a?a.map((v,w)=>({coordinate:r(v)+m,value:v,index:w,offset:m})):r.ticks?r.ticks(h).map(v=>({coordinate:r(v)+m,value:v,offset:m})):r.domain().map((v,w)=>({coordinate:r(v)+m,value:s?s[v]:v,index:w,offset:m}))}},VV=L([xe,Df,Ul,Kl,px,Mf,gx,yx,et],pX),mX=(t,e,n,r,i,o,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var a=Fi(t,s),{tickCount:l}=e,u=0;return u=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Bt(r[0]-r[1])*2*u:u,a&&o?o.map((c,f)=>({coordinate:n(c)+u,value:c,index:f,offset:u})):n.ticks?n.ticks(l).map(c=>({coordinate:n(c)+u,value:c,offset:u})):n.domain().map((c,f)=>({coordinate:n(c)+u,value:i?i[c]:c,index:f,offset:u}))}},Do=L([xe,Df,Kl,Mf,gx,yx,et],mX),Ro=L(vt,Kl,(t,e)=>{if(!(t==null||e==null))return Cp(Cp({},t),{},{scale:e})}),gX=L([vt,Ul,fx,OV],dx);L((t,e,n)=>tx(t,n),gX,(t,e)=>{if(!(t==null||e==null))return Cp(Cp({},t),{},{scale:e})});var yX=L([xe,gb,yb],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),LV=t=>t.options.defaultTooltipEventType,FV=t=>t.options.validateTooltipEventTypes;function BV(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function vx(t,e){var n=LV(t),r=FV(t);return BV(e,n,r)}function vX(t){return re(e=>vx(e,t))}var $V=(t,e)=>{var n,r=Number(e);if(!(Fn(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},wX=t=>t.tooltip.settings,so={active:!1,index:null,dataKey:void 0,coordinate:void 0},_X={itemInteraction:{click:so,hover:so},axisInteraction:{click:so,hover:so},keyboardInteraction:so,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},zV=or({name:"tooltip",initialState:_X,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=bi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:bX,removeTooltipEntrySettings:xX,setTooltipSettingsState:EX,setActiveMouseOverItemIndex:UV,mouseLeaveItem:TX,mouseLeaveChart:KV,setActiveClickItemIndex:AX,setMouseOverAxisIndex:WV,setMouseClickAxisIndex:SX,setSyncInteraction:xw,setKeyboardInteraction:Ew}=zV.actions,PX=zV.reducer;function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){IX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IX(t,e,n){return(e=CX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CX(t){var e=OX(t,"string");return typeof e=="symbol"?e:e+""}function OX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kX(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function DX(t){return t.index!=null}var qV=(t,e,n,r)=>{if(e==null)return so;var i=kX(t,e,n);if(i==null)return so;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(DX(i)){if(o)return Wd(Wd({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Wd(Wd({},so),{},{coordinate:i.coordinate})},wx=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!Jt(r))return n;var i=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(i,Math.min(r,o)))},GV=(t,e,n,r,i,o,s,a)=>{if(!(o==null||a==null)){var l=s[0],u=l==null?void 0:a(l.positions,o);if(u!=null)return u;var c=i==null?void 0:i[Number(o)];if(c)switch(n){case"horizontal":return{x:c.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:c.coordinate}}}},HV=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.dataKey)===i})},Nf=t=>t.options.tooltipPayloadSearcher,Wl=t=>t.tooltip;function UI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UI(Object(n),!0).forEach(function(r){RX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RX(t,e,n){return(e=MX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MX(t){var e=NX(t,"string");return typeof e=="symbol"?e:e+""}function NX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jX(t,e){return t??e}var YV=(t,e,n,r,i,o,s)=>{if(!(e==null||o==null)){var{chartData:a,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,f=[];return t.reduce((h,p)=>{var m,{dataDefinedOnItem:g,settings:_}=p,v=jX(g,a),w=Array.isArray(v)?DN(v,u,c):v,x=(m=_==null?void 0:_.dataKey)!==null&&m!==void 0?m:r==null?void 0:r.dataKey,P=_==null?void 0:_.nameKey,S;if(r!=null&&r.dataKey&&Array.isArray(w)&&!Array.isArray(w[0])&&s==="axis"?S=fM(w,r.dataKey,i):S=o(w,e,l,P),Array.isArray(S))S.forEach(A=>{var T=KI(KI({},_),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});h.push(DP({tooltipEntrySettings:T,dataKey:A.dataKey,payload:A.payload,value:Le(A.payload,A.dataKey),name:A.name}))});else{var O;h.push(DP({tooltipEntrySettings:_,dataKey:x,payload:S,value:Le(S,x),name:(O=Le(S,P))!==null&&O!==void 0?O:_==null?void 0:_.name}))}return h},f)}},_x=L([Mt,xe,dV,Yb,Rt],IV),VX=L([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),LX=L([Rt,$l],nx),jf=L([VX,Mt,LX],rx),FX=L([jf],t=>t.filter(fg)),BX=L([jf],ix),ql=L([BX,Ko],ox),$X=L([FX,Ko,Mt],fV),bx=L([ql,Mt,jf],ax),zX=L([Mt],lx),UX=L([jf],t=>t.filter(fg)),KX=L([$X,UX,Of],yV),WX=L([KX,Ko,Rt],vV),qX=L([jf],pV),GX=L([ql,Mt,qX,pg,Rt],wV),HX=L([bV,Rt,$l],zl),YX=L([HX,Rt],TV),QX=L([xV,Rt,$l],zl),XX=L([QX,Rt],AV),JX=L([EV,Rt,$l],zl),ZX=L([JX,Rt],SV),eJ=L([YX,ZX,XX],Op),tJ=L([Mt,zX,WX,GX,eJ,xe,Rt],ux),QV=L([Mt,xe,ql,bx,Of,Rt,tJ],cx),nJ=L([QV,Mt,_x],hx),rJ=L([Mt,QV,nJ,Rt],mx),XV=t=>{var e=Rt(t),n=$l(t),r=!1;return Mf(t,e,n,r)},JV=L([Mt,XV],lg),ZV=L([Mt,_x,rJ,JV],dx),iJ=L([xe,bx,Mt,Rt],NV),oJ=L([xe,bx,Mt,Rt],jV),sJ=(t,e,n,r,i,o,s,a)=>{if(e){var{type:l}=e,u=Fi(t,a);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return f=a==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Bt(i[0]-i[1])*2*f:f,u&&s?s.map((h,p)=>({coordinate:r(h)+f,value:h,index:p,offset:f})):r.domain().map((h,p)=>({coordinate:r(h)+f,value:o?o[h]:h,index:p,offset:f}))}}},Ki=L([xe,Mt,_x,ZV,XV,iJ,oJ,Rt],sJ),xx=L([LV,FV,wX],(t,e,n)=>BV(n.shared,t,e)),eL=t=>t.tooltip.settings.trigger,Ex=t=>t.tooltip.settings.defaultIndex,yg=L([Wl,xx,eL,Ex],qV),Mo=L([yg,ql],wx),tL=L([Ki,Mo],$V),nL=L([yg],t=>{if(t)return t.dataKey}),rL=L([Wl,xx,eL,Ex],HV),aJ=L([Bi,$i,xe,kt,Ki,Ex,rL,Nf],GV),lJ=L([yg,aJ],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),uJ=L([yg],t=>t.active),cJ=L([rL,Mo,Ko,Mt,tL,Nf,xx],YV),fJ=L([cJ],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function WI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(n),!0).forEach(function(r){dJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dJ(t,e,n){return(e=hJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hJ(t){var e=pJ(t,"string");return typeof e=="symbol"?e:e+""}function pJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mJ=()=>re(Mt),gJ=()=>{var t=mJ(),e=re(Ki),n=re(ZV);return Wc(qI(qI({},t),{},{scale:n}),e)},iL=()=>re(Yb),Tx=(t,e)=>e,oL=(t,e,n)=>n,Ax=(t,e,n,r)=>r,yJ=L(Ki,t=>Um(t,e=>e.coordinate)),Sx=L([Wl,Tx,oL,Ax],qV),sL=L([Sx,ql],wx),vJ=(t,e,n)=>{if(e!=null){var r=Wl(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},aL=L([Wl,Tx,oL,Ax],HV),kp=L([Bi,$i,xe,kt,Ki,Ax,aL,Nf],GV),wJ=L([Sx,kp],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),lL=L(Ki,sL,$V),_J=L([aL,sL,Ko,Mt,lL,Nf,Tx],YV),bJ=L([Sx],t=>({isActive:t.active,activeIndex:t.index})),xJ=(t,e,n,r,i,o,s,a)=>{if(!(!t||!e||!r||!i||!o)){var l=J7(t.chartX,t.chartY,e,n,a);if(l){var u=eq(l,e),c=B7(u,s,o,r,i),f=Z7(e,o,c,l);return{activeIndex:String(c),activeCoordinate:f}}}};function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tw.apply(null,arguments)}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){EJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EJ(t,e,n){return(e=TJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TJ(t){var e=AJ(t,"string");return typeof e=="symbol"?e:e+""}function AJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SJ(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:s,cursor:a,tooltipEventType:l,chartName:u}=t,c=e,f=n,h=r;if(!a||!c||u!=="ScatterChart"&&l!=="axis")return null;var p,m;if(u==="ScatterChart")p=c,m=Xq;else if(u==="BarChart")p=Jq(s,c,i,o),m=tj;else if(s==="radial"){var{cx:g,cy:_,radius:v,startAngle:w,endAngle:x}=nj(c);p={cx:g,cy:_,startAngle:w,endAngle:x,innerRadius:v,outerRadius:v},m=ij}else p={points:kG(s,c,i)},m=cc;var P=typeof a=="object"&&"className"in a?a.className:void 0,S=qd(qd(qd(qd({stroke:"#ccc",pointerEvents:"none"},i),p),it(a,!1)),{},{payload:f,payloadIndex:h,className:Ce("recharts-tooltip-cursor",P)});return b.isValidElement(a)?b.cloneElement(a,S):b.createElement(m,S)}function PJ(t){var e=gJ(),n=BN(),r=Zm(),i=iL();return b.createElement(SJ,Tw({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var uL=b.createContext(null),IJ=()=>b.useContext(uL),cL={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,h),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,h,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var _=this._events[g],v=arguments.length,w,x;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),v){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,c),!0;case 3:return _.fn.call(_.context,c,f),!0;case 4:return _.fn.call(_.context,c,f,h),!0;case 5:return _.fn.call(_.context,c,f,h,p),!0;case 6:return _.fn.call(_.context,c,f,h,p,m),!0}for(x=1,w=new Array(v-1);x<v;x++)w[x-1]=arguments[x];_.fn.apply(_.context,w)}else{var P=_.length,S;for(x=0;x<P;x++)switch(_[x].once&&this.removeListener(u,_[x].fn,void 0,!0),v){case 1:_[x].fn.call(_[x].context);break;case 2:_[x].fn.call(_[x].context,c);break;case 3:_[x].fn.call(_[x].context,c,f);break;case 4:_[x].fn.call(_[x].context,c,f,h);break;default:if(!w)for(S=1,w=new Array(v-1);S<v;S++)w[S-1]=arguments[S];_[x].fn.apply(_[x].context,w)}}return!0},a.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!h||m.once)&&(!f||m.context===f)&&s(this,p);else{for(var g=0,_=[],v=m.length;g<v;g++)(m[g].fn!==c||h&&!m[g].once||f&&m[g].context!==f)&&_.push(m[g]);_.length?this._events[p]=_.length===1?_[0]:_:s(this,p)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(cL);var CJ=cL.exports;const OJ=oi(CJ);var Zc=new OJ,Aw="recharts.syncEvent.tooltip",HI="recharts.syncEvent.brush";function Px(t,e){if(e){var n=Number.parseInt(e,10);if(!Fn(n))return t==null?void 0:t[n]}}var kJ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},fL=or({name:"options",initialState:kJ,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),DJ=fL.reducer,{createEventEmitter:RJ}=fL.actions;function MJ(t){return t.tooltip.syncInteraction}var NJ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},dL=or({name:"chartData",initialState:NJ,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:YI,setDataStartEndIndexes:jJ,setComputedData:jce}=dL.actions,VJ=dL.reducer,hL=()=>{};function LJ(){var t=re(Qb),e=re(Xb),n=lt(),r=re(oV),i=re(Ki),o=Zm(),s=vb(),a=re(l=>l.rootProps.className);b.useEffect(()=>{if(t==null)return hL;var l=(u,c,f)=>{if(e!==f&&t===u){if(r==="index"){n(c);return}if(i!=null){var h;if(typeof r=="function"){var p={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},m=r(i,p);h=i[m]}else r==="value"&&(h=i.find(O=>String(O.value)===c.payload.label));var{coordinate:g}=c.payload;if(h==null||c.payload.active===!1||g==null||s==null){n(xw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:_,y:v}=g,w=Math.min(_,s.x+s.width),x=Math.min(v,s.y+s.height),P={x:o==="horizontal"?h.coordinate:w,y:o==="horizontal"?x:h.coordinate},S=xw({active:c.payload.active,coordinate:P,dataKey:c.payload.dataKey,index:String(h.index),label:c.payload.label});n(S)}}};return Zc.on(Aw,l),()=>{Zc.off(Aw,l)}},[a,n,e,t,r,i,o,s])}function FJ(){var t=re(Qb),e=re(Xb),n=lt();b.useEffect(()=>{if(t==null)return hL;var r=(i,o,s)=>{e!==s&&t===i&&n(jJ(o))};return Zc.on(HI,r),()=>{Zc.off(HI,r)}},[n,e,t])}function BJ(){var t=lt();b.useEffect(()=>{t(RJ())},[t]),LJ(),FJ()}function $J(t,e,n,r,i,o){var s=re(h=>vJ(h,t,e)),a=re(Xb),l=re(Qb),u=re(oV),c=re(MJ),f=c==null?void 0:c.active;b.useEffect(()=>{if(!f&&l!=null&&a!=null){var h=xw({active:o,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r});Zc.emit(Aw,l,h,a)}},[f,n,s,i,r,a,l,u,o])}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){zJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zJ(t,e,n){return(e=UJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UJ(t){var e=KJ(t,"string");return typeof e=="symbol"?e:e+""}function KJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WJ(t){return t.dataKey}function qJ(t,e){return b.isValidElement(t)?b.cloneElement(t,e):typeof t=="function"?b.createElement(t,e):b.createElement(Cq,e)}var JI=[],GJ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ta.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function cv(t){var e=sr(t,GJ),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:s,filterNull:a,isAnimationActive:l,offset:u,payloadUniqBy:c,position:f,reverseDirection:h,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:_,trigger:v,defaultIndex:w,portal:x,axisId:P}=e,S=lt(),O=typeof w=="number"?String(w):w;b.useEffect(()=>{S(EX({shared:_,trigger:v,axisId:P,active:n,defaultIndex:O}))},[S,_,v,P,n,O]);var A=vb(),T=KN(),I=vX(_),{activeIndex:k,isActive:D}=re(be=>bJ(be,I,v,O)),N=re(be=>_J(be,I,v,O)),R=re(be=>lL(be,I,v,O)),se=re(be=>wJ(be,I,v,O)),me=N,_e=IJ(),le=n??D,[z,Y]=sN([me,le]),ne=I==="axis"?R:void 0;$J(I,v,se,ne,k,le);var Ee=x??_e;if(Ee==null)return null;var Q=me??JI;le||(Q=JI),a&&Q.length&&(Q=HM(me.filter(be=>be.value!=null&&(be.hide!==!0||e.includeHidden)),c,WJ));var De=Q.length>0,dn=b.createElement(jq,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:l,active:le,coordinate:se,hasPayload:De,offset:u,position:f,reverseDirection:h,useTranslate3d:p,viewBox:A,wrapperStyle:m,lastBoundingBox:z,innerRef:Y,hasPortalFromProps:!!x},qJ(s,XI(XI({},e),{},{payload:Q,label:ne,active:le,coordinate:se,accessibilityLayer:T})));return b.createElement(b.Fragment,null,a_.createPortal(dn,Ee),le&&b.createElement(PJ,{cursor:g,tooltipEventType:I,coordinate:se,payload:me,index:k}))}var pL={},mL={},gL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let s,a=null;const l=o!=null&&o.includes("leading"),u=o==null||o.includes("trailing"),c=()=>{a!==null&&(n.apply(s,a),s=void 0,a=null)},f=()=>{u&&c(),g()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},m=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{m(),s=void 0,a=null},_=()=>{c()},v=function(...w){if(i!=null&&i.aborted)return;s=this,a=w;const x=h==null;p(),l&&x&&c()};return v.schedule=p,v.cancel=g,v.flush=_,i==null||i.addEventListener("abort",g,{once:!0}),v}t.debounce=e})(gL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gL;function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:a=!0,maxWait:l}=o,u=Array(2);s&&(u[0]="leading"),a&&(u[1]="trailing");let c,f=null;const h=e.debounce(function(...g){c=r.apply(this,g),f=null},i,{edges:u}),p=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(c=r.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),c):(h.apply(this,g),c)},m=()=>(h.flush(),c);return p.cancel=h.cancel,p.flush=m,p}t.debounce=n})(mL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mL;function n(r,i=0,o={}){const{leading:s=!0,trailing:a=!0}=o;return e.debounce(r,i,{leading:s,maxWait:i,trailing:a})}t.throttle=n})(pL);var HJ=pL.throttle;const YJ=oi(HJ);var fc=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function ZI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(n),!0).forEach(function(r){QJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QJ(t,e,n){return(e=XJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XJ(t){var e=JJ(t,"string");return typeof e=="symbol"?e:e+""}function JJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dv=b.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:s=0,minHeight:a,maxHeight:l,children:u,debounce:c=0,id:f,className:h,onResize:p,style:m={}}=t,g=b.useRef(null),_=b.useRef();_.current=p,b.useImperativeHandle(e,()=>g.current);var[v,w]=b.useState({containerWidth:r.width,containerHeight:r.height}),x=b.useCallback((S,O)=>{w(A=>{var T=Math.round(S),I=Math.round(O);return A.containerWidth===T&&A.containerHeight===I?A:{containerWidth:T,containerHeight:I}})},[]);b.useEffect(()=>{var S=I=>{var k,{width:D,height:N}=I[0].contentRect;x(D,N),(k=_.current)===null||k===void 0||k.call(_,D,N)};c>0&&(S=YJ(S,c,{trailing:!0,leading:!1}));var O=new ResizeObserver(S),{width:A,height:T}=g.current.getBoundingClientRect();return x(A,T),O.observe(g.current),()=>{O.disconnect()}},[x,c]);var P=b.useMemo(()=>{var{containerWidth:S,containerHeight:O}=v;if(S<0||O<0)return null;fc(_s(i)||_s(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),fc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var A=_s(i)?S:i,T=_s(o)?O:o;return n&&n>0&&(A?T=A/n:T&&(A=T*n),l&&T>l&&(T=l)),fc(A>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,A,T,i,o,s,a,n),b.Children.map(u,I=>b.cloneElement(I,{width:A,height:T,style:fv({width:A,height:T},I.props.style)}))},[n,u,o,l,a,s,v,i]);return b.createElement("div",{id:f?"".concat(f):void 0,className:Ce("recharts-responsive-container",h),style:fv(fv({},m),{},{width:i,height:o,minWidth:s,minHeight:a,maxHeight:l}),ref:g},b.createElement("div",{style:{width:0,height:0,overflow:"visible"}},P))}),Vf=t=>null;Vf.displayName="Cell";function ZJ(t,e,n){return(e=eZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eZ(t){var e=tZ(t,"string");return typeof e=="symbol"?e:e+""}function tZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class nZ{constructor(e){ZJ(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function eC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eC(Object(n),!0).forEach(function(r){iZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iZ(t,e,n){return(e=oZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oZ(t){var e=sZ(t,"string");return typeof e=="symbol"?e:e+""}function sZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aZ={cacheSize:2e3,enableCache:!0},yL=rZ({},aZ),tC=new nZ(yL.cacheSize),lZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},nC="recharts_measurement_span";function uZ(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",s=e.letterSpacing||"",a=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(s,"|").concat(a)}var rC=(t,e)=>{try{var n=document.getElementById(nC);n||(n=document.createElement("span"),n.setAttribute("id",nC),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,lZ,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},dc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ta.isSsr)return{width:0,height:0};if(!yL.enableCache)return rC(e,n);var r=uZ(e,n),i=tC.get(r);if(i)return i;var o=rC(e,n);return tC.set(r,o),o},iC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,fZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},dZ=Object.keys(vL),za="NaN";function hZ(t,e){return t*vL[e]}class In{static parse(e){var n,[,r,i]=(n=fZ.exec(e))!==null&&n!==void 0?n:[];return new In(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Fn(e)&&(this.unit=""),n!==""&&!cZ.test(n)&&(this.num=NaN,this.unit=""),dZ.includes(n)&&(this.num=hZ(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new In(NaN,""):new In(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new In(NaN,""):new In(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new In(NaN,""):new In(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new In(NaN,""):new In(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Fn(this.num)}}function wL(t){if(t.includes(za))return za;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=iC.exec(e))!==null&&n!==void 0?n:[],s=In.parse(r??""),a=In.parse(o??""),l=i==="*"?s.multiply(a):s.divide(a);if(l.isNaN())return za;e=e.replace(iC,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,c,f,h]=(u=oC.exec(e))!==null&&u!==void 0?u:[],p=In.parse(c??""),m=In.parse(h??""),g=f==="+"?p.add(m):p.subtract(m);if(g.isNaN())return za;e=e.replace(oC,g.toString())}return e}var sC=/\(([^()]*)\)/;function pZ(t){for(var e=t,n;(n=sC.exec(e))!=null;){var[,r]=n;e=e.replace(sC,wL(r))}return e}function mZ(t){var e=t.replace(/\s+/g,"");return e=pZ(e),e=wL(e),e}function gZ(t){try{return mZ(t)}catch{return za}}function hv(t){var e=gZ(t.slice(5,-1));return e===za?"":e}var yZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],vZ=["dx","dy","angle","className","breakAll"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sw.apply(null,arguments)}function aC(t,e){if(t==null)return{};var n,r,i=wZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _L=/[ \f\n\r\t\v\u2028\u2029]+/,bL=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Je(e)||(n?i=e.toString().split(""):i=e.toString().split(_L));var o=i.map(a=>({word:a,width:dc(a,r).width})),s=n?0:dc("",r).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},_Z=(t,e,n,r,i)=>{var{maxLines:o,children:s,style:a,breakAll:l}=t,u=G(o),c=s,f=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce((N,R)=>{var{word:se,width:me}=R,_e=N[N.length-1];if(_e&&(r==null||i||_e.width+me+n<Number(r)))_e.words.push(se),_e.width+=me+n;else{var le={words:[se],width:me};N.push(le)}return N},[])},h=f(e),p=k=>k.reduce((D,N)=>D.width>N.width?D:N);if(!u||i)return h;var m=h.length>o||p(h).width>Number(r);if(!m)return h;for(var g="",_=k=>{var D=c.slice(0,k),N=bL({breakAll:l,style:a,children:D+g}).wordsWithComputedWidth,R=f(N),se=R.length>o||p(R).width>Number(r);return[se,R]},v=0,w=c.length-1,x=0,P;v<=w&&x<=c.length-1;){var S=Math.floor((v+w)/2),O=S-1,[A,T]=_(O),[I]=_(S);if(!A&&!I&&(v=S+1),A&&I&&(w=S-1),!A&&I){P=T;break}x++}return P||h},lC=t=>{var e=Je(t)?[]:t.toString().split(_L);return[{words:e}]},bZ=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:s}=t;if((e||n)&&!ta.isSsr){var a,l,u=bL({breakAll:o,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:f}=u;a=c,l=f}else return lC(r);return _Z({breakAll:o,children:r,maxLines:s,style:i},a,l,e,n)}return lC(r)},uC="#808080",vg=b.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:s=!1,textAnchor:a="start",verticalAnchor:l="end",fill:u=uC}=t,c=aC(t,yZ),f=b.useMemo(()=>bZ({breakAll:c.breakAll,children:c.children,maxLines:c.maxLines,scaleToFit:s,style:c.style,width:c.width}),[c.breakAll,c.children,c.maxLines,s,c.style,c.width]),{dx:h,dy:p,angle:m,className:g,breakAll:_}=c,v=aC(c,vZ);if(!ti(n)||!ti(r))return null;var w=n+(G(h)?h:0),x=r+(G(p)?p:0),P;switch(l){case"start":P=hv("calc(".concat(o,")"));break;case"middle":P=hv("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:P=hv("calc(".concat(f.length-1," * -").concat(i,")"));break}var S=[];if(s){var O=f[0].width,{width:A}=c;S.push("scale(".concat(G(A)?A/O:1,")"))}return m&&S.push("rotate(".concat(m,", ").concat(w,", ").concat(x,")")),S.length&&(v.transform=S.join(" ")),b.createElement("text",Sw({},it(v,!0),{ref:e,x:w,y:x,className:Ce("recharts-text",g),textAnchor:a,fill:u.includes("url")?uC:u}),f.map((T,I)=>{var k=T.words.join(_?"":" ");return b.createElement("tspan",{x:w,dy:I===0?P:i,key:"".concat(k,"-").concat(I)},k)}))});vg.displayName="Text";var xZ=["offset"],EZ=["labelRef"];function cC(t,e){if(t==null)return{};var n,r,i=TZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function TZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fC(Object(n),!0).forEach(function(r){AZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AZ(t,e,n){return(e=SZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SZ(t){var e=PZ(t,"string");return typeof e=="symbol"?e:e+""}function PZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pi(){return pi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pi.apply(null,arguments)}var IZ=t=>{var{value:e,formatter:n}=t,r=Je(t.children)?e:t.children;return typeof n=="function"?n(r):r},Ix=t=>t!=null&&typeof t=="function",CZ=(t,e)=>{var n=Bt(e-t),r=Math.min(Math.abs(e-t),360);return n*r},OZ=(t,e,n,r)=>{var{position:i,offset:o,className:s}=t,{cx:a,cy:l,innerRadius:u,outerRadius:c,startAngle:f,endAngle:h,clockWise:p}=r,m=(u+c)/2,g=CZ(f,h),_=g>=0?1:-1,v,w;i==="insideStart"?(v=f+_*o,w=p):i==="insideEnd"?(v=h-_*o,w=!p):i==="end"&&(v=h+_*o,w=p),w=g<=0?w:!w;var x=Tt(a,l,m,v),P=Tt(a,l,m,v+(w?1:-1)*359),S="M".concat(x.x,",").concat(x.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(w?0:1,`,
    `).concat(P.x,",").concat(P.y),O=Je(t.id)?zc("recharts-radial-line-"):t.id;return b.createElement("text",pi({},n,{dominantBaseline:"central",className:Ce("recharts-radial-bar-label",s)}),b.createElement("defs",null,b.createElement("path",{id:O,d:S})),b.createElement("textPath",{xlinkHref:"#".concat(O)},e))},kZ=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:a,endAngle:l}=t,u=(a+l)/2;if(n==="outside"){var{x:c,y:f}=Tt(r,i,s+e,u);return{x:c,y:f,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(o+s)/2,{x:p,y:m}=Tt(r,i,h,u);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},DZ=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:o,y:s,width:a,height:l}=e,u=l>=0?1:-1,c=u*r,f=u>0?"end":"start",h=u>0?"start":"end",p=a>=0?1:-1,m=p*r,g=p>0?"end":"start",_=p>0?"start":"end";if(i==="top"){var v={x:o+a/2,y:s-u*r,textAnchor:"middle",verticalAnchor:f};return ct(ct({},v),n?{height:Math.max(s-n.y,0),width:a}:{})}if(i==="bottom"){var w={x:o+a/2,y:s+l+c,textAnchor:"middle",verticalAnchor:h};return ct(ct({},w),n?{height:Math.max(n.y+n.height-(s+l),0),width:a}:{})}if(i==="left"){var x={x:o-m,y:s+l/2,textAnchor:g,verticalAnchor:"middle"};return ct(ct({},x),n?{width:Math.max(x.x-n.x,0),height:l}:{})}if(i==="right"){var P={x:o+a+m,y:s+l/2,textAnchor:_,verticalAnchor:"middle"};return ct(ct({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:l}:{})}var S=n?{width:a,height:l}:{};return i==="insideLeft"?ct({x:o+m,y:s+l/2,textAnchor:_,verticalAnchor:"middle"},S):i==="insideRight"?ct({x:o+a-m,y:s+l/2,textAnchor:g,verticalAnchor:"middle"},S):i==="insideTop"?ct({x:o+a/2,y:s+c,textAnchor:"middle",verticalAnchor:h},S):i==="insideBottom"?ct({x:o+a/2,y:s+l-c,textAnchor:"middle",verticalAnchor:f},S):i==="insideTopLeft"?ct({x:o+m,y:s+c,textAnchor:_,verticalAnchor:h},S):i==="insideTopRight"?ct({x:o+a-m,y:s+c,textAnchor:g,verticalAnchor:h},S):i==="insideBottomLeft"?ct({x:o+m,y:s+l-c,textAnchor:_,verticalAnchor:f},S):i==="insideBottomRight"?ct({x:o+a-m,y:s+l-c,textAnchor:g,verticalAnchor:f},S):i&&typeof i=="object"&&(G(i.x)||_s(i.x))&&(G(i.y)||_s(i.y))?ct({x:o+xn(i.x,a),y:s+xn(i.y,l),textAnchor:"end",verticalAnchor:"end"},S):ct({x:o+a/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},S)},RZ=t=>"cx"in t&&G(t.cx);function Gn(t){var{offset:e=5}=t,n=cC(t,xZ),r=ct({offset:e},n),{viewBox:i,position:o,value:s,children:a,content:l,className:u="",textBreakAll:c,labelRef:f}=r,h=re(cV),p=vb(),m=o==="center"?p:h??p,g=i||m;if(!g||Je(s)&&Je(a)&&!b.isValidElement(l)&&typeof l!="function")return null;var _=ct(ct({},r),{},{viewBox:g});if(b.isValidElement(l)){var v=cC(_,EZ);return b.cloneElement(l,v)}var w;if(typeof l=="function"){if(w=b.createElement(l,_),b.isValidElement(w))return w}else w=IZ(r);var x=RZ(g),P=it(r,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return OZ(r,w,P,g);var S=x?kZ(g,r.offset,r.position):DZ(r,g);return b.createElement(vg,pi({ref:f,className:Ce("recharts-label",u)},P,S,{breakAll:c}),w)}Gn.displayName="Label";var xL=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:o,r:s,radius:a,innerRadius:l,outerRadius:u,x:c,y:f,top:h,left:p,width:m,height:g,clockWise:_,labelViewBox:v}=t;if(v)return v;if(G(m)&&G(g)){if(G(c)&&G(f))return{x:c,y:f,width:m,height:g};if(G(h)&&G(p))return{x:h,y:p,width:m,height:g}}if(G(c)&&G(f))return{x:c,y:f,width:0,height:0};if(G(e)&&G(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:u||a||s||0,clockWise:_};if(t.viewBox)return t.viewBox},MZ=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?b.createElement(Gn,pi({key:"label-implicit"},r)):ti(t)?b.createElement(Gn,pi({key:"label-implicit",value:t},r)):b.isValidElement(t)?t.type===Gn?b.cloneElement(t,ct({key:"label-implicit"},r)):b.createElement(Gn,pi({key:"label-implicit",content:t},r)):Ix(t)?b.createElement(Gn,pi({key:"label-implicit",content:t},r)):t&&typeof t=="object"?b.createElement(Gn,pi({},t,{key:"label-implicit"},r)):null},NZ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:o}=e,s=xL(e),a=Tf(i,Gn).map((u,c)=>b.cloneElement(u,{viewBox:n||s,key:"label-".concat(c)}));if(!r)return a;var l=MZ(e.label,n||s,o);return[l,...a]};Gn.parseViewBox=xL;Gn.renderCallByParent=NZ;var EL={},TL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(TL);var AL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(AL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TL,n=AL,r=Lm;function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(EL);var jZ=EL.last;const VZ=oi(jZ);var LZ=["valueAccessor"],FZ=["data","dataKey","clockWise","id","textBreakAll"];function Dp(){return Dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dp.apply(null,arguments)}function dC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dC(Object(n),!0).forEach(function(r){BZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BZ(t,e,n){return(e=$Z(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Z(t){var e=zZ(t,"string");return typeof e=="symbol"?e:e+""}function zZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pC(t,e){if(t==null)return{};var n,r,i=UZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function UZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var KZ=t=>Array.isArray(t.value)?VZ(t.value):t.value;function bo(t){var{valueAccessor:e=KZ}=t,n=pC(t,LZ),{data:r,dataKey:i,clockWise:o,id:s,textBreakAll:a}=n,l=pC(n,FZ);return!r||!r.length?null:b.createElement(Ot,{className:"recharts-label-list"},r.map((u,c)=>{var f=Je(i)?e(u,c):Le(u&&u.payload,i),h=Je(s)?{}:{id:"".concat(s,"-").concat(c)};return b.createElement(Gn,Dp({},it(u,!0),l,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:a,viewBox:Gn.parseViewBox(Je(o)?u:hC(hC({},u),{},{clockWise:o})),key:"label-".concat(c),index:c}))}))}bo.displayName="LabelList";function WZ(t,e){return t?t===!0?b.createElement(bo,{key:"labelList-implicit",data:e}):b.isValidElement(t)||Ix(t)?b.createElement(bo,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?b.createElement(bo,Dp({data:e},t,{key:"labelList-implicit"})):null:null}function qZ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=Tf(r,bo).map((s,a)=>b.cloneElement(s,{data:e,key:"labelList-".concat(a)}));if(!n)return i;var o=WZ(t.label,e);return[o,...i]}bo.renderCallByParent=qZ;function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pw.apply(null,arguments)}var SL=t=>{var{cx:e,cy:n,r,className:i}=t,o=Ce("recharts-dot",i);return e===+e&&n===+n&&r===+r?b.createElement("circle",Pw({},si(t),G_(t),{className:o,cx:e,cy:n,r})):null},PL=t=>t.graphicalItems.polarItems,GZ=L([et,kf],nx),Cx=L([PL,vt,GZ],rx),HZ=L([Cx],ix),Ox=L([HZ,qb],ox),YZ=L([Ox,vt,Cx],ax),QZ=L([Ox,vt,Cx],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var o,s=Le(r,(o=e.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Le(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),mC=()=>{},XZ=L([vt,PV,mC,QZ,mC,xe,et],ux),IL=L([vt,xe,Ox,YZ,Of,et,XZ],cx),JZ=L([IL,vt,Ul],hx);L([vt,IL,JZ,et],mx);var ZZ={radiusAxis:{},angleAxis:{}},CL=or({name:"polarAxis",initialState:ZZ,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}});CL.actions;var eee=CL.reducer;function gC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gC(Object(n),!0).forEach(function(r){tee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tee(t,e,n){return(e=nee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nee(t){var e=ree(t,"string");return typeof e=="symbol"?e:e+""}function ree(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iee=(t,e)=>e,kx=L([PL,iee],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),oee=[],Dx=(t,e,n)=>(n==null?void 0:n.length)===0?oee:n,OL=L([qb,kx,Dx],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>yC(yC({},e.presentationProps),o.props))),i!=null)return i}}),see=L([OL,kx,Dx],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var o,s=Le(r,e.nameKey,e.name),a;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?a=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?a=r.fill:a=e.fill,{value:Vl(s,e.dataKey),color:a,payload:r,type:e.legendType}})}),aee=L([OL,kx,Dx,kt],(t,e,n,r)=>{if(!(e==null||t==null))return Jee({offset:r,pieSettings:e,displayedData:t,cells:n})}),kL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(kL);var lee=kL.isPlainObject;const uee=oi(lee);function Rp(){return Rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rp.apply(null,arguments)}var vC=(t,e,n,r,i)=>{var o=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-o/2,",").concat(e+i),s+="L ".concat(t+n-o/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},cee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fee=t=>{var e=sr(t,cee),n=b.useRef(),[r,i]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&i(_)}catch{}},[]);var{x:o,y:s,upperWidth:a,lowerWidth:l,height:u,className:c}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:m}=e;if(o!==+o||s!==+s||a!==+a||l!==+l||u!==+u||a===0&&l===0||u===0)return null;var g=Ce("recharts-trapezoid",c);return m?b.createElement(yp,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:u,x:o,y:s},to:{upperWidth:a,lowerWidth:l,height:u,x:o,y:s},duration:h,animationEasing:f,isActive:m},_=>{var{upperWidth:v,lowerWidth:w,height:x,x:P,y:S}=_;return b.createElement(yp,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,easing:f},b.createElement("path",Rp({},it(e,!0),{className:g,d:vC(P,S,v,w,x),ref:n})))}):b.createElement("g",null,b.createElement("path",Rp({},it(e,!0),{className:g,d:vC(o,s,a,l,u)})))},dee=["option","shapeType","propTransformer","activeClassName","isActive"];function hee(t,e){if(t==null)return{};var n,r,i=pee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wC(Object(n),!0).forEach(function(r){mee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mee(t,e,n){return(e=gee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gee(t){var e=yee(t,"string");return typeof e=="symbol"?e:e+""}function yee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vee(t,e){return Mp(Mp({},e),t)}function wee(t,e){return t==="symbols"}function _C(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return b.createElement(tj,n);case"trapezoid":return b.createElement(fee,n);case"sector":return b.createElement(ij,n);case"symbols":if(wee(e))return b.createElement(J_,n);break;default:return null}}function _ee(t){return b.isValidElement(t)?t.props:t}function DL(t){var{option:e,shapeType:n,propTransformer:r=vee,activeClassName:i="recharts-active-shape",isActive:o}=t,s=hee(t,dee),a;if(b.isValidElement(e))a=b.cloneElement(e,Mp(Mp({},s),_ee(e)));else if(typeof e=="function")a=e(s);else if(uee(e)&&typeof e!="boolean"){var l=r(e,s);a=b.createElement(_C,{shapeType:n,elementProps:l})}else{var u=s;a=b.createElement(_C,{shapeType:n,elementProps:u})}return o?b.createElement(Ot,{className:i},a):a}var Rx=(t,e)=>{var n=lt();return(r,i)=>o=>{t==null||t(r,i,o),n(UV({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},Mx=t=>{var e=lt();return(n,r)=>i=>{t==null||t(n,r,i),e(TX())}},Nx=(t,e)=>{var n=lt();return(r,i)=>o=>{t==null||t(r,i,o),n(AX({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function jx(t){var{fn:e,args:n}=t,r=lt(),i=Bn();return b.useEffect(()=>{if(!i){var o=e(n);return r(bX(o)),()=>{r(xX(o))}}},[e,n,r,i]),null}var RL=()=>{};function ML(t){var{legendPayload:e}=t,n=lt(),r=Bn();return b.useEffect(()=>r?RL:(n(zN(e)),()=>{n(UN(e))}),[n,r,e]),null}function bee(t){var{legendPayload:e}=t,n=lt(),r=re(xe);return b.useEffect(()=>r!=="centric"&&r!=="radial"?RL:(n(zN(e)),()=>{n(UN(e))}),[n,r,e]),null}function Vx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(zc(e)),r=b.useRef(t);return r.current!==t&&(n.current=zc(e),r.current=t),n.current}var pv,xee=()=>{var[t]=b.useState(()=>zc("uid-"));return t},Eee=(pv=T4["useId".toString()])!==null&&pv!==void 0?pv:xee;function Tee(t,e){var n=Eee();return e||(t?"".concat(t,"-").concat(n):n)}var Aee=b.createContext(void 0),Lx=t=>{var{id:e,type:n,children:r}=t,i=Tee("recharts-".concat(n),e);return b.createElement(Aee.Provider,{value:i},r(i))},See={cartesianItems:[],polarItems:[]},NL=or({name:"graphicalItems",initialState:See,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=bi(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=bi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=bi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Pee,replaceCartesianGraphicalItem:Iee,removeCartesianGraphicalItem:Cee,addPolarGraphicalItem:Oee,removePolarGraphicalItem:kee}=NL.actions,Dee=NL.reducer;function jL(t){var e=lt(),n=b.useRef(null);return b.useEffect(()=>{n.current===null?e(Pee(t)):n.current!==t&&e(Iee({prev:n.current,next:t})),n.current=t},[e,t]),b.useEffect(()=>()=>{n.current&&(e(Cee(n.current)),n.current=null)},[e]),null}function Ree(t){var e=lt();return b.useEffect(()=>(e(Oee(t)),()=>{e(kee(t))}),[e,t]),null}function Mee(){}var Nee={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},bC={t:0},mv={t:1};function Fx(t){var e=sr(t,Nee),{isActive:n,canBegin:r,duration:i,easing:o,begin:s,onAnimationEnd:a,onAnimationStart:l,children:u}=e,c=ej("JavascriptAnimate",e.animationManager),[f,h]=b.useState(n?bC:mv),p=b.useRef(null);return b.useEffect(()=>{n||h(mv)},[n]),b.useEffect(()=>{if(!n||!r)return Mee;var m=ZN(bC,mv,XN(o),i,h,c.getTimeoutController()),g=()=>{p.current=m()};return c.start([l,s,g,i,a]),()=>{c.stop(),p.current&&p.current(),a()}},[n,r,i,o,s,l,a,c]),u(f.t)}var jee=["onMouseEnter","onClick","onMouseLeave"],Vee=["id"],Lee=["id"];function Bx(t,e){if(t==null)return{};var n,r,i=Fee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xC(Object(n),!0).forEach(function(r){Bee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bee(t,e,n){return(e=$ee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ee(t){var e=zee(t,"string");return typeof e=="symbol"?e:e+""}function zee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ni(){return Ni=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ni.apply(null,arguments)}function Uee(t){var e=b.useMemo(()=>Tf(t.children,Vf),[t.children]),n=re(r=>see(r,t.id,e));return n==null?null:b.createElement(bee,{legendPayload:n})}function Kee(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:s,name:a,hide:l,tooltipType:u}=t;return{dataDefinedOnItem:r==null?void 0:r.map(c=>c.tooltipPayload),positions:r==null?void 0:r.map(c=>c.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:s,dataKey:e,nameKey:n,name:Vl(a,e),hide:l,type:u,color:s,unit:""}}}var Wee=(t,e)=>t>e?"start":t<e?"end":"middle",qee=(t,e,n)=>typeof e=="function"?e(t):xn(e,n,n*.8),Gee=(t,e,n)=>{var{top:r,left:i,width:o,height:s}=e,a=kN(o,s),l=i+xn(t.cx,o,o/2),u=r+xn(t.cy,s,s/2),c=xn(t.innerRadius,a,0),f=qee(n,t.outerRadius,a),h=t.maxRadius||Math.sqrt(o*o+s*s)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:f,maxRadius:h}},Hee=(t,e)=>{var n=Bt(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Yee=(t,e)=>{if(b.isValidElement(t))return b.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Ce("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return b.createElement(cc,Ni({},e,{type:"linear",className:n}))},Qee=(t,e,n)=>{if(b.isValidElement(t))return b.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),b.isValidElement(r)))return r;var i=Ce("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return b.createElement(vg,Ni({},e,{alignmentBaseline:"middle",className:i}),r)};function Xee(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:o,dataKey:s}=n;if(!r||!i||!e)return null;var a=si(n),l=it(i,!1),u=it(o,!1),c=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,f=e.map((h,p)=>{var m=(h.startAngle+h.endAngle)/2,g=Tt(h.cx,h.cy,h.outerRadius+c,m),_=ht(ht(ht(ht({},a),h),{},{stroke:"none"},l),{},{index:p,textAnchor:Wee(g.x,h.cx)},g),v=ht(ht(ht(ht({},a),h),{},{fill:"none",stroke:h.fill},u),{},{index:p,points:[Tt(h.cx,h.cy,h.outerRadius,m),g],key:"line"});return b.createElement(Ot,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},o&&Yee(o,v),Qee(i,_,Le(h,s)))});return b.createElement(Ot,{className:"recharts-pie-labels"},f)}function VL(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,showLabels:o}=t,s=re(Mo),{onMouseEnter:a,onClick:l,onMouseLeave:u}=i,c=Bx(i,jee),f=Rx(a,i.dataKey),h=Mx(u),p=Nx(l,i.dataKey);return e==null?null:b.createElement(b.Fragment,null,e.map((m,g)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&e.length!==1)return null;var _=n&&String(g)===s,v=s?r:null,w=_?n:v,x=ht(ht({},m),{},{stroke:m.stroke,tabIndex:-1,[VN]:g,[LN]:i.dataKey});return b.createElement(Ot,Ni({tabIndex:-1,className:"recharts-pie-sector"},Ef(c,m,g),{onMouseEnter:f(m,g),onMouseLeave:h(m,g),onClick:p(m,g),key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(g)}),b.createElement(DL,Ni({option:w,isActive:_,shapeType:"sector"},x)))}),b.createElement(Xee,{sectors:e,props:i,showLabels:o}))}function Jee(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:o}=t,{cornerRadius:s,startAngle:a,endAngle:l,dataKey:u,nameKey:c,tooltipType:f}=n,h=Math.abs(n.minAngle),p=Hee(a,l),m=Math.abs(p),g=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,_=r.filter(O=>Le(O,u,0)!==0).length,v=(m>=360?_:_-1)*g,w=m-_*h-v,x=r.reduce((O,A)=>{var T=Le(A,u,0);return O+(G(T)?T:0)},0),P;if(x>0){var S;P=r.map((O,A)=>{var T=Le(O,u,0),I=Le(O,c,A),k=Gee(n,o,O),D=(G(T)?T:0)/x,N,R=ht(ht({},O),i&&i[A]&&i[A].props);A?N=S.endAngle+Bt(p)*g*(T!==0?1:0):N=a;var se=N+Bt(p)*((T!==0?h:0)+D*w),me=(N+se)/2,_e=(k.innerRadius+k.outerRadius)/2,le=[{name:I,value:T,payload:R,dataKey:u,type:f}],z=Tt(k.cx,k.cy,_e,me);return S=ht(ht(ht(ht({},n.presentationProps),{},{percent:D,cornerRadius:s,name:I,tooltipPayload:le,midAngle:me,middleRadius:_e,tooltipPosition:z},R),k),{},{value:Le(O,u),startAngle:N,endAngle:se,payload:R,paddingAngle:Bt(p)*g}),S})}return P}function Zee(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:a,activeShape:l,inactiveShape:u,onAnimationStart:c,onAnimationEnd:f}=e,h=Vx(e,"recharts-pie-"),p=n.current,[m,g]=b.useState(!0),_=b.useCallback(()=>{typeof f=="function"&&f(),g(!1)},[f]),v=b.useCallback(()=>{typeof c=="function"&&c(),g(!0)},[c]);return b.createElement(Fx,{begin:o,duration:s,isActive:i,easing:a,onAnimationStart:v,onAnimationEnd:_,key:h},w=>{var x=[],P=r&&r[0],S=P.startAngle;return r.forEach((O,A)=>{var T=p&&p[A],I=A>0?ko(O,"paddingAngle",0):0;if(T){var k=XS(T.endAngle-T.startAngle,O.endAngle-O.startAngle),D=ht(ht({},O),{},{startAngle:S+I,endAngle:S+k(w)+I});x.push(D),S=D.endAngle}else{var{endAngle:N,startAngle:R}=O,se=XS(0,N-R),me=se(w),_e=ht(ht({},O),{},{startAngle:S+I,endAngle:S+me+I});x.push(_e),S=_e.endAngle}}),n.current=x,b.createElement(Ot,null,b.createElement(VL,{sectors:x,activeShape:l,inactiveShape:u,allOtherPieProps:e,showLabels:!m}))})}function ete(t){var{sectors:e,isAnimationActive:n,activeShape:r,inactiveShape:i}=t,o=b.useRef(null),s=o.current;return n&&e&&e.length&&(!s||s!==e)?b.createElement(Zee,{props:t,previousSectorsRef:o}):b.createElement(VL,{sectors:e,activeShape:r,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function tte(t){var{hide:e,className:n,rootTabIndex:r}=t,i=Ce("recharts-pie",n);return e?null:b.createElement(Ot,{tabIndex:r,className:i},b.createElement(ete,t))}var nte={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ta.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function rte(t){var{id:e}=t,n=Bx(t,Vee),r=b.useMemo(()=>Tf(t.children,Vf),[t.children]),i=re(o=>aee(o,e,r));return b.createElement(b.Fragment,null,b.createElement(jx,{fn:Kee,args:ht(ht({},t),{},{sectors:i})}),b.createElement(tte,Ni({},n,{sectors:i})))}function LL(t){var e=sr(t,nte),{id:n}=e,r=Bx(e,Lee),i=si(r);return b.createElement(Lx,{id:n,type:"pie"},o=>b.createElement(b.Fragment,null,b.createElement(Ree,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i}),b.createElement(Uee,Ni({},r,{id:o})),b.createElement(rte,Ni({},r,{id:o})),r.children))}LL.displayName="Pie";var ite=L([kt],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),ote=L([ite,Bi,$i],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),$x=()=>re(ote),ste=()=>re(fJ);function EC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EC(Object(n),!0).forEach(function(r){ate(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ate(t,e,n){return(e=lte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lte(t){var e=ute(t,"string");return typeof e=="symbol"?e:e+""}function ute(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cte=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:o}=t;if(i===!1||e.x==null||e.y==null)return null;var s=TC(TC({index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},it(i,!1)),G_(i)),a;return b.isValidElement(i)?a=b.cloneElement(i,s):typeof i=="function"?a=i(s):a=b.createElement(SL,s),b.createElement(Ot,{className:"recharts-active-dot"},a)};function AC(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,o=re(Mo),s=ste();if(e==null||s==null)return null;var a=e.find(l=>s.includes(l.payload));return Je(a)?null:cte({point:a,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r})}var fte=!0,gv="Invariant failed";function dte(t,e){if(!t){if(fte)throw new Error(gv);var n=typeof e=="function"?e():e,r=n?"".concat(gv,": ").concat(n):gv;throw new Error(r)}}var hte=["x","y"];function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iw.apply(null,arguments)}function SC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ku(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SC(Object(n),!0).forEach(function(r){pte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pte(t,e,n){return(e=mte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mte(t){var e=gte(t,"string");return typeof e=="symbol"?e:e+""}function gte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yte(t,e){if(t==null)return{};var n,r,i=vte(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wte(t,e){var{x:n,y:r}=t,i=yte(t,hte),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return ku(ku(ku(ku(ku({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function FL(t){return b.createElement(DL,Iw({shapeType:"rectangle",propTransformer:wte,activeClassName:"recharts-active-bar"},t))}var _te=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(G(e))return e;var o=G(r)||Je(r);return o?e(r,i):(o||dte(!1),n)}},bte={},BL=or({name:"errorBars",initialState:bte,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}});BL.actions;var xte=BL.reducer,Ete=["children"];function Tte(t,e){if(t==null)return{};var n,r,i=Ate(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ate(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ste={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Pte=b.createContext(Ste);function Ite(t){var{children:e}=t,n=Tte(t,Ete);return b.createElement(Pte.Provider,{value:n},e)}function zx(t,e){var n,r,i=re(u=>Ui(u,t)),o=re(u=>Wo(u,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Un.allowDataOverflow,a=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:Kn.allowDataOverflow,l=s||a;return{needClip:l,needClipX:s,needClipY:a}}function $L(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=$x(),{needClipX:o,needClipY:s,needClip:a}=zx(e,n);if(!a)return null;var{x:l,y:u,width:c,height:f}=i;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:o?l:l-c/2,y:s?u:u-f/2,width:o?c:c*2,height:s?f:f*2}))}var Cte=["onMouseEnter","onMouseLeave","onClick"],Ote=["value","background","tooltipPosition"],kte=["id"],Dte=["onMouseEnter","onClick","onMouseLeave"];function _l(){return _l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_l.apply(null,arguments)}function PC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PC(Object(n),!0).forEach(function(r){Rte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rte(t,e,n){return(e=Mte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mte(t){var e=Nte(t,"string");return typeof e=="symbol"?e:e+""}function Nte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Np(t,e){if(t==null)return{};var n,r,i=jte(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vte=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:Vl(n,e),payload:t}]};function Lte(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:s,unit:a}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Vl(o,e),hide:s,type:t.tooltipType,color:t.fill,unit:a}}}function Fte(t){var e=re(Mo),{data:n,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:s,onMouseLeave:a,onClick:l}=o,u=Np(o,Cte),c=Rx(s,r),f=Mx(a),h=Nx(l,r);if(!i||n==null)return null;var p=it(i,!1);return b.createElement(b.Fragment,null,n.map((m,g)=>{var{value:_,background:v,tooltipPosition:w}=m,x=Np(m,Ote);if(!v)return null;var P=c(m,g),S=f(m,g),O=h(m,g),A=an(an(an(an(an({option:i,isActive:String(g)===e},x),{},{fill:"#eee"},v),p),Ef(u,m,g)),{},{onMouseEnter:P,onMouseLeave:S,onClick:O,dataKey:r,index:g,className:"recharts-bar-background-rectangle"});return b.createElement(FL,_l({key:"background-bar-".concat(g)},A))}))}function zL(t){var{data:e,props:n,showLabels:r}=t,i=si(n),o=Np(i,kte),{shape:s,dataKey:a,activeBar:l}=n,u=re(Mo),c=re(nL),{onMouseEnter:f,onClick:h,onMouseLeave:p}=n,m=Np(n,Dte),g=Rx(f,a),_=Mx(p),v=Nx(h,a);return e?b.createElement(b.Fragment,null,e.map((w,x)=>{var P=l&&String(x)===u&&(c==null||a===c),S=P?l:s,O=an(an(an({},o),w),{},{isActive:P,option:S,index:x,dataKey:a});return b.createElement(Ot,_l({className:"recharts-bar-rectangle"},Ef(m,w,x),{onMouseEnter:g(w,x),onMouseLeave:_(w,x),onClick:v(w,x),key:"rectangle-".concat(w==null?void 0:w.x,"-").concat(w==null?void 0:w.y,"-").concat(w==null?void 0:w.value,"-").concat(x)}),b.createElement(FL,O))}),r&&bo.renderCallByParent(n,e)):null}function Bte(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:s,animationDuration:a,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=e,f=n.current,h=Vx(e,"recharts-bar-"),[p,m]=b.useState(!1),g=b.useCallback(()=>{typeof u=="function"&&u(),m(!1)},[u]),_=b.useCallback(()=>{typeof c=="function"&&c(),m(!0)},[c]);return b.createElement(Fx,{begin:s,duration:a,isActive:o,easing:l,onAnimationEnd:g,onAnimationStart:_,key:h},v=>{var w=v===1?r:r==null?void 0:r.map((x,P)=>{var S=f&&f[P];if(S)return an(an({},x),{},{x:mr(S.x,x.x,v),y:mr(S.y,x.y,v),width:mr(S.width,x.width,v),height:mr(S.height,x.height,v)});if(i==="horizontal"){var O=mr(0,x.height,v);return an(an({},x),{},{y:x.y+x.height-O,height:O})}var A=mr(0,x.width,v);return an(an({},x),{},{width:A})});return v>0&&(n.current=w??null),w==null?null:b.createElement(Ot,null,b.createElement(zL,{props:e,data:w,showLabels:!p}))})}function $te(t){var{data:e,isAnimationActive:n}=t,r=b.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?b.createElement(Bte,{previousRectanglesRef:r,props:t}):b.createElement(zL,{props:t,data:e,showLabels:!0})}var UL=0,zte=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Le(t,e)}};class Ute extends b.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:s,needClip:a,background:l,id:u}=this.props;if(e)return null;var c=Ce("recharts-bar",i),f=u;return b.createElement(Ot,{className:c,id:u},a&&b.createElement("defs",null,b.createElement($L,{clipPathId:f,xAxisId:o,yAxisId:s})),b.createElement(Ot,{className:"recharts-bar-rectangles",clipPath:a?"url(#clipPath-".concat(f,")"):void 0},b.createElement(Fte,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),b.createElement($te,this.props)),this.props.children)}}var Kte={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ta.isSsr,legendType:"rect",minPointSize:UL,xAxisId:0,yAxisId:0};function Wte(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:s,animationBegin:a,animationDuration:l,animationEasing:u,isAnimationActive:c}=t,{needClip:f}=zx(e,n),h=Zm(),p=Bn(),m=Tf(t.children,Vf),g=re(w=>vne(w,e,n,p,t.id,m));if(h!=="vertical"&&h!=="horizontal")return null;var _,v=g==null?void 0:g[0];return v==null||v.height==null||v.width==null?_=0:_=h==="vertical"?v.height/2:v.width/2,b.createElement(Ite,{xAxisId:e,yAxisId:n,data:g,dataPointFormatter:zte,errorBarOffset:_},b.createElement(Ute,_l({},t,{layout:h,needClip:f,data:g,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:s,animationBegin:a,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function qte(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:s,yAxis:a,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:f,offset:h,cells:p}=t,m=e==="horizontal"?a:s,g=c?m.scale.domain():null,_=H7({numericAxis:m});return f.map((v,w)=>{var x,P,S,O,A,T;c?x=U7(c[w],g):(x=Le(v,n),Array.isArray(x)||(x=[_,x]));var I=_te(r,UL)(x[1],w);if(e==="horizontal"){var k,[D,N]=[a.scale(x[0]),a.scale(x[1])];P=CP({axis:s,ticks:l,bandSize:o,offset:i.offset,entry:v,index:w}),S=(k=N??D)!==null&&k!==void 0?k:void 0,O=i.size;var R=D-N;if(A=Fn(R)?0:R,T={x:P,y:h.top,width:O,height:h.height},Math.abs(I)>0&&Math.abs(A)<Math.abs(I)){var se=Bt(A||I)*(Math.abs(I)-Math.abs(A));S-=se,A+=se}}else{var[me,_e]=[s.scale(x[0]),s.scale(x[1])];if(P=me,S=CP({axis:a,ticks:u,bandSize:o,offset:i.offset,entry:v,index:w}),O=_e-me,A=i.size,T={x:h.left,y:S,width:h.width,height:A},Math.abs(I)>0&&Math.abs(O)<Math.abs(I)){var le=Bt(O||I)*(Math.abs(I)-Math.abs(O));O+=le}}if(P==null||S==null||O==null||A==null)return null;var z=an(an({},v),{},{x:P,y:S,width:O,height:A,value:c?x:x[1],payload:v,background:T,tooltipPosition:{x:P+O/2,y:S+A/2}},p&&p[w]&&p[w].props);return z}).filter(Boolean)}function KL(t){var e=sr(t,Kte),n=Bn();return b.createElement(Lx,{id:e.id,type:"bar"},r=>b.createElement(b.Fragment,null,b.createElement(ML,{legendPayload:Vte(e)}),b.createElement(jx,{fn:Lte,args:e}),b.createElement(jL,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:NN(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),b.createElement(Wte,_l({},e,{id:r}))))}KL.displayName="Bar";function IC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IC(Object(n),!0).forEach(function(r){Gte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gte(t,e,n){return(e=Hte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hte(t){var e=Yte(t,"string");return typeof e=="symbol"?e:e+""}function Yte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qte=(t,e)=>e,Xte=(t,e,n)=>n,Jte=(t,e,n,r)=>r,Zte=(t,e,n,r,i)=>i,Lf=L([dg,Zte],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),ene=L([Lf],t=>t==null?void 0:t.maxBarSize),tne=(t,e,n,r,i,o)=>o,CC=(t,e,n)=>{var r=n??t;if(!Je(r))return xn(r,e,0)},nne=L([xe,dg,Qte,Xte,Jte],(t,e,n,r,i)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),rne=(t,e,n,r)=>{var i=xe(t);return i==="horizontal"?Jc(t,"yAxis",n,r):Jc(t,"xAxis",e,r)},ine=(t,e,n)=>{var r=xe(t);return r==="horizontal"?BI(t,"xAxis",e):BI(t,"yAxis",n)},one=(t,e,n)=>{var r={},i=t.filter(fg),o=t.filter(u=>u.stackId==null),s=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),r),a=Object.entries(s).map(u=>{var[c,f]=u,h=f.map(m=>m.dataKey),p=CC(e,n,f[0].barSize);return{stackId:c,dataKeys:h,barSize:p}}),l=o.map(u=>{var c=[u.dataKey].filter(h=>h!=null),f=CC(e,n,u.barSize);return{stackId:void 0,dataKeys:c,barSize:f}});return[...a,...l]},sne=L([nne,xQ,ine],one),ane=(t,e,n,r,i)=>{var o,s,a=Lf(t,e,n,r,i);if(a!=null){var l=xe(t),u=rV(t),{maxBarSize:c}=a,f=Je(c)?u:c,h,p;return l==="horizontal"?(h=Ro(t,"xAxis",e,r),p=Do(t,"xAxis",e,r)):(h=Ro(t,"yAxis",n,r),p=Do(t,"yAxis",n,r)),(o=(s=Wc(h,p,!0))!==null&&s!==void 0?s:f)!==null&&o!==void 0?o:0}},WL=(t,e,n,r)=>{var i=xe(t),o,s;return i==="horizontal"?(o=Ro(t,"xAxis",e,r),s=Do(t,"xAxis",e,r)):(o=Ro(t,"yAxis",n,r),s=Do(t,"yAxis",n,r)),Wc(o,s)};function lne(t,e,n,r,i){var o=r.length;if(!(o<1)){var s=xn(t,n,0,!0),a,l=[];if(Jt(r[0].barSize)){var u=!1,c=n/o,f=r.reduce((v,w)=>v+(w.barSize||0),0);f+=(o-1)*s,f>=n&&(f-=(o-1)*s,s=0),f>=n&&c>0&&(u=!0,c*=.9,f=o*c);var h=(n-f)/2>>0,p={offset:h-s,size:0};a=r.reduce((v,w)=>{var x,P={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:p.offset+p.size+s,size:u?c:(x=w.barSize)!==null&&x!==void 0?x:0}},S=[...v,P];return p=S[S.length-1].position,S},l)}else{var m=xn(e,n,0,!0);n-2*m-(o-1)*s<=0&&(s=0);var g=(n-2*m-(o-1)*s)/o;g>1&&(g>>=0);var _=Jt(i)?Math.min(g,i):g;a=r.reduce((v,w,x)=>[...v,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:m+(g+s)*x+(g-_)/2,size:_}}],l)}return a}}var une=(t,e,n,r,i,o,s)=>{var a=Je(s)?e:s,l=lne(n,r,i!==o?i:o,t,a);return i!==o&&l!=null&&(l=l.map(u=>Gd(Gd({},u),{},{position:Gd(Gd({},u.position),{},{offset:u.position.offset-i/2})}))),l},cne=L([sne,rV,bQ,iV,ane,WL,ene],une),fne=(t,e,n,r)=>Ro(t,"xAxis",e,r),dne=(t,e,n,r)=>Ro(t,"yAxis",n,r),hne=(t,e,n,r)=>Do(t,"xAxis",e,r),pne=(t,e,n,r)=>Do(t,"yAxis",n,r),mne=L([cne,Lf],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),gne=(t,e)=>{var n=cg(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:o}=i;if(o)return o.find(s=>s.key===n)}}}},yne=L([rne,Lf],gne),vne=L([kt,fne,dne,hne,pne,mne,xe,sg,WL,yne,Lf,tne],(t,e,n,r,i,o,s,a,l,u,c,f)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:m}=a;if(!(c==null||o==null||s!=="horizontal"&&s!=="vertical"||e==null||n==null||r==null||i==null||l==null)){var{data:g}=c,_;if(g!=null&&g.length>0?_=g:_=h==null?void 0:h.slice(p,m+1),_!=null)return qte({layout:s,barSettings:c,pos:o,bandSize:l,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:u,displayedData:_,offset:t,cells:f})}}),qL=t=>{var{chartData:e}=t,n=lt(),r=Bn();return b.useEffect(()=>r?()=>{}:(n(YI(e)),()=>{n(YI(void 0))}),[e,n,r]),null},OC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},GL=or({name:"brush",initialState:OC,reducers:{setBrushSettings(t,e){return e.payload==null?OC:e.payload}}});GL.actions;var wne=GL.reducer;function _ne(t,e,n){return(e=bne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bne(t){var e=xne(t,"string");return typeof e=="symbol"?e:e+""}function xne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ux{static create(e){return new Ux(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}_ne(Ux,"EPS",1e-4);function Ene(t){return(t%180+180)%180}var Tne=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Ene(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},Ane={dots:[],areas:[],lines:[]},HL=or({name:"referenceElements",initialState:Ane,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=bi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=bi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=bi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}});HL.actions;var Sne=HL.reducer,Pne=b.createContext(void 0),Ine=t=>{var{children:e}=t,[n]=b.useState("".concat(zc("recharts"),"-clip")),r=$x();if(r==null)return null;var{x:i,y:o,width:s,height:a}=r;return b.createElement(Pne.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:i,y:o,height:a,width:s}))),e)};function yv(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function YL(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function Cne(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Tne(r,n)}function One(t,e,n){var r=n==="width",{x:i,y:o,width:s,height:a}=t;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function jp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function kne(t,e){return YL(t,e+1)}function Dne(t,e,n,r,i){for(var o=(r||[]).slice(),{start:s,end:a}=e,l=0,u=1,c=s,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:YL(r,u)};var g=l,_,v=()=>(_===void 0&&(_=n(m,g)),_),w=m.coordinate,x=l===0||jp(t,w,v,c,a);x||(l=0,c=s,u+=1),x&&(c=w+t*(v()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function kC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kC(Object(n),!0).forEach(function(r){Rne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rne(t,e,n){return(e=Mne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mne(t){var e=Nne(t,"string");return typeof e=="symbol"?e:e+""}function Nne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jne(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,{start:a}=e,{end:l}=e,u=function(h){var p=o[h],m,g=()=>(m===void 0&&(m=n(p,h)),m);if(h===s-1){var _=t*(p.coordinate+t*g()/2-l);o[h]=p=on(on({},p),{},{tickCoord:_>0?p.coordinate-_*t:p.coordinate})}else o[h]=p=on(on({},p),{},{tickCoord:p.coordinate});var v=jp(t,p.tickCoord,g,a,l);v&&(l=p.tickCoord-t*(g()/2+i),o[h]=on(on({},p),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function Vne(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,{start:l,end:u}=e;if(o){var c=r[a-1],f=n(c,a-1),h=t*(c.coordinate+t*f/2-u);s[a-1]=c=on(on({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var p=jp(t,c.tickCoord,()=>f,l,u);p&&(u=c.tickCoord-t*(f/2+i),s[a-1]=on(on({},c),{},{isShow:!0}))}for(var m=o?a-1:a,g=function(w){var x=s[w],P,S=()=>(P===void 0&&(P=n(x,w)),P);if(w===0){var O=t*(x.coordinate-t*S()/2-l);s[w]=x=on(on({},x),{},{tickCoord:O<0?x.coordinate-O*t:x.coordinate})}else s[w]=x=on(on({},x),{},{tickCoord:x.coordinate});var A=jp(t,x.tickCoord,S,l,u);A&&(l=x.tickCoord+t*(S()/2+i),s[w]=on(on({},x),{},{isShow:!0}))},_=0;_<m;_++)g(_);return s}function Kx(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:s,orientation:a,interval:l,tickFormatter:u,unit:c,angle:f}=t;if(!i||!i.length||!r)return[];if(G(l)||ta.isSsr){var h;return(h=kne(i,G(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],m=a==="top"||a==="bottom"?"width":"height",g=c&&m==="width"?dc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=(x,P)=>{var S=typeof u=="function"?u(x.value,P):x.value;return m==="width"?Cne(dc(S,{fontSize:e,letterSpacing:n}),g,f):dc(S,{fontSize:e,letterSpacing:n})[m]},v=i.length>=2?Bt(i[1].coordinate-i[0].coordinate):1,w=One(o,v,m);return l==="equidistantPreserveStart"?Dne(v,w,_,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=Vne(v,w,_,i,s,l==="preserveStartEnd"):p=jne(v,w,_,i,s),p.filter(x=>x.isShow))}var Lne=["viewBox"],Fne=["viewBox"];function Ua(){return Ua=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ua.apply(null,arguments)}function DC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(n),!0).forEach(function(r){Wx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RC(t,e){if(t==null)return{};var n,r,i=Bne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Wx(t,e,n){return(e=$ne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ne(t){var e=zne(t,"string");return typeof e=="symbol"?e:e+""}function zne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qo extends b.Component{constructor(e){super(e),this.tickRefs=b.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=RC(e,Lne),o=this.props,{viewBox:s}=o,a=RC(o,Fne);return!yv(r,s)||!yv(i,a)||!yv(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:o,orientation:s,tickSize:a,mirror:l,tickMargin:u}=this.props,c,f,h,p,m,g,_=l?-1:1,v=e.tickSize||a,w=G(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":c=f=e.coordinate,p=r+ +!l*o,h=p-_*v,g=h-_*u,m=w;break;case"left":h=p=e.coordinate,f=n+ +!l*i,c=f-_*v,m=c-_*u,g=w;break;case"right":h=p=e.coordinate,f=n+ +l*i,c=f+_*v,m=c+_*u,g=w;break;default:c=f=e.coordinate,p=r+ +l*o,h=p+_*v,g=h+_*u,m=w;break}return{line:{x1:c,y1:h,x2:f,y2:p},tick:{x:m,y:g}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:o,mirror:s,axisLine:a}=this.props,l=Pt(Pt(Pt({},it(this.props,!1)),it(a,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var u=+(o==="top"&&!s||o==="bottom"&&s);l=Pt(Pt({},l),{},{x1:e,y1:n+u*i,x2:e+r,y2:n+u*i})}else{var c=+(o==="left"&&!s||o==="right"&&s);l=Pt(Pt({},l),{},{x1:e+c*r,y1:n,x2:e+c*r,y2:n+i})}return b.createElement("line",Ua({},l,{className:Ce("recharts-cartesian-axis-line",ko(a,"className"))}))}static renderTickItem(e,n,r){var i,o=Ce(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(e))i=b.cloneElement(e,Pt(Pt({},n),{},{className:o}));else if(typeof e=="function")i=e(Pt(Pt({},n),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=Ce(s,e.className)),i=b.createElement(vg,Ua({},n,{className:s}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:o,tick:s,tickFormatter:a,unit:l,padding:u}=this.props,c=Kx(Pt(Pt({},this.props),{},{ticks:r}),e,n),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),p=si(this.props),m=it(s,!1),g=Pt(Pt({},p),{},{fill:"none"},it(i,!1)),_=c.map((v,w)=>{var{line:x,tick:P}=this.getTickLineCoord(v),S=Pt(Pt(Pt(Pt({textAnchor:f,verticalAnchor:h},p),{},{stroke:"none",fill:o},m),P),{},{index:w,payload:v,visibleTicksCount:c.length,tickFormatter:a,padding:u});return b.createElement(Ot,Ua({className:"recharts-cartesian-axis-tick",key:"tick-".concat(v.value,"-").concat(v.coordinate,"-").concat(v.tickCoord)},Ef(this.props,v,w)),i&&b.createElement("line",Ua({},g,x,{className:Ce("recharts-cartesian-axis-tick-line",ko(i,"className"))})),s&&qo.renderTickItem(s,S,"".concat(typeof a=="function"?a(v.value,w):v.value).concat(l||"")))});return _.length>0?b.createElement("g",{className:"recharts-cartesian-axis-ticks"},_):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:o}=this.props;if(o)return null;var{ticks:s}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:b.createElement(Ot,{className:Ce("recharts-cartesian-axis",i),ref:a=>{if(a){var l=a.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(l);var u=l[0];if(u){var c=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(c!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,s),Gn.renderCallByParent(this.props))}}Wx(qo,"displayName","CartesianAxis");Wx(qo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Une=["x1","y1","x2","y2","key"],Kne=["offset"],Wne=["xAxisId","yAxisId"],qne=["xAxisId","yAxisId"];function MC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MC(Object(n),!0).forEach(function(r){Gne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gne(t,e,n){return(e=Hne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hne(t){var e=Yne(t,"string");return typeof e=="symbol"?e:e+""}function Yne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ts(){return Ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ts.apply(null,arguments)}function Vp(t,e){if(t==null)return{};var n,r,i=Qne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Xne=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:s,ry:a}=t;return b.createElement("rect",{x:r,y:i,ry:a,width:o,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function QL(t,e){var n;if(b.isValidElement(t))n=b.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:o,y2:s,key:a}=e,l=Vp(e,Une),u=si(l),c=Vp(u,Kne);n=b.createElement("line",Ts({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function Jne(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var o=Vp(t,Wne),s=i.map((a,l)=>{var u=ln(ln({},o),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return QL(r,u)});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Zne(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var o=Vp(t,qne),s=i.map((a,l)=>{var u=ln(ln({},o),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return QL(r,u)});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function ere(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:o,height:s,horizontalPoints:a,horizontal:l=!0}=t;if(!l||!e||!e.length)return null;var u=a.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var c=u.map((f,h)=>{var p=!u[h+1],m=p?i+s-f:u[h+1]-f;if(m<=0)return null;var g=h%e.length;return b.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:m,width:o,stroke:"none",fill:e[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function tre(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:s,height:a,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var c=u.map((f,h)=>{var p=!u[h+1],m=p?i+s-f:u[h+1]-f;if(m<=0)return null;var g=h%n.length;return b.createElement("rect",{key:"react-".concat(h),x:f,y:o,width:m,height:a,stroke:"none",fill:n[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var nre=(t,e)=>{var{xAxis:n,width:r,height:i,offset:o}=t;return RN(Kx(ln(ln(ln({},qo.defaultProps),n),{},{ticks:MN(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},rre=(t,e)=>{var{yAxis:n,width:r,height:i,offset:o}=t;return RN(Kx(ln(ln(ln({},qo.defaultProps),n),{},{ticks:MN(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},ire={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Cw(t){var e=wb(),n=_b(),r=BN(),i=ln(ln({},sr(t,ire)),{},{x:G(t.x)?t.x:r.left,y:G(t.y)?t.y:r.top,width:G(t.width)?t.width:r.width,height:G(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:s,x:a,y:l,width:u,height:c,syncWithTicks:f,horizontalValues:h,verticalValues:p}=i,m=Bn(),g=re(I=>$I(I,"xAxis",o,m)),_=re(I=>$I(I,"yAxis",s,m));if(!G(u)||u<=0||!G(c)||c<=0||!G(a)||a!==+a||!G(l)||l!==+l)return null;var v=i.verticalCoordinatesGenerator||nre,w=i.horizontalCoordinatesGenerator||rre,{horizontalPoints:x,verticalPoints:P}=i;if((!x||!x.length)&&typeof w=="function"){var S=h&&h.length,O=w({yAxis:_?ln(ln({},_),{},{ticks:S?h:_.ticks}):void 0,width:e,height:n,offset:r},S?!0:f);fc(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(x=O)}if((!P||!P.length)&&typeof v=="function"){var A=p&&p.length,T=v({xAxis:g?ln(ln({},g),{},{ticks:A?p:g.ticks}):void 0,width:e,height:n,offset:r},A?!0:f);fc(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(P=T)}return b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(Xne,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(ere,Ts({},i,{horizontalPoints:x})),b.createElement(tre,Ts({},i,{verticalPoints:P})),b.createElement(Jne,Ts({},i,{offset:r,horizontalPoints:x,xAxis:g,yAxis:_})),b.createElement(Zne,Ts({},i,{offset:r,verticalPoints:P,xAxis:g,yAxis:_})))}Cw.displayName="CartesianGrid";var XL=(t,e,n,r)=>Ro(t,"xAxis",e,r),JL=(t,e,n,r)=>Do(t,"xAxis",e,r),ZL=(t,e,n,r)=>Ro(t,"yAxis",n,r),eF=(t,e,n,r)=>Do(t,"yAxis",n,r),ore=L([xe,XL,ZL,JL,eF],(t,e,n,r,i)=>Fi(t,"xAxis")?Wc(e,r,!1):Wc(n,i,!1)),sre=(t,e,n,r,i)=>i,tF=L([dg,sre],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),are=(t,e,n,r,i)=>{var o,s=tF(t,e,n,r,i);if(s!=null){var a=xe(t),l=Fi(a,"xAxis"),u;if(l?u=Jc(t,"yAxis",n,r):u=Jc(t,"xAxis",e,r),u!=null){var{stackId:c}=s,f=cg(s);if(!(c==null||f==null)){var h=(o=u[c])===null||o===void 0?void 0:o.stackedData;return h==null?void 0:h.find(p=>p.key===f)}}}},lre=L([xe,XL,ZL,JL,eF,are,sg,ore,tF],(t,e,n,r,i,o,s,a,l)=>{var{chartData:u,dataStartIndex:c,dataEndIndex:f}=s;if(!(l==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null)){var{data:h}=l,p;if(h&&h.length>0?p=h:p=u==null?void 0:u.slice(c,f+1),p!=null){var m=void 0;return Ire({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:c,areaSettings:l,stackedData:o,displayedData:p,chartBaseValue:m,bandSize:a})}}}),ure=["id"],cre=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function nF(t,e){if(t==null)return{};var n,r,i=fre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function NC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function As(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NC(Object(n),!0).forEach(function(r){dre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dre(t,e,n){return(e=hre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hre(t){var e=pre(t,"string");return typeof e=="symbol"?e:e+""}function pre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ei(){return Ei=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ei.apply(null,arguments)}function Lp(t,e){return t&&t!=="none"?t:e}var mre=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:o,hide:s}=t;return[{inactive:s,dataKey:e,type:o,color:Lp(r,i),value:Vl(n,e),payload:t}]};function gre(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:o,name:s,hide:a,unit:l}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:e,nameKey:void 0,name:Vl(s,e),hide:a,type:t.tooltipType,color:Lp(r,o),unit:l}}}var yre=(t,e)=>{var n;if(b.isValidElement(t))n=b.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=Ce("recharts-area-dot",typeof t!="boolean"?t.className:"");n=b.createElement(SL,Ei({},e,{className:r}))}return n};function vre(t,e){return t==null?!1:e?!0:t.length===1}function wre(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:o,dataKey:s}=r;if(!vre(n,o))return null;var a=pM(o),l=si(r),u=it(o,!0),c=n.map((h,p)=>{var m=As(As(As({key:"dot-".concat(p),r:3},l),u),{},{index:p,cx:h.x,cy:h.y,dataKey:s,value:h.value,payload:h.payload,points:n});return yre(o,m)}),f={clipPath:i?"url(#clipPath-".concat(a?"":"dots-").concat(e,")"):void 0};return b.createElement(Ot,Ei({className:"recharts-area-dots"},f),c)}function Ow(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:o,showLabels:s}=t,{layout:a,type:l,stroke:u,connectNulls:c,isRange:f}=o,{id:h}=o,p=nF(o,ure),m=si(p);return b.createElement(b.Fragment,null,(e==null?void 0:e.length)>1&&b.createElement(Ot,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},b.createElement(cc,Ei({},m,{id:h,points:e,connectNulls:c,type:l,baseLine:n,layout:a,stroke:"none",className:"recharts-area-area"})),u!=="none"&&b.createElement(cc,Ei({},m,{className:"recharts-area-curve",layout:a,type:l,connectNulls:c,fill:"none",points:e})),u!=="none"&&f&&b.createElement(cc,Ei({},m,{className:"recharts-area-curve",layout:a,type:l,connectNulls:c,fill:"none",points:n}))),b.createElement(wre,{points:e,props:p,clipPathId:i}),s&&bo.renderCallByParent(p,e))}function _re(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,o=r[0].y,s=r[r.length-1].y;if(!Jt(o)||!Jt(s))return null;var a=e*Math.abs(o-s),l=Math.max(...r.map(u=>u.x||0));return G(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(u=>u.x||0),l)),G(l)?b.createElement("rect",{x:0,y:o<s?o:o-a,width:l+(i?parseInt("".concat(i),10):1),height:Math.floor(a)}):null}function bre(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,o=r[0].x,s=r[r.length-1].x;if(!Jt(o)||!Jt(s))return null;var a=e*Math.abs(o-s),l=Math.max(...r.map(u=>u.y||0));return G(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(u=>u.y||0),l)),G(l)?b.createElement("rect",{x:o<s?o:o-a,y:0,width:a,height:Math.floor(l+(i?parseInt("".concat(i),10):1))}):null}function xre(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:o}=t;return n==="vertical"?b.createElement(_re,{alpha:e,points:r,baseLine:i,strokeWidth:o}):b.createElement(bre,{alpha:e,points:r,baseLine:i,strokeWidth:o})}function Ere(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o}=t,{points:s,baseLine:a,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:f,onAnimationStart:h,onAnimationEnd:p}=r,m=Vx(r,"recharts-area-"),[g,_]=b.useState(!0),v=b.useCallback(()=>{typeof p=="function"&&p(),_(!1)},[p]),w=b.useCallback(()=>{typeof h=="function"&&h(),_(!0)},[h]),x=i.current,P=o.current;return b.createElement(Fx,{begin:u,duration:c,isActive:l,easing:f,onAnimationEnd:v,onAnimationStart:w,key:m},S=>{if(x){var O=x.length/s.length,A=S===1?s:s.map((I,k)=>{var D=Math.floor(k*O);if(x[D]){var N=x[D];return As(As({},I),{},{x:mr(N.x,I.x,S),y:mr(N.y,I.y,S)})}return I}),T;return G(a)?T=mr(P,a,S):Je(a)||Fn(a)?T=mr(P,0,S):T=a.map((I,k)=>{var D=Math.floor(k*O);if(Array.isArray(P)&&P[D]){var N=P[D];return As(As({},I),{},{x:mr(N.x,I.x,S),y:mr(N.y,I.y,S)})}return I}),S>0&&(i.current=A,o.current=T),b.createElement(Ow,{points:A,baseLine:T,needClip:e,clipPathId:n,props:r,showLabels:!g})}return S>0&&(i.current=s,o.current=a),b.createElement(Ot,null,b.createElement("defs",null,b.createElement("clipPath",{id:"animationClipPath-".concat(n)},b.createElement(xre,{alpha:S,points:s,baseLine:a,layout:r.layout,strokeWidth:r.strokeWidth}))),b.createElement(Ot,{clipPath:"url(#animationClipPath-".concat(n,")")},b.createElement(Ow,{points:s,baseLine:a,needClip:e,clipPathId:n,props:r,showLabels:!0})))})}function Tre(t){var{needClip:e,clipPathId:n,props:r}=t,{points:i,baseLine:o,isAnimationActive:s}=r,a=b.useRef(null),l=b.useRef(),u=a.current,c=l.current;return s&&i&&i.length&&(u!==i||c!==o)?b.createElement(Ere,{needClip:e,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:l}):b.createElement(Ow,{points:i,baseLine:o,needClip:e,clipPathId:n,props:r,showLabels:!0})}class Are extends b.PureComponent{render(){var e,{hide:n,dot:r,points:i,className:o,top:s,left:a,needClip:l,xAxisId:u,yAxisId:c,width:f,height:h,id:p,baseLine:m}=this.props;if(n)return null;var g=Ce("recharts-area",o),_=p,{r:v=3,strokeWidth:w=2}=(e=it(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},x=pM(r),P=v*2+w;return b.createElement(b.Fragment,null,b.createElement(Ot,{className:g},l&&b.createElement("defs",null,b.createElement($L,{clipPathId:_,xAxisId:u,yAxisId:c}),!x&&b.createElement("clipPath",{id:"clipPath-dots-".concat(_)},b.createElement("rect",{x:a-P/2,y:s-P/2,width:f+P,height:h+P}))),b.createElement(Tre,{needClip:l,clipPathId:_,props:this.props})),b.createElement(AC,{points:i,mainColor:Lp(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(m)&&b.createElement(AC,{points:m,mainColor:Lp(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var rF={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!ta.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function Sre(t){var e,n=sr(t,rF),{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:s,connectNulls:a,dot:l,fill:u,fillOpacity:c,hide:f,isAnimationActive:h,legendType:p,stroke:m,xAxisId:g,yAxisId:_}=n,v=nF(n,cre),w=Zm(),x=iL(),{needClip:P}=zx(g,_),S=Bn(),{points:O,isRange:A,baseLine:T}=(e=re(se=>lre(se,g,_,S,t.id)))!==null&&e!==void 0?e:{},I=$x();if(w!=="horizontal"&&w!=="vertical"||I==null||x!=="AreaChart"&&x!=="ComposedChart")return null;var{height:k,width:D,x:N,y:R}=I;return!O||!O.length?null:b.createElement(Are,Ei({},v,{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:s,baseLine:T,connectNulls:a,dot:l,fill:u,fillOpacity:c,height:k,hide:f,layout:w,isAnimationActive:h,isRange:A,legendType:p,needClip:P,points:O,stroke:m,width:D,left:N,top:R,xAxisId:g,yAxisId:_}))}var Pre=(t,e,n,r,i)=>{var o=n??e;if(G(o))return o;var s=t==="horizontal"?i:r,a=s.scale.domain();if(s.type==="number"){var l=Math.max(a[0],a[1]),u=Math.min(a[0],a[1]);return o==="dataMin"?u:o==="dataMax"||l<0?l:Math.max(Math.min(a[0],a[1]),0)}return o==="dataMin"?a[0]:o==="dataMax"?a[1]:a[0]};function Ire(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:o,chartBaseValue:s,xAxis:a,yAxis:l,displayedData:u,dataStartIndex:c,xAxisTicks:f,yAxisTicks:h,bandSize:p}=t,m=i&&i.length,g=Pre(o,s,n,a,l),_=o==="horizontal",v=!1,w=u.map((P,S)=>{var O;m?O=i[c+S]:(O=Le(P,r),Array.isArray(O)?v=!0:O=[g,O]);var A=O[1]==null||m&&!e&&Le(P,r)==null;return _?{x:IP({axis:a,ticks:f,bandSize:p,entry:P,index:S}),y:A?null:l.scale(O[1]),value:O,payload:P}:{x:A?null:a.scale(O[1]),y:IP({axis:l,ticks:h,bandSize:p,entry:P,index:S}),value:O,payload:P}}),x;return m||v?x=w.map(P=>{var S=Array.isArray(P.value)?P.value[0]:null;return _?{x:P.x,y:S!=null&&P.y!=null?l.scale(S):null,payload:P.payload}:{x:S!=null?a.scale(S):null,y:P.y,payload:P.payload}}):x=_?l.scale(g):a.scale(g),{points:w,baseLine:x,isRange:v}}function kw(t){var e=sr(t,rF),n=Bn();return b.createElement(Lx,{id:e.id,type:"area"},r=>b.createElement(b.Fragment,null,b.createElement(ML,{legendPayload:mre(e)}),b.createElement(jx,{fn:gre,args:e}),b.createElement(jL,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:NN(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),b.createElement(Sre,Ei({},e,{id:r}))))}kw.displayName="Area";function jC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jC(Object(n),!0).forEach(function(r){Cre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cre(t,e,n){return(e=Ore(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ore(t){var e=kre(t,"string");return typeof e=="symbol"?e:e+""}function kre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dre={xAxis:{},yAxis:{},zAxis:{}},iF=or({name:"cartesianAxis",initialState:Dre,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=VC(VC({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:Rre,removeXAxis:Mre,addYAxis:Nre,removeYAxis:jre,addZAxis:Vce,removeZAxis:Lce,updateYAxisWidth:Vre}=iF.actions,Lre=iF.reducer,Fre=["children"],Bre=["dangerouslySetInnerHTML","ticks"];function oF(t,e,n){return(e=$re(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $re(t){var e=zre(t,"string");return typeof e=="symbol"?e:e+""}function zre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dw.apply(null,arguments)}function sF(t,e){if(t==null)return{};var n,r,i=Ure(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ure(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Kre(t){var e=lt(),n=b.useMemo(()=>{var o=sF(t,Fre);return o},[t]),r=re(o=>Ui(o,n.id)),i=n===r;return b.useEffect(()=>(e(Rre(n)),()=>{e(Mre(n))}),[n,e]),i?t.children:null}var Wre=t=>{var{xAxisId:e,className:n}=t,r=re(FN),i=Bn(),o="xAxis",s=re(f=>Kl(f,o,e,i)),a=re(f=>VV(f,o,e,i)),l=re(f=>RV(f,e)),u=re(f=>dX(f,e));if(l==null||u==null)return null;var c=sF(t,Bre);return b.createElement(qo,Dw({},c,{scale:s,x:u.x,y:u.y,width:l.width,height:l.height,className:Ce("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:a}))},qre=t=>{var e,n,r,i,o;return b.createElement(Kre,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter},b.createElement(Wre,t))};class Fp extends b.Component{render(){return b.createElement(qre,this.props)}}oF(Fp,"displayName","XAxis");oF(Fp,"defaultProps",{allowDataOverflow:Un.allowDataOverflow,allowDecimals:Un.allowDecimals,allowDuplicatedCategory:Un.allowDuplicatedCategory,height:Un.height,hide:!1,mirror:Un.mirror,orientation:Un.orientation,padding:Un.padding,reversed:Un.reversed,scale:Un.scale,tickCount:Un.tickCount,type:Un.type,xAxisId:0});var Gre=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,s=0;if(e){e.forEach(c=>{if(c){var f=c.getBoundingClientRect();f.width>s&&(s=f.width)}});var a=n?n.getBoundingClientRect().width:0,l=i+o,u=s+l+a+(n?r:0);return Math.round(u)}return 0},Hre=["dangerouslySetInnerHTML","ticks"];function aF(t,e,n){return(e=Yre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yre(t){var e=Qre(t,"string");return typeof e=="symbol"?e:e+""}function Qre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rw(){return Rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rw.apply(null,arguments)}function Xre(t,e){if(t==null)return{};var n,r,i=Jre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Zre(t){var e=lt();return b.useEffect(()=>(e(Nre(t)),()=>{e(jre(t))}),[t,e]),null}var eie=t=>{var e,{yAxisId:n,className:r,width:i,label:o}=t,s=b.useRef(null),a=b.useRef(null),l=re(FN),u=Bn(),c=lt(),f="yAxis",h=re(v=>Kl(v,f,n,u)),p=re(v=>MV(v,n)),m=re(v=>hX(v,n)),g=re(v=>VV(v,f,n,u));if(b.useLayoutEffect(()=>{var v;if(!(i!=="auto"||!p||Ix(o)||b.isValidElement(o))){var w=s.current,x=w==null||(v=w.tickRefs)===null||v===void 0?void 0:v.current,{tickSize:P,tickMargin:S}=w.props,O=Gre({ticks:x,label:a.current,labelGapWithTick:5,tickSize:P,tickMargin:S});Math.round(p.width)!==Math.round(O)&&c(Vre({id:n,width:O}))}},[s,s==null||(e=s.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,p==null?void 0:p.width,p,c,o,n,i]),p==null||m==null)return null;var _=Xre(t,Hre);return b.createElement(qo,Rw({},_,{ref:s,labelRef:a,scale:h,x:m.x,y:m.y,width:p.width,height:p.height,className:Ce("recharts-".concat(f," ").concat(f),r),viewBox:l,ticks:g}))},tie=t=>{var e,n,r,i,o;return b.createElement(b.Fragment,null,b.createElement(Zre,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter}),b.createElement(eie,t))},nie={allowDataOverflow:Kn.allowDataOverflow,allowDecimals:Kn.allowDecimals,allowDuplicatedCategory:Kn.allowDuplicatedCategory,hide:!1,mirror:Kn.mirror,orientation:Kn.orientation,padding:Kn.padding,reversed:Kn.reversed,scale:Kn.scale,tickCount:Kn.tickCount,type:Kn.type,width:Kn.width,yAxisId:0};class Bp extends b.Component{render(){return b.createElement(tie,this.props)}}aF(Bp,"displayName","YAxis");aF(Bp,"defaultProps",nie);var rie={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff=b;function iie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var oie=typeof Object.is=="function"?Object.is:iie,sie=Ff.useSyncExternalStore,aie=Ff.useRef,lie=Ff.useEffect,uie=Ff.useMemo,cie=Ff.useDebugValue;rie.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=aie(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=uie(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var m=s.value;if(i(m,p))return f=m}return f=p}if(m=f,oie(c,p))return m;var g=r(p);return i!==void 0&&i(m,g)?(c=p,m):(c=p,f=g)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=sie(t,o[0],o[1]);return lie(function(){s.hasValue=!0,s.value=a},[a]),cie(a),a};function fie(t){t()}function die(){let t=null,e=null;return{clear(){t=null,e=null},notify(){fie(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var LC={notify(){},get:()=>[]};function hie(t,e){let n,r=LC,i=0,o=!1;function s(g){c();const _=r.subscribe(g);let v=!1;return()=>{v||(v=!0,_(),f())}}function a(){r.notify()}function l(){m.onStateChange&&m.onStateChange()}function u(){return o}function c(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=die())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=LC)}function h(){o||(o=!0,c())}function p(){o&&(o=!1,f())}const m={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return m}var pie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mie=pie(),gie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",yie=gie(),vie=()=>mie||yie?b.useLayoutEffect:b.useEffect,wie=vie(),vv=Symbol.for("react-redux-context"),wv=typeof globalThis<"u"?globalThis:{};function _ie(){if(!b.createContext)return{};const t=wv[vv]??(wv[vv]=new Map);let e=t.get(b.createContext);return e||(e=b.createContext(null),t.set(b.createContext,e)),e}var bie=_ie();function xie(t){const{children:e,context:n,serverState:r,store:i}=t,o=b.useMemo(()=>{const l=hie(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=b.useMemo(()=>i.getState(),[i]);wie(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const a=n||bie;return b.createElement(a.Provider,{value:o},e)}var Eie=xie,Tie=(t,e)=>e,qx=L([Tie,xe,cV,Rt,JV,Ki,yJ,kt],xJ),Gx=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},lF=Ar("mouseClick"),uF=Af();uF.startListening({actionCreator:lF,effect:(t,e)=>{var n=t.payload,r=qx(e.getState(),Gx(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(SX({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Mw=Ar("mouseMove"),cF=Af();cF.startListening({actionCreator:Mw,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=vx(r,r.tooltip.settings.shared),o=qx(r,Gx(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?e.dispatch(WV({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(KV()))}});function Aie(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var FC={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},fF=or({name:"rootProps",initialState:FC,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:FC.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Sie=fF.reducer,{updateOptions:Pie}=fF.actions,dF=or({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Iie}=dF.actions,Cie=dF.reducer,hF=Ar("keyDown"),pF=Ar("focus"),Hx=Af();Hx.startListening({actionCreator:hF,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=Number(wx(i,ql(n))),a=Ki(n);if(o==="Enter"){var l=kp(n,"axis","hover",String(i.index));e.dispatch(Ew({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var u=yX(n),c=u==="left-to-right"?1:-1,f=o==="ArrowRight"?1:-1,h=s+f*c;if(!(a==null||h>=a.length||h<0)){var p=kp(n,"axis","hover",String(h));e.dispatch(Ew({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});Hx.startListening({actionCreator:pF,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",s=kp(n,"axis","hover",String(o));e.dispatch(Ew({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:s}))}}}});var fr=Ar("externalEvent"),mF=Af();mF.startListening({actionCreator:fr,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:lJ(n),activeDataKey:nL(n),activeIndex:Mo(n),activeLabel:tL(n),activeTooltipIndex:Mo(n),isTooltipActive:uJ(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Oie=L([Wl],t=>t.tooltipItemPayloads),kie=L([Oie,Nf,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(a=>a.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var s=e(o,n);return s}}}),gF=Ar("touchMove"),yF=Af();yF.startListening({actionCreator:gF,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=vx(r,r.tooltip.settings.shared);if(i==="axis"){var o=qx(r,Gx({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(WV({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var s,a=n.touches[0],l=document.elementFromPoint(a.clientX,a.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(VN),c=(s=l.getAttribute(LN))!==null&&s!==void 0?s:void 0,f=kie(e.getState(),u,c);e.dispatch(UV({activeDataKey:c,activeIndex:u,activeCoordinate:f}))}}});var Die=lN({brush:wne,cartesianAxis:Lre,chartData:VJ,errorBars:xte,graphicalItems:Dee,layout:P7,legend:hq,options:DJ,polarAxis:eee,polarOptions:Cie,referenceElements:Sne,rootProps:Sie,tooltip:PX}),Rie=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return JW({reducer:Die,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([uF.middleware,cF.middleware,Hx.middleware,mF.middleware,yF.middleware]),devTools:{serialize:{replacer:Aie},name:"recharts-".concat(n)}})};function vF(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Bn(),o=b.useRef(null);if(i)return n;o.current==null&&(o.current=Rie(e,r));var s=lb;return b.createElement(Eie,{context:s,store:o.current},n)}function wF(t){var{layout:e,width:n,height:r,margin:i}=t,o=lt(),s=Bn();return b.useEffect(()=>{s||(o(T7(e)),o(A7({width:n,height:r})),o(E7(i)))},[o,s,e,n,r,i]),null}function _F(t){var e=lt();return b.useEffect(()=>{e(Pie(t))},[e,t]),null}var Mie=["children"];function Nie(t,e){if(t==null)return{};var n,r,i=jie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $p(){return $p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$p.apply(null,arguments)}var Vie={width:"100%",height:"100%"},Lie=b.forwardRef((t,e)=>{var n=wb(),r=_b(),i=KN();if(!ml(n)||!ml(r))return null;var{children:o,otherAttributes:s,title:a,desc:l}=t,u,c;return typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0,b.createElement(H_,$p({},s,{title:a,desc:l,role:c,tabIndex:u,width:n,height:r,style:Vie,ref:e}),o)}),Fie=t=>{var{children:e}=t,n=re(Jm);if(!n)return null;var{width:r,height:i,y:o,x:s}=n;return b.createElement(H_,{width:r,height:i,x:s,y:o},e)},BC=b.forwardRef((t,e)=>{var{children:n}=t,r=Nie(t,Mie),i=Bn();return i?b.createElement(Fie,null,n):b.createElement(Lie,$p({ref:e},r),n)});function Bie(){var t=lt(),[e,n]=b.useState(null),r=re(tq);return b.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;Jt(o)&&o!==r&&t(S7(o))}},[e,t,r]),n}function $C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(n),!0).forEach(function(r){zie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zie(t,e,n){return(e=Uie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uie(t){var e=Kie(t,"string");return typeof e=="symbol"?e:e+""}function Kie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wie=b.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:s,onDoubleClick:a,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:_,width:v}=t,w=lt(),[x,P]=b.useState(null),[S,O]=b.useState(null);BJ();var A=Bie(),T=b.useCallback(Q=>{A(Q),typeof e=="function"&&e(Q),P(Q),O(Q)},[A,e,P,O]),I=b.useCallback(Q=>{w(lF(Q)),w(fr({handler:o,reactEvent:Q}))},[w,o]),k=b.useCallback(Q=>{w(Mw(Q)),w(fr({handler:u,reactEvent:Q}))},[w,u]),D=b.useCallback(Q=>{w(KV()),w(fr({handler:c,reactEvent:Q}))},[w,c]),N=b.useCallback(Q=>{w(Mw(Q)),w(fr({handler:f,reactEvent:Q}))},[w,f]),R=b.useCallback(()=>{w(pF())},[w]),se=b.useCallback(Q=>{w(hF(Q.key))},[w]),me=b.useCallback(Q=>{w(fr({handler:s,reactEvent:Q}))},[w,s]),_e=b.useCallback(Q=>{w(fr({handler:a,reactEvent:Q}))},[w,a]),le=b.useCallback(Q=>{w(fr({handler:l,reactEvent:Q}))},[w,l]),z=b.useCallback(Q=>{w(fr({handler:h,reactEvent:Q}))},[w,h]),Y=b.useCallback(Q=>{w(fr({handler:g,reactEvent:Q}))},[w,g]),ne=b.useCallback(Q=>{w(gF(Q)),w(fr({handler:m,reactEvent:Q}))},[w,m]),Ee=b.useCallback(Q=>{w(fr({handler:p,reactEvent:Q}))},[w,p]);return b.createElement(uL.Provider,{value:x},b.createElement(mM.Provider,{value:S},b.createElement("div",{className:Ce("recharts-wrapper",r),style:$ie({position:"relative",cursor:"default",width:v,height:i},_),onClick:I,onContextMenu:me,onDoubleClick:_e,onFocus:R,onKeyDown:se,onMouseDown:le,onMouseEnter:k,onMouseLeave:D,onMouseMove:N,onMouseUp:z,onTouchEnd:Ee,onTouchMove:ne,onTouchStart:Y,ref:T},n)))}),qie=["children","className","width","height","style","compact","title","desc"];function Gie(t,e){if(t==null)return{};var n,r,i=Hie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bF=b.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:o,style:s,compact:a,title:l,desc:u}=t,c=Gie(t,qie),f=si(c);return a?b.createElement(BC,{otherAttributes:f,title:l,desc:u},n):b.createElement(Wie,{className:r,style:s,width:i,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},b.createElement(BC,{otherAttributes:f,title:l,desc:u,ref:e},b.createElement(Ine,null,n)))}),Yie=["width","height"];function Nw(){return Nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nw.apply(null,arguments)}function Qie(t,e){if(t==null)return{};var n,r,i=Xie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Jie={top:5,right:5,bottom:5,left:5},Zie={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Jie,reverseStackOrder:!1,syncMethod:"index"},xF=b.forwardRef(function(e,n){var r,i=sr(e.categoricalChartProps,Zie),{width:o,height:s}=i,a=Qie(i,Yie);if(!ml(o)||!ml(s))return null;var{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,eventEmitter:void 0};return b.createElement(vF,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:l},b.createElement(qL,{chartData:h.data}),b.createElement(wF,{width:o,height:s,layout:i.layout,margin:i.margin}),b.createElement(_F,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),b.createElement(bF,Nw({},a,{width:o,height:s,ref:n})))}),eoe=["axis","item"],toe=b.forwardRef((t,e)=>b.createElement(xF,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:eoe,tooltipPayloadSearcher:Px,categoricalChartProps:t,ref:e}));function noe(t){var e=lt();return b.useEffect(()=>{e(Iie(t))},[e,t]),null}var roe=["width","height","layout"];function jw(){return jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jw.apply(null,arguments)}function ioe(t,e){if(t==null)return{};var n,r,i=ooe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ooe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var soe={top:5,right:5,bottom:5,left:5},aoe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:soe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},loe=b.forwardRef(function(e,n){var r,i=sr(e.categoricalChartProps,aoe),{width:o,height:s,layout:a}=i,l=ioe(i,roe);if(!ml(o)||!ml(s))return null;var{chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=e,p={chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return b.createElement(vF,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},b.createElement(qL,{chartData:i.data}),b.createElement(wF,{width:o,height:s,layout:a,margin:i.margin}),b.createElement(_F,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),b.createElement(noe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),b.createElement(bF,jw({width:o,height:s},l,{ref:n})))}),uoe=["item"],coe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},foe=b.forwardRef((t,e)=>{var n=sr(t,coe);return b.createElement(loe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:uoe,tooltipPayloadSearcher:Px,categoricalChartProps:n,ref:e})}),doe=["axis"],hoe=b.forwardRef((t,e)=>b.createElement(xF,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:doe,tooltipPayloadSearcher:Px,categoricalChartProps:t,ref:e}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},poe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},TF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(h=64)),r.push(n[c],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(EF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):poe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new moe;const h=o<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const m=u<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class moe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const goe=function(t){const e=EF(t);return TF.encodeByteArray(e,!0)},zp=function(t){return goe(t).replace(/\./g,"")},yoe=function(t){try{return TF.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function voe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const woe=()=>voe().__FIREBASE_DEFAULTS__,_oe=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},boe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yoe(t[1]);return e&&JSON.parse(e)},Yx=()=>{try{return woe()||_oe()||boe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xoe=t=>{var e,n;return(n=(e=Yx())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Eoe=t=>{const e=xoe(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},AF=()=>{var t;return(t=Yx())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Toe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aoe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[zp(JSON.stringify(n)),zp(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Soe(){var t;const e=(t=Yx())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SF(){return!Soe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PF(){try{return typeof indexedDB=="object"}catch{return!1}}function Poe(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ioe="FirebaseError";class Gl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ioe,Object.setPrototypeOf(this,Gl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,IF.prototype.create)}}class IF{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Coe(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Gl(i,a,r)}}function Coe(t,e){return t.replace(Ooe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Ooe=/\{\$([^}]+)}/g;function Vw(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(zC(o)&&zC(s)){if(!Vw(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(t){return t&&t._delegate?t._delegate:t}class ef{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class koe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Toe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Roe(e))try{this.getOrInitializeService({instanceIdentifier:ls})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ls){return this.instances.has(e)}getOptions(e=ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Doe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ls){return this.component?this.component.multipleInstances?e:ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Doe(t){return t===ls?void 0:t}function Roe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Moe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new koe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const Noe={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},joe=Ae.INFO,Voe={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},Loe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Voe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class CF{constructor(e){this.name=e,this._logLevel=joe,this._logHandler=Loe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Noe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const Foe=(t,e)=>e.some(n=>t instanceof n);let UC,KC;function Boe(){return UC||(UC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $oe(){return KC||(KC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OF=new WeakMap,Lw=new WeakMap,kF=new WeakMap,_v=new WeakMap,Qx=new WeakMap;function zoe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(xo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&OF.set(n,t)}).catch(()=>{}),Qx.set(e,t),e}function Uoe(t){if(Lw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Lw.set(t,e)}let Fw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kF.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Koe(t){Fw=t(Fw)}function Woe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bv(this),e,...n);return kF.set(r,e.sort?e.sort():[e]),xo(r)}:$oe().includes(t)?function(...e){return t.apply(bv(this),e),xo(OF.get(this))}:function(...e){return xo(t.apply(bv(this),e))}}function qoe(t){return typeof t=="function"?Woe(t):(t instanceof IDBTransaction&&Uoe(t),Foe(t,Boe())?new Proxy(t,Fw):t)}function xo(t){if(t instanceof IDBRequest)return zoe(t);if(_v.has(t))return _v.get(t);const e=qoe(t);return e!==t&&(_v.set(t,e),Qx.set(e,t)),e}const bv=t=>Qx.get(t);function Goe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=xo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(xo(s.result),l.oldVersion,l.newVersion,xo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Hoe=["get","getKey","getAll","getAllKeys","count"],Yoe=["put","add","delete","clear"],xv=new Map;function WC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xv.get(e))return xv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Yoe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Hoe.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return xv.set(e,o),o}Koe(t=>({...t,get:(e,n,r)=>WC(e,n)||t.get(e,n,r),has:(e,n)=>!!WC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qoe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Xoe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Xoe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bw="@firebase/app",qC="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new CF("@firebase/app"),Joe="@firebase/app-compat",Zoe="@firebase/analytics-compat",ese="@firebase/analytics",tse="@firebase/app-check-compat",nse="@firebase/app-check",rse="@firebase/auth",ise="@firebase/auth-compat",ose="@firebase/database",sse="@firebase/data-connect",ase="@firebase/database-compat",lse="@firebase/functions",use="@firebase/functions-compat",cse="@firebase/installations",fse="@firebase/installations-compat",dse="@firebase/messaging",hse="@firebase/messaging-compat",pse="@firebase/performance",mse="@firebase/performance-compat",gse="@firebase/remote-config",yse="@firebase/remote-config-compat",vse="@firebase/storage",wse="@firebase/storage-compat",_se="@firebase/firestore",bse="@firebase/vertexai-preview",xse="@firebase/firestore-compat",Ese="firebase",Tse="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="[DEFAULT]",Ase={[Bw]:"fire-core",[Joe]:"fire-core-compat",[ese]:"fire-analytics",[Zoe]:"fire-analytics-compat",[nse]:"fire-app-check",[tse]:"fire-app-check-compat",[rse]:"fire-auth",[ise]:"fire-auth-compat",[ose]:"fire-rtdb",[sse]:"fire-data-connect",[ase]:"fire-rtdb-compat",[lse]:"fire-fn",[use]:"fire-fn-compat",[cse]:"fire-iid",[fse]:"fire-iid-compat",[dse]:"fire-fcm",[hse]:"fire-fcm-compat",[pse]:"fire-perf",[mse]:"fire-perf-compat",[gse]:"fire-rc",[yse]:"fire-rc-compat",[vse]:"fire-gcs",[wse]:"fire-gcs-compat",[_se]:"fire-fst",[xse]:"fire-fst-compat",[bse]:"fire-vertex","fire-js":"fire-js",[Ese]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=new Map,Sse=new Map,zw=new Map;function GC(t,e){try{t.container.addComponent(e)}catch(n){ji.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wp(t){const e=t.name;if(zw.has(e))return ji.debug(`There were multiple attempts to register component ${e}.`),!1;zw.set(e,t);for(const n of Kp.values())GC(n,t);for(const n of Sse.values())GC(n,t);return!0}function Pse(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ise={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Eo=new IF("app","Firebase",Ise);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cse{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ef("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ose=Tse;function DF(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$w,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Eo.create("bad-app-name",{appName:String(i)});if(n||(n=AF()),!n)throw Eo.create("no-options");const o=Kp.get(i);if(o){if(Vw(n,o.options)&&Vw(r,o.config))return o;throw Eo.create("duplicate-app",{appName:i})}const s=new Moe(i);for(const l of zw.values())s.addComponent(l);const a=new Cse(n,r,s);return Kp.set(i,a),a}function kse(t=$w){const e=Kp.get(t);if(!e&&t===$w&&AF())return DF();if(!e)throw Eo.create("no-app",{appName:t});return e}function el(t,e,n){var r;let i=(r=Ase[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ji.warn(a.join(" "));return}Wp(new ef(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dse="firebase-heartbeat-database",Rse=1,tf="firebase-heartbeat-store";let Ev=null;function RF(){return Ev||(Ev=Goe(Dse,Rse,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Eo.create("idb-open",{originalErrorMessage:t.message})})),Ev}async function Mse(t){try{const n=(await RF()).transaction(tf),r=await n.objectStore(tf).get(MF(t));return await n.done,r}catch(e){if(e instanceof Gl)ji.warn(e.message);else{const n=Eo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ji.warn(n.message)}}}async function HC(t,e){try{const r=(await RF()).transaction(tf,"readwrite");await r.objectStore(tf).put(e,MF(t)),await r.done}catch(n){if(n instanceof Gl)ji.warn(n.message);else{const r=Eo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ji.warn(r.message)}}}function MF(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nse=1024,jse=30*24*60*60*1e3;class Vse{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Fse(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=YC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=jse}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ji.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=YC(),{heartbeatsToSend:r,unsentEntries:i}=Lse(this._heartbeatsCache.heartbeats),o=zp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ji.warn(n),""}}}function YC(){return new Date().toISOString().substring(0,10)}function Lse(t,e=Nse){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),QC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),QC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Fse{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PF()?Poe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Mse(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return HC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return HC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function QC(t){return zp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bse(t){Wp(new ef("platform-logger",e=>new Qoe(e),"PRIVATE")),Wp(new ef("heartbeat",e=>new Vse(e),"PRIVATE")),el(Bw,qC,t),el(Bw,qC,"esm2017"),el("fire-js","")}Bse("");var XC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,NF;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,T){function I(){}I.prototype=T.prototype,A.D=T.prototype,A.prototype=new I,A.prototype.constructor=A,A.C=function(k,D,N){for(var R=Array(arguments.length-2),se=2;se<arguments.length;se++)R[se-2]=arguments[se];return T.prototype[D].apply(k,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,T,I){I||(I=0);var k=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)k[D]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(D=0;16>D;++D)k[D]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=A.g[0],I=A.g[1],D=A.g[2];var N=A.g[3],R=T+(N^I&(D^N))+k[0]+3614090360&4294967295;T=I+(R<<7&4294967295|R>>>25),R=N+(D^T&(I^D))+k[1]+3905402710&4294967295,N=T+(R<<12&4294967295|R>>>20),R=D+(I^N&(T^I))+k[2]+606105819&4294967295,D=N+(R<<17&4294967295|R>>>15),R=I+(T^D&(N^T))+k[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=T+(N^I&(D^N))+k[4]+4118548399&4294967295,T=I+(R<<7&4294967295|R>>>25),R=N+(D^T&(I^D))+k[5]+1200080426&4294967295,N=T+(R<<12&4294967295|R>>>20),R=D+(I^N&(T^I))+k[6]+2821735955&4294967295,D=N+(R<<17&4294967295|R>>>15),R=I+(T^D&(N^T))+k[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=T+(N^I&(D^N))+k[8]+1770035416&4294967295,T=I+(R<<7&4294967295|R>>>25),R=N+(D^T&(I^D))+k[9]+2336552879&4294967295,N=T+(R<<12&4294967295|R>>>20),R=D+(I^N&(T^I))+k[10]+4294925233&4294967295,D=N+(R<<17&4294967295|R>>>15),R=I+(T^D&(N^T))+k[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=T+(N^I&(D^N))+k[12]+1804603682&4294967295,T=I+(R<<7&4294967295|R>>>25),R=N+(D^T&(I^D))+k[13]+4254626195&4294967295,N=T+(R<<12&4294967295|R>>>20),R=D+(I^N&(T^I))+k[14]+2792965006&4294967295,D=N+(R<<17&4294967295|R>>>15),R=I+(T^D&(N^T))+k[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=T+(D^N&(I^D))+k[1]+4129170786&4294967295,T=I+(R<<5&4294967295|R>>>27),R=N+(I^D&(T^I))+k[6]+3225465664&4294967295,N=T+(R<<9&4294967295|R>>>23),R=D+(T^I&(N^T))+k[11]+643717713&4294967295,D=N+(R<<14&4294967295|R>>>18),R=I+(N^T&(D^N))+k[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=T+(D^N&(I^D))+k[5]+3593408605&4294967295,T=I+(R<<5&4294967295|R>>>27),R=N+(I^D&(T^I))+k[10]+38016083&4294967295,N=T+(R<<9&4294967295|R>>>23),R=D+(T^I&(N^T))+k[15]+3634488961&4294967295,D=N+(R<<14&4294967295|R>>>18),R=I+(N^T&(D^N))+k[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=T+(D^N&(I^D))+k[9]+568446438&4294967295,T=I+(R<<5&4294967295|R>>>27),R=N+(I^D&(T^I))+k[14]+3275163606&4294967295,N=T+(R<<9&4294967295|R>>>23),R=D+(T^I&(N^T))+k[3]+4107603335&4294967295,D=N+(R<<14&4294967295|R>>>18),R=I+(N^T&(D^N))+k[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=T+(D^N&(I^D))+k[13]+2850285829&4294967295,T=I+(R<<5&4294967295|R>>>27),R=N+(I^D&(T^I))+k[2]+4243563512&4294967295,N=T+(R<<9&4294967295|R>>>23),R=D+(T^I&(N^T))+k[7]+1735328473&4294967295,D=N+(R<<14&4294967295|R>>>18),R=I+(N^T&(D^N))+k[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=T+(I^D^N)+k[5]+4294588738&4294967295,T=I+(R<<4&4294967295|R>>>28),R=N+(T^I^D)+k[8]+2272392833&4294967295,N=T+(R<<11&4294967295|R>>>21),R=D+(N^T^I)+k[11]+1839030562&4294967295,D=N+(R<<16&4294967295|R>>>16),R=I+(D^N^T)+k[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=T+(I^D^N)+k[1]+2763975236&4294967295,T=I+(R<<4&4294967295|R>>>28),R=N+(T^I^D)+k[4]+1272893353&4294967295,N=T+(R<<11&4294967295|R>>>21),R=D+(N^T^I)+k[7]+4139469664&4294967295,D=N+(R<<16&4294967295|R>>>16),R=I+(D^N^T)+k[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=T+(I^D^N)+k[13]+681279174&4294967295,T=I+(R<<4&4294967295|R>>>28),R=N+(T^I^D)+k[0]+3936430074&4294967295,N=T+(R<<11&4294967295|R>>>21),R=D+(N^T^I)+k[3]+3572445317&4294967295,D=N+(R<<16&4294967295|R>>>16),R=I+(D^N^T)+k[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=T+(I^D^N)+k[9]+3654602809&4294967295,T=I+(R<<4&4294967295|R>>>28),R=N+(T^I^D)+k[12]+3873151461&4294967295,N=T+(R<<11&4294967295|R>>>21),R=D+(N^T^I)+k[15]+530742520&4294967295,D=N+(R<<16&4294967295|R>>>16),R=I+(D^N^T)+k[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=T+(D^(I|~N))+k[0]+4096336452&4294967295,T=I+(R<<6&4294967295|R>>>26),R=N+(I^(T|~D))+k[7]+1126891415&4294967295,N=T+(R<<10&4294967295|R>>>22),R=D+(T^(N|~I))+k[14]+2878612391&4294967295,D=N+(R<<15&4294967295|R>>>17),R=I+(N^(D|~T))+k[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=T+(D^(I|~N))+k[12]+1700485571&4294967295,T=I+(R<<6&4294967295|R>>>26),R=N+(I^(T|~D))+k[3]+2399980690&4294967295,N=T+(R<<10&4294967295|R>>>22),R=D+(T^(N|~I))+k[10]+4293915773&4294967295,D=N+(R<<15&4294967295|R>>>17),R=I+(N^(D|~T))+k[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=T+(D^(I|~N))+k[8]+1873313359&4294967295,T=I+(R<<6&4294967295|R>>>26),R=N+(I^(T|~D))+k[15]+4264355552&4294967295,N=T+(R<<10&4294967295|R>>>22),R=D+(T^(N|~I))+k[6]+2734768916&4294967295,D=N+(R<<15&4294967295|R>>>17),R=I+(N^(D|~T))+k[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=T+(D^(I|~N))+k[4]+4149444226&4294967295,T=I+(R<<6&4294967295|R>>>26),R=N+(I^(T|~D))+k[11]+3174756917&4294967295,N=T+(R<<10&4294967295|R>>>22),R=D+(T^(N|~I))+k[2]+718787259&4294967295,D=N+(R<<15&4294967295|R>>>17),R=I+(N^(D|~T))+k[9]+3951481745&4294967295,A.g[0]=A.g[0]+T&4294967295,A.g[1]=A.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+N&4294967295}r.prototype.u=function(A,T){T===void 0&&(T=A.length);for(var I=T-this.blockSize,k=this.B,D=this.h,N=0;N<T;){if(D==0)for(;N<=I;)i(this,A,N),N+=this.blockSize;if(typeof A=="string"){for(;N<T;)if(k[D++]=A.charCodeAt(N++),D==this.blockSize){i(this,k),D=0;break}}else for(;N<T;)if(k[D++]=A[N++],D==this.blockSize){i(this,k),D=0;break}}this.h=D,this.o+=T},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var T=1;T<A.length-8;++T)A[T]=0;var I=8*this.o;for(T=A.length-8;T<A.length;++T)A[T]=I&255,I/=256;for(this.u(A),A=Array(16),T=I=0;4>T;++T)for(var k=0;32>k;k+=8)A[I++]=this.g[T]>>>k&255;return A};function o(A,T){var I=a;return Object.prototype.hasOwnProperty.call(I,A)?I[A]:I[A]=T(A)}function s(A,T){this.h=T;for(var I=[],k=!0,D=A.length-1;0<=D;D--){var N=A[D]|0;k&&N==T||(I[D]=N,k=!1)}this.g=I}var a={};function l(A){return-128<=A&&128>A?o(A,function(T){return new s([T|0],0>T?-1:0)}):new s([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return _(u(-A));for(var T=[],I=1,k=0;A>=I;k++)T[k]=A/I|0,I*=4294967296;return new s(T,0)}function c(A,T){if(A.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(A.charAt(0)=="-")return _(c(A.substring(1),T));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(T,8)),k=f,D=0;D<A.length;D+=8){var N=Math.min(8,A.length-D),R=parseInt(A.substring(D,D+N),T);8>N?(N=u(Math.pow(T,N)),k=k.j(N).add(u(R))):(k=k.j(I),k=k.add(u(R)))}return k}var f=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(g(this))return-_(this).m();for(var A=0,T=1,I=0;I<this.g.length;I++){var k=this.i(I);A+=(0<=k?k:4294967296+k)*T,T*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(m(this))return"0";if(g(this))return"-"+_(this).toString(A);for(var T=u(Math.pow(A,6)),I=this,k="";;){var D=P(I,T).g;I=v(I,D.j(T));var N=((0<I.g.length?I.g[0]:I.h)>>>0).toString(A);if(I=D,m(I))return N+k;for(;6>N.length;)N="0"+N;k=N+k}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function m(A){if(A.h!=0)return!1;for(var T=0;T<A.g.length;T++)if(A.g[T]!=0)return!1;return!0}function g(A){return A.h==-1}t.l=function(A){return A=v(this,A),g(A)?-1:m(A)?0:1};function _(A){for(var T=A.g.length,I=[],k=0;k<T;k++)I[k]=~A.g[k];return new s(I,~A.h).add(h)}t.abs=function(){return g(this)?_(this):this},t.add=function(A){for(var T=Math.max(this.g.length,A.g.length),I=[],k=0,D=0;D<=T;D++){var N=k+(this.i(D)&65535)+(A.i(D)&65535),R=(N>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);k=R>>>16,N&=65535,R&=65535,I[D]=R<<16|N}return new s(I,I[I.length-1]&-2147483648?-1:0)};function v(A,T){return A.add(_(T))}t.j=function(A){if(m(this)||m(A))return f;if(g(this))return g(A)?_(this).j(_(A)):_(_(this).j(A));if(g(A))return _(this.j(_(A)));if(0>this.l(p)&&0>A.l(p))return u(this.m()*A.m());for(var T=this.g.length+A.g.length,I=[],k=0;k<2*T;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<A.g.length;D++){var N=this.i(k)>>>16,R=this.i(k)&65535,se=A.i(D)>>>16,me=A.i(D)&65535;I[2*k+2*D]+=R*me,w(I,2*k+2*D),I[2*k+2*D+1]+=N*me,w(I,2*k+2*D+1),I[2*k+2*D+1]+=R*se,w(I,2*k+2*D+1),I[2*k+2*D+2]+=N*se,w(I,2*k+2*D+2)}for(k=0;k<T;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=T;k<2*T;k++)I[k]=0;return new s(I,0)};function w(A,T){for(;(A[T]&65535)!=A[T];)A[T+1]+=A[T]>>>16,A[T]&=65535,T++}function x(A,T){this.g=A,this.h=T}function P(A,T){if(m(T))throw Error("division by zero");if(m(A))return new x(f,f);if(g(A))return T=P(_(A),T),new x(_(T.g),_(T.h));if(g(T))return T=P(A,_(T)),new x(_(T.g),T.h);if(30<A.g.length){if(g(A)||g(T))throw Error("slowDivide_ only works with positive integers.");for(var I=h,k=T;0>=k.l(A);)I=S(I),k=S(k);var D=O(I,1),N=O(k,1);for(k=O(k,2),I=O(I,2);!m(k);){var R=N.add(k);0>=R.l(A)&&(D=D.add(I),N=R),k=O(k,1),I=O(I,1)}return T=v(A,D.j(T)),new x(D,T)}for(D=f;0<=A.l(T);){for(I=Math.max(1,Math.floor(A.m()/T.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),N=u(I),R=N.j(T);g(R)||0<R.l(A);)I-=k,N=u(I),R=N.j(T);m(N)&&(N=h),D=D.add(N),A=v(A,R)}return new x(D,A)}t.A=function(A){return P(this,A).h},t.and=function(A){for(var T=Math.max(this.g.length,A.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)&A.i(k);return new s(I,this.h&A.h)},t.or=function(A){for(var T=Math.max(this.g.length,A.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)|A.i(k);return new s(I,this.h|A.h)},t.xor=function(A){for(var T=Math.max(this.g.length,A.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)^A.i(k);return new s(I,this.h^A.h)};function S(A){for(var T=A.g.length+1,I=[],k=0;k<T;k++)I[k]=A.i(k)<<1|A.i(k-1)>>>31;return new s(I,A.h)}function O(A,T){var I=T>>5;T%=32;for(var k=A.g.length-I,D=[],N=0;N<k;N++)D[N]=0<T?A.i(N+I)>>>T|A.i(N+I+1)<<32-T:A.i(N+I);return new s(D,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,NF=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,Ms=s}).apply(typeof XC<"u"?XC:typeof self<"u"?self:typeof window<"u"?window:{});var Hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jF,Ku,VF,vh,Uw,LF,FF,BF;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,E){return d==Array.prototype||d==Object.prototype||(d[y]=E.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hd=="object"&&Hd];for(var y=0;y<d.length;++y){var E=d[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(d,y){if(y)e:{var E=r;d=d.split(".");for(var C=0;C<d.length-1;C++){var j=d[C];if(!(j in E))break e;E=E[j]}d=d[d.length-1],C=E[d],y=y(C),y!=C&&y!=null&&e(E,d,{configurable:!0,writable:!0,value:y})}}function o(d,y){d instanceof String&&(d+="");var E=0,C=!1,j={next:function(){if(!C&&E<d.length){var F=E++;return{value:y(F,d[F]),done:!1}}return C=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(d){return d||function(){return o(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function u(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function c(d,y,E){return d.call.apply(d.bind,arguments)}function f(d,y,E){if(!d)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,C),d.apply(y,j)}}return function(){return d.apply(y,arguments)}}function h(d,y,E){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function p(d,y){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),d.apply(this,C)}}function m(d,y){function E(){}E.prototype=y.prototype,d.aa=y.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(C,j,F){for(var W=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)W[Ve-2]=arguments[Ve];return y.prototype[j].apply(C,W)}}function g(d){const y=d.length;if(0<y){const E=Array(y);for(let C=0;C<y;C++)E[C]=d[C];return E}return[]}function _(d,y){for(let E=1;E<arguments.length;E++){const C=arguments[E];if(l(C)){const j=d.length||0,F=C.length||0;d.length=j+F;for(let W=0;W<F;W++)d[j+W]=C[W]}else d.push(C)}}class v{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function w(d){return/^[\s\xa0]*$/.test(d)}function x(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function P(d){return P[" "](d),d}P[" "]=function(){};var S=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function O(d,y,E){for(const C in d)y.call(E,d[C],C,d)}function A(d,y){for(const E in d)y.call(void 0,d[E],E,d)}function T(d){const y={};for(const E in d)y[E]=d[E];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,y){let E,C;for(let j=1;j<arguments.length;j++){C=arguments[j];for(E in C)d[E]=C[E];for(let F=0;F<I.length;F++)E=I[F],Object.prototype.hasOwnProperty.call(C,E)&&(d[E]=C[E])}}function D(d){var y=1;d=d.split(":");const E=[];for(;0<y&&d.length;)E.push(d.shift()),y--;return d.length&&E.push(d.join(":")),E}function N(d){a.setTimeout(()=>{throw d},0)}function R(){var d=Y;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class se{constructor(){this.h=this.g=null}add(y,E){const C=me.get();C.set(y,E),this.h?this.h.next=C:this.g=C,this.h=C}}var me=new v(()=>new _e,d=>d.reset());class _e{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let le,z=!1,Y=new se,ne=()=>{const d=a.Promise.resolve(void 0);le=()=>{d.then(Ee)}};var Ee=()=>{for(var d;d=R();){try{d.h.call(d.g)}catch(E){N(E)}var y=me;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}z=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function De(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}De.prototype.h=function(){this.defaultPrevented=!0};var dn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};a.addEventListener("test",E,y),a.removeEventListener("test",E,y)}catch{}return d}();function be(d,y){if(De.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,C=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(S){e:{try{P(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else E=="mouseover"?y=d.fromElement:E=="mouseout"&&(y=d.toElement);this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Pn[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&be.aa.h.call(this)}}m(be,De);var Pn={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var hn="closure_listenable_"+(1e6*Math.random()|0),Zl=0;function Z(d,y,E,C,j){this.listener=d,this.proxy=null,this.src=y,this.type=E,this.capture=!!C,this.ha=j,this.key=++Zl,this.da=this.fa=!1}function fe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function de(d){this.src=d,this.g={},this.h=0}de.prototype.add=function(d,y,E,C,j){var F=d.toString();d=this.g[F],d||(d=this.g[F]=[],this.h++);var W=Ue(d,y,C,j);return-1<W?(y=d[W],E||(y.fa=!1)):(y=new Z(y,this.src,F,!!C,j),y.fa=E,d.push(y)),y};function $(d,y){var E=y.type;if(E in d.g){var C=d.g[E],j=Array.prototype.indexOf.call(C,y,void 0),F;(F=0<=j)&&Array.prototype.splice.call(C,j,1),F&&(fe(y),d.g[E].length==0&&(delete d.g[E],d.h--))}}function Ue(d,y,E,C){for(var j=0;j<d.length;++j){var F=d[j];if(!F.da&&F.listener==y&&F.capture==!!E&&F.ha==C)return j}return-1}var Pe="closure_lm_"+(1e6*Math.random()|0),wt={};function jt(d,y,E,C,j){if(C&&C.once)return Hf(d,y,E,C,j);if(Array.isArray(y)){for(var F=0;F<y.length;F++)jt(d,y[F],E,C,j);return null}return E=pe(E),d&&d[hn]?d.K(y,E,u(C)?!!C.capture:!!C,j):pn(d,y,E,!1,C,j)}function pn(d,y,E,C,j,F){if(!y)throw Error("Invalid event type");var W=u(j)?!!j.capture:!!j,Ve=nu(d);if(Ve||(d[Pe]=Ve=new de(d)),E=Ve.add(y,E,C,W,F),E.proxy)return E;if(C=ua(),E.proxy=C,C.src=d,C.listener=E,d.addEventListener)dn||(j=W),j===void 0&&(j=!1),d.addEventListener(y.toString(),C,j);else if(d.attachEvent)d.attachEvent(tu(y.toString()),C);else if(d.addListener&&d.removeListener)d.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ua(){function d(E){return y.call(d.src,d.listener,E)}const y=Lg;return d}function Hf(d,y,E,C,j){if(Array.isArray(y)){for(var F=0;F<y.length;F++)Hf(d,y[F],E,C,j);return null}return E=pe(E),d&&d[hn]?d.L(y,E,u(C)?!!C.capture:!!C,j):pn(d,y,E,!0,C,j)}function Yf(d,y,E,C,j){if(Array.isArray(y))for(var F=0;F<y.length;F++)Yf(d,y[F],E,C,j);else C=u(C)?!!C.capture:!!C,E=pe(E),d&&d[hn]?(d=d.i,y=String(y).toString(),y in d.g&&(F=d.g[y],E=Ue(F,E,C,j),-1<E&&(fe(F[E]),Array.prototype.splice.call(F,E,1),F.length==0&&(delete d.g[y],d.h--)))):d&&(d=nu(d))&&(y=d.g[y.toString()],d=-1,y&&(d=Ue(y,E,C,j)),(E=-1<d?y[d]:null)&&eu(E))}function eu(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[hn])$(y.i,d);else{var E=d.type,C=d.proxy;y.removeEventListener?y.removeEventListener(E,C,d.capture):y.detachEvent?y.detachEvent(tu(E),C):y.addListener&&y.removeListener&&y.removeListener(C),(E=nu(y))?($(E,d),E.h==0&&(E.src=null,y[Pe]=null)):fe(d)}}}function tu(d){return d in wt?wt[d]:wt[d]="on"+d}function Lg(d,y){if(d.da)d=!0;else{y=new be(y,this);var E=d.listener,C=d.ha||d.src;d.fa&&eu(d),d=E.call(C,y)}return d}function nu(d){return d=d[Pe],d instanceof de?d:null}var X="__closure_events_fn_"+(1e9*Math.random()>>>0);function pe(d){return typeof d=="function"?d:(d[X]||(d[X]=function(y){return d.handleEvent(y)}),d[X])}function J(){Q.call(this),this.i=new de(this),this.M=this,this.F=null}m(J,Q),J.prototype[hn]=!0,J.prototype.removeEventListener=function(d,y,E,C){Yf(this,d,y,E,C)};function ye(d,y){var E,C=d.F;if(C)for(E=[];C;C=C.F)E.push(C);if(d=d.M,C=y.type||y,typeof y=="string")y=new De(y,d);else if(y instanceof De)y.target=y.target||d;else{var j=y;y=new De(C,d),k(y,j)}if(j=!0,E)for(var F=E.length-1;0<=F;F--){var W=y.g=E[F];j=_t(W,C,!0,y)&&j}if(W=y.g=d,j=_t(W,C,!0,y)&&j,j=_t(W,C,!1,y)&&j,E)for(F=0;F<E.length;F++)W=y.g=E[F],j=_t(W,C,!1,y)&&j}J.prototype.N=function(){if(J.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var E=d.g[y],C=0;C<E.length;C++)fe(E[C]);delete d.g[y],d.h--}}this.F=null},J.prototype.K=function(d,y,E,C){return this.i.add(String(d),y,!1,E,C)},J.prototype.L=function(d,y,E,C){return this.i.add(String(d),y,!0,E,C)};function _t(d,y,E,C){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,F=0;F<y.length;++F){var W=y[F];if(W&&!W.da&&W.capture==E){var Ve=W.listener,Ut=W.ha||W.src;W.fa&&$(d.i,W),j=Ve.call(Ut,C)!==!1&&j}}return j&&!C.defaultPrevented}function $n(d,y,E){if(typeof d=="function")E&&(d=h(d,E));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(d,y||0)}function Qf(d){d.g=$n(()=>{d.g=null,d.i&&(d.i=!1,Qf(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Fg extends Q{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Qf(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ai(d){Q.call(this),this.h=d,this.g={}}m(ai,Q);var li=[];function Bg(d){O(d.g,function(y,E){this.g.hasOwnProperty(E)&&eu(y)},d),d.g={}}ai.prototype.N=function(){ai.aa.N.call(this),Bg(this)},ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xf=a.JSON.stringify,Or=a.JSON.parse,j$=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function $g(){}$g.prototype.h=null;function jE(d){return d.h||(d.h=d.i())}function VE(){}var ru={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zg(){De.call(this,"d")}m(zg,De);function Ug(){De.call(this,"c")}m(Ug,De);var Qo={},LE=null;function Jf(){return LE=LE||new J}Qo.La="serverreachability";function FE(d){De.call(this,Qo.La,d)}m(FE,De);function iu(d){const y=Jf();ye(y,new FE(y))}Qo.STAT_EVENT="statevent";function BE(d,y){De.call(this,Qo.STAT_EVENT,d),this.stat=y}m(BE,De);function mn(d){const y=Jf();ye(y,new BE(y,d))}Qo.Ma="timingevent";function $E(d,y){De.call(this,Qo.Ma,d),this.size=y}m($E,De);function ou(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},y)}function su(){this.g=!0}su.prototype.xa=function(){this.g=!1};function V$(d,y,E,C,j,F){d.info(function(){if(d.g)if(F)for(var W="",Ve=F.split("&"),Ut=0;Ut<Ve.length;Ut++){var Ie=Ve[Ut].split("=");if(1<Ie.length){var Zt=Ie[0];Ie=Ie[1];var en=Zt.split("_");W=2<=en.length&&en[1]=="type"?W+(Zt+"="+Ie+"&"):W+(Zt+"=redacted&")}}else W=null;else W=F;return"XMLHTTP REQ ("+C+") [attempt "+j+"]: "+y+`
`+E+`
`+W})}function L$(d,y,E,C,j,F,W){d.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+j+"]: "+y+`
`+E+`
`+F+" "+W})}function ca(d,y,E,C){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+B$(d,E)+(C?" "+C:"")})}function F$(d,y){d.info(function(){return"TIMEOUT: "+y})}su.prototype.info=function(){};function B$(d,y){if(!d.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var C=E[d];if(!(2>C.length)){var j=C[1];if(Array.isArray(j)&&!(1>j.length)){var F=j[0];if(F!="noop"&&F!="stop"&&F!="close")for(var W=1;W<j.length;W++)j[W]=""}}}}return Xf(E)}catch{return y}}var Zf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kg;function ed(){}m(ed,$g),ed.prototype.g=function(){return new XMLHttpRequest},ed.prototype.i=function(){return{}},Kg=new ed;function qi(d,y,E,C){this.j=d,this.i=y,this.l=E,this.R=C||1,this.U=new ai(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new UE}function UE(){this.i=null,this.g="",this.h=!1}var KE={},Wg={};function qg(d,y,E){d.L=1,d.v=id(ui(y)),d.m=E,d.P=!0,WE(d,null)}function WE(d,y){d.F=Date.now(),td(d),d.A=ui(d.v);var E=d.A,C=d.R;Array.isArray(C)||(C=[String(C)]),oT(E.i,"t",C),d.C=0,E=d.j.J,d.h=new UE,d.g=ET(d.j,E?y:null,!d.m),0<d.O&&(d.M=new Fg(h(d.Y,d,d.g),d.O)),y=d.U,E=d.g,C=d.ca;var j="readystatechange";Array.isArray(j)||(j&&(li[0]=j.toString()),j=li);for(var F=0;F<j.length;F++){var W=jt(E,j[F],C||y.handleEvent,!1,y.h||y);if(!W)break;y.g[W.key]=W}y=d.H?T(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),iu(),V$(d.i,d.u,d.A,d.l,d.R,d.m)}qi.prototype.ca=function(d){d=d.target;const y=this.M;y&&ci(d)==3?y.j():this.Y(d)},qi.prototype.Y=function(d){try{if(d==this.g)e:{const en=ci(this.g);var y=this.g.Ba();const ha=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||dT(this.g)))){this.J||en!=4||y==7||(y==8||0>=ha?iu(3):iu(2)),Gg(this);var E=this.g.Z();this.X=E;t:if(qE(this)){var C=dT(this.g);d="";var j=C.length,F=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xo(this),au(this);var W="";break t}this.h.i=new a.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,d+=this.h.i.decode(C[y],{stream:!(F&&y==j-1)});C.length=0,this.h.g+=d,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=E==200,L$(this.i,this.u,this.A,this.l,this.R,en,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Ut=this.g;if((Ve=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ve)){var Ie=Ve;break t}}Ie=null}if(E=Ie)ca(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hg(this,E);else{this.o=!1,this.s=3,mn(12),Xo(this),au(this);break e}}if(this.P){E=!0;let kr;for(;!this.J&&this.C<W.length;)if(kr=$$(this,W),kr==Wg){en==4&&(this.s=4,mn(14),E=!1),ca(this.i,this.l,null,"[Incomplete Response]");break}else if(kr==KE){this.s=4,mn(15),ca(this.i,this.l,W,"[Invalid Chunk]"),E=!1;break}else ca(this.i,this.l,kr,null),Hg(this,kr);if(qE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||W.length!=0||this.h.h||(this.s=1,mn(16),E=!1),this.o=this.o&&E,!E)ca(this.i,this.l,W,"[Invalid Chunked Response]"),Xo(this),au(this);else if(0<W.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),ey(Zt),Zt.M=!0,mn(11))}}else ca(this.i,this.l,W,null),Hg(this,W);en==4&&Xo(this),this.o&&!this.J&&(en==4?wT(this.j,this):(this.o=!1,td(this)))}else i4(this.g),E==400&&0<W.indexOf("Unknown SID")?(this.s=3,mn(12)):(this.s=0,mn(13)),Xo(this),au(this)}}}catch{}finally{}};function qE(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function $$(d,y){var E=d.C,C=y.indexOf(`
`,E);return C==-1?Wg:(E=Number(y.substring(E,C)),isNaN(E)?KE:(C+=1,C+E>y.length?Wg:(y=y.slice(C,C+E),d.C=C+E,y)))}qi.prototype.cancel=function(){this.J=!0,Xo(this)};function td(d){d.S=Date.now()+d.I,GE(d,d.I)}function GE(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=ou(h(d.ba,d),y)}function Gg(d){d.B&&(a.clearTimeout(d.B),d.B=null)}qi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(F$(this.i,this.A),this.L!=2&&(iu(),mn(17)),Xo(this),this.s=2,au(this)):GE(this,this.S-d)};function au(d){d.j.G==0||d.J||wT(d.j,d)}function Xo(d){Gg(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,Bg(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Hg(d,y){try{var E=d.j;if(E.G!=0&&(E.g==d||Yg(E.h,d))){if(!d.K&&Yg(E.h,d)&&E.G==3){try{var C=E.Da.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var j=C;if(j[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)cd(E),ld(E);else break e;Zg(E),mn(18)}}else E.za=j[1],0<E.za-E.T&&37500>j[2]&&E.F&&E.v==0&&!E.C&&(E.C=ou(h(E.Za,E),6e3));if(1>=QE(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Zo(E,11)}else if((d.K||E.g==d)&&cd(E),!w(y))for(j=E.Da.g.parse(y),y=0;y<j.length;y++){let Ie=j[y];if(E.T=Ie[0],Ie=Ie[1],E.G==2)if(Ie[0]=="c"){E.K=Ie[1],E.ia=Ie[2];const Zt=Ie[3];Zt!=null&&(E.la=Zt,E.j.info("VER="+E.la));const en=Ie[4];en!=null&&(E.Aa=en,E.j.info("SVER="+E.Aa));const ha=Ie[5];ha!=null&&typeof ha=="number"&&0<ha&&(C=1.5*ha,E.L=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const kr=d.g;if(kr){const dd=kr.g?kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dd){var F=C.h;F.g||dd.indexOf("spdy")==-1&&dd.indexOf("quic")==-1&&dd.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Qg(F,F.h),F.h=null))}if(C.D){const ty=kr.g?kr.g.getResponseHeader("X-HTTP-Session-Id"):null;ty&&(C.ya=ty,Ke(C.I,C.D,ty))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),C=E;var W=d;if(C.qa=xT(C,C.J?C.ia:null,C.W),W.K){XE(C.h,W);var Ve=W,Ut=C.L;Ut&&(Ve.I=Ut),Ve.B&&(Gg(Ve),td(Ve)),C.g=W}else yT(C);0<E.i.length&&ud(E)}else Ie[0]!="stop"&&Ie[0]!="close"||Zo(E,7);else E.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?Zo(E,7):Jg(E):Ie[0]!="noop"&&E.l&&E.l.ta(Ie),E.v=0)}}iu(4)}catch{}}var z$=class{constructor(d,y){this.g=d,this.map=y}};function HE(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function YE(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function QE(d){return d.h?1:d.g?d.g.size:0}function Yg(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Qg(d,y){d.g?d.g.add(y):d.h=y}function XE(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}HE.prototype.cancel=function(){if(this.i=JE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function JE(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const E of d.g.values())y=y.concat(E.D);return y}return g(d.i)}function U$(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var y=[],E=d.length,C=0;C<E;C++)y.push(d[C]);return y}y=[],E=0;for(C in d)y[E++]=d[C];return y}function K$(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var y=[];d=d.length;for(var E=0;E<d;E++)y.push(E);return y}y=[],E=0;for(const C in d)y[E++]=C;return y}}}function ZE(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var E=K$(d),C=U$(d),j=C.length,F=0;F<j;F++)y.call(void 0,C[F],E&&E[F],d)}var eT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function W$(d,y){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var C=d[E].indexOf("="),j=null;if(0<=C){var F=d[E].substring(0,C);j=d[E].substring(C+1)}else F=d[E];y(F,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Jo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Jo){this.h=d.h,nd(this,d.j),this.o=d.o,this.g=d.g,rd(this,d.s),this.l=d.l;var y=d.i,E=new cu;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),tT(this,E),this.m=d.m}else d&&(y=String(d).match(eT))?(this.h=!1,nd(this,y[1]||"",!0),this.o=lu(y[2]||""),this.g=lu(y[3]||"",!0),rd(this,y[4]),this.l=lu(y[5]||"",!0),tT(this,y[6]||"",!0),this.m=lu(y[7]||"")):(this.h=!1,this.i=new cu(null,this.h))}Jo.prototype.toString=function(){var d=[],y=this.j;y&&d.push(uu(y,nT,!0),":");var E=this.g;return(E||y=="file")&&(d.push("//"),(y=this.o)&&d.push(uu(y,nT,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(uu(E,E.charAt(0)=="/"?H$:G$,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",uu(E,Q$)),d.join("")};function ui(d){return new Jo(d)}function nd(d,y,E){d.j=E?lu(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function rd(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function tT(d,y,E){y instanceof cu?(d.i=y,X$(d.i,d.h)):(E||(y=uu(y,Y$)),d.i=new cu(y,d.h))}function Ke(d,y,E){d.i.set(y,E)}function id(d){return Ke(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function lu(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function uu(d,y,E){return typeof d=="string"?(d=encodeURI(d).replace(y,q$),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function q$(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var nT=/[#\/\?@]/g,G$=/[#\?:]/g,H$=/[#\?]/g,Y$=/[#\?@]/g,Q$=/#/g;function cu(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Gi(d){d.g||(d.g=new Map,d.h=0,d.i&&W$(d.i,function(y,E){d.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}t=cu.prototype,t.add=function(d,y){Gi(this),this.i=null,d=fa(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(y),this.h+=1,this};function rT(d,y){Gi(d),y=fa(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function iT(d,y){return Gi(d),y=fa(d,y),d.g.has(y)}t.forEach=function(d,y){Gi(this),this.g.forEach(function(E,C){E.forEach(function(j){d.call(y,j,C,this)},this)},this)},t.na=function(){Gi(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let C=0;C<y.length;C++){const j=d[C];for(let F=0;F<j.length;F++)E.push(y[C])}return E},t.V=function(d){Gi(this);let y=[];if(typeof d=="string")iT(this,d)&&(y=y.concat(this.g.get(fa(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)y=y.concat(d[E])}return y},t.set=function(d,y){return Gi(this),this.i=null,d=fa(this,d),iT(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function oT(d,y,E){rT(d,y),0<E.length&&(d.i=null,d.g.set(fa(d,y),g(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var C=y[E];const F=encodeURIComponent(String(C)),W=this.V(C);for(C=0;C<W.length;C++){var j=F;W[C]!==""&&(j+="="+encodeURIComponent(String(W[C]))),d.push(j)}}return this.i=d.join("&")};function fa(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function X$(d,y){y&&!d.j&&(Gi(d),d.i=null,d.g.forEach(function(E,C){var j=C.toLowerCase();C!=j&&(rT(this,C),oT(this,j,E))},d)),d.j=y}function J$(d,y){const E=new su;if(a.Image){const C=new Image;C.onload=p(Hi,E,"TestLoadImage: loaded",!0,y,C),C.onerror=p(Hi,E,"TestLoadImage: error",!1,y,C),C.onabort=p(Hi,E,"TestLoadImage: abort",!1,y,C),C.ontimeout=p(Hi,E,"TestLoadImage: timeout",!1,y,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=d}else y(!1)}function Z$(d,y){const E=new su,C=new AbortController,j=setTimeout(()=>{C.abort(),Hi(E,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:C.signal}).then(F=>{clearTimeout(j),F.ok?Hi(E,"TestPingServer: ok",!0,y):Hi(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Hi(E,"TestPingServer: error",!1,y)})}function Hi(d,y,E,C,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),C(E)}catch{}}function e4(){this.g=new j$}function t4(d,y,E){const C=E||"";try{ZE(d,function(j,F){let W=j;u(j)&&(W=Xf(j)),y.push(C+F+"="+encodeURIComponent(W))})}catch(j){throw y.push(C+"type="+encodeURIComponent("_badmap")),j}}function od(d){this.l=d.Ub||null,this.j=d.eb||!1}m(od,$g),od.prototype.g=function(){return new sd(this.l,this.j)},od.prototype.i=function(d){return function(){return d}}({});function sd(d,y){J.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(sd,J),t=sd.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,du(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fu(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,du(this)),this.g&&(this.readyState=3,du(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sT(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function sT(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?fu(this):du(this),this.readyState==3&&sT(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,fu(this))},t.Qa=function(d){this.g&&(this.response=d,fu(this))},t.ga=function(){this.g&&fu(this)};function fu(d){d.readyState=4,d.l=null,d.j=null,d.v=null,du(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=y.next();return d.join(`\r
`)};function du(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(sd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function aT(d){let y="";return O(d,function(E,C){y+=C,y+=":",y+=E,y+=`\r
`}),y}function Xg(d,y,E){e:{for(C in E){var C=!1;break e}C=!0}C||(E=aT(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Ke(d,y,E))}function ut(d){J.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(ut,J);var n4=/^https?$/i,r4=["POST","PUT"];t=ut.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kg.g(),this.v=this.o?jE(this.o):jE(Kg),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(F){lT(this,F);return}if(d=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var j in C)E.set(j,C[j]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const F of C.keys())E.set(F,C.get(F));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(F=>F.toLowerCase()=="content-type"),j=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(r4,y,void 0))||C||j||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,W]of E)this.g.setRequestHeader(F,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fT(this),this.u=!0,this.g.send(d),this.u=!1}catch(F){lT(this,F)}};function lT(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,uT(d),ad(d)}function uT(d){d.A||(d.A=!0,ye(d,"complete"),ye(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ye(this,"complete"),ye(this,"abort"),ad(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ad(this,!0)),ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?cT(this):this.bb())},t.bb=function(){cT(this)};function cT(d){if(d.h&&typeof s<"u"&&(!d.v[1]||ci(d)!=4||d.Z()!=2)){if(d.u&&ci(d)==4)$n(d.Ea,0,d);else if(ye(d,"readystatechange"),ci(d)==4){d.h=!1;try{const W=d.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var C;if(C=W===0){var j=String(d.D).match(eT)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),C=!n4.test(j?j.toLowerCase():"")}E=C}if(E)ye(d,"complete"),ye(d,"success");else{d.m=6;try{var F=2<ci(d)?d.g.statusText:""}catch{F=""}d.l=F+" ["+d.Z()+"]",uT(d)}}finally{ad(d)}}}}function ad(d,y){if(d.g){fT(d);const E=d.g,C=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||ye(d,"ready");try{E.onreadystatechange=C}catch{}}}function fT(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ci(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Or(y)}};function dT(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function i4(d){const y={};d=(d.g&&2<=ci(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<d.length;C++){if(w(d[C]))continue;var E=D(d[C]);const j=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const F=y[j]||[];y[j]=F,F.push(E)}A(y,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hu(d,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||y}function hT(d){this.Aa=0,this.i=[],this.j=new su,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hu("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hu("baseRetryDelayMs",5e3,d),this.cb=hu("retryDelaySeedMs",1e4,d),this.Wa=hu("forwardChannelMaxRetries",2,d),this.wa=hu("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new HE(d&&d.concurrentRequestLimit),this.Da=new e4,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=hT.prototype,t.la=8,t.G=1,t.connect=function(d,y,E,C){mn(0),this.W=d,this.H=y||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.I=xT(this,null,this.W),ud(this)};function Jg(d){if(pT(d),d.G==3){var y=d.U++,E=ui(d.I);if(Ke(E,"SID",d.K),Ke(E,"RID",y),Ke(E,"TYPE","terminate"),pu(d,E),y=new qi(d,d.j,y),y.L=2,y.v=id(ui(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=y.v,E=!0),E||(y.g=ET(y.j,null),y.g.ea(y.v)),y.F=Date.now(),td(y)}bT(d)}function ld(d){d.g&&(ey(d),d.g.cancel(),d.g=null)}function pT(d){ld(d),d.u&&(a.clearTimeout(d.u),d.u=null),cd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function ud(d){if(!YE(d.h)&&!d.s){d.s=!0;var y=d.Ga;le||ne(),z||(le(),z=!0),Y.add(y,d),d.B=0}}function o4(d,y){return QE(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=ou(h(d.Ga,d,y),_T(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const j=new qi(this,this.j,d);let F=this.o;if(this.S&&(F?(F=T(F),k(F,this.S)):F=this.S),this.m!==null||this.O||(j.H=F,F=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=gT(this,j,y),E=ui(this.I),Ke(E,"RID",d),Ke(E,"CVER",22),this.D&&Ke(E,"X-HTTP-Session-Id",this.D),pu(this,E),F&&(this.O?y="headers="+encodeURIComponent(String(aT(F)))+"&"+y:this.m&&Xg(E,this.m,F)),Qg(this.h,j),this.Ua&&Ke(E,"TYPE","init"),this.P?(Ke(E,"$req",y),Ke(E,"SID","null"),j.T=!0,qg(j,E,null)):qg(j,E,y),this.G=2}}else this.G==3&&(d?mT(this,d):this.i.length==0||YE(this.h)||mT(this))};function mT(d,y){var E;y?E=y.l:E=d.U++;const C=ui(d.I);Ke(C,"SID",d.K),Ke(C,"RID",E),Ke(C,"AID",d.T),pu(d,C),d.m&&d.o&&Xg(C,d.m,d.o),E=new qi(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),y&&(d.i=y.D.concat(d.i)),y=gT(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Qg(d.h,E),qg(E,C,y)}function pu(d,y){d.H&&O(d.H,function(E,C){Ke(y,C,E)}),d.l&&ZE({},function(E,C){Ke(y,C,E)})}function gT(d,y,E){E=Math.min(d.i.length,E);var C=d.l?h(d.l.Na,d.l,d):null;e:{var j=d.i;let F=-1;for(;;){const W=["count="+E];F==-1?0<E?(F=j[0].g,W.push("ofs="+F)):F=0:W.push("ofs="+F);let Ve=!0;for(let Ut=0;Ut<E;Ut++){let Ie=j[Ut].g;const Zt=j[Ut].map;if(Ie-=F,0>Ie)F=Math.max(0,j[Ut].g-100),Ve=!1;else try{t4(Zt,W,"req"+Ie+"_")}catch{C&&C(Zt)}}if(Ve){C=W.join("&");break e}}}return d=d.i.splice(0,E),y.D=d,C}function yT(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;le||ne(),z||(le(),z=!0),Y.add(y,d),d.v=0}}function Zg(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=ou(h(d.Fa,d),_T(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,vT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=ou(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mn(10),ld(this),vT(this))};function ey(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function vT(d){d.g=new qi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=ui(d.qa);Ke(y,"RID","rpc"),Ke(y,"SID",d.K),Ke(y,"AID",d.T),Ke(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ke(y,"TO",d.ja),Ke(y,"TYPE","xmlhttp"),pu(d,y),d.m&&d.o&&Xg(y,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=id(ui(y)),E.m=null,E.P=!0,WE(E,d)}t.Za=function(){this.C!=null&&(this.C=null,ld(this),Zg(this),mn(19))};function cd(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function wT(d,y){var E=null;if(d.g==y){cd(d),ey(d),d.g=null;var C=2}else if(Yg(d.h,y))E=y.D,XE(d.h,y),C=1;else return;if(d.G!=0){if(y.o)if(C==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var j=d.B;C=Jf(),ye(C,new $E(C,E)),ud(d)}else yT(d);else if(j=y.s,j==3||j==0&&0<y.X||!(C==1&&o4(d,y)||C==2&&Zg(d)))switch(E&&0<E.length&&(y=d.h,y.i=y.i.concat(E)),j){case 1:Zo(d,5);break;case 4:Zo(d,10);break;case 3:Zo(d,6);break;default:Zo(d,2)}}}function _T(d,y){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*y}function Zo(d,y){if(d.j.info("Error code "+y),y==2){var E=h(d.fb,d),C=d.Xa;const j=!C;C=new Jo(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||nd(C,"https"),id(C),j?J$(C.toString(),E):Z$(C.toString(),E)}else mn(2);d.G=0,d.l&&d.l.sa(y),bT(d),pT(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))};function bT(d){if(d.G=0,d.ka=[],d.l){const y=JE(d.h);(y.length!=0||d.i.length!=0)&&(_(d.ka,y),_(d.ka,d.i),d.h.i.length=0,g(d.i),d.i.length=0),d.l.ra()}}function xT(d,y,E){var C=E instanceof Jo?ui(E):new Jo(E);if(C.g!="")y&&(C.g=y+"."+C.g),rd(C,C.s);else{var j=a.location;C=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var F=new Jo(null);C&&nd(F,C),y&&(F.g=y),j&&rd(F,j),E&&(F.l=E),C=F}return E=d.D,y=d.ya,E&&y&&Ke(C,E,y),Ke(C,"VER",d.la),pu(d,C),C}function ET(d,y,E){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new ut(new od({eb:E})):new ut(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function TT(){}t=TT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fd(){}fd.prototype.g=function(d,y){return new zn(d,y)};function zn(d,y){J.call(this),this.g=new hT(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!w(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!w(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new da(this)}m(zn,J),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){Jg(this.g)},zn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Xf(d),d=E);y.i.push(new z$(y.Ya++,d)),y.G==3&&ud(y)},zn.prototype.N=function(){this.g.l=null,delete this.j,Jg(this.g),delete this.g,zn.aa.N.call(this)};function AT(d){zg.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const E in y){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}m(AT,zg);function ST(){Ug.call(this),this.status=1}m(ST,Ug);function da(d){this.g=d}m(da,TT),da.prototype.ua=function(){ye(this.g,"a")},da.prototype.ta=function(d){ye(this.g,new AT(d))},da.prototype.sa=function(d){ye(this.g,new ST)},da.prototype.ra=function(){ye(this.g,"b")},fd.prototype.createWebChannel=fd.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,BF=function(){return new fd},FF=function(){return Jf()},LF=Qo,Uw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zf.NO_ERROR=0,Zf.TIMEOUT=8,Zf.HTTP_ERROR=6,vh=Zf,zE.COMPLETE="complete",VF=zE,VE.EventType=ru,ru.OPEN="a",ru.CLOSE="b",ru.ERROR="c",ru.MESSAGE="d",J.prototype.listen=J.prototype.K,Ku=VE,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,jF=ut}).apply(typeof Hd<"u"?Hd:typeof self<"u"?self:typeof window<"u"?window:{});const JC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new CF("@firebase/firestore");function _a(){return Ks.logLevel}function U(t,...e){if(Ks.logLevel<=Ae.DEBUG){const n=e.map(Xx);Ks.debug(`Firestore (${Hl}): ${t}`,...n)}}function yn(t,...e){if(Ks.logLevel<=Ae.ERROR){const n=e.map(Xx);Ks.error(`Firestore (${Hl}): ${t}`,...n)}}function Ws(t,...e){if(Ks.logLevel<=Ae.WARN){const n=e.map(Xx);Ks.warn(`Firestore (${Hl}): ${t}`,...n)}}function Xx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${Hl}) INTERNAL ASSERTION FAILED: `+t;throw yn(e),new Error(e)}function oe(t,e){t||ie()}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Gl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $se{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class zse{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Use{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){oe(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new To;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new To,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new To)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(oe(typeof r.accessToken=="string"),new $F(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return oe(e===null||typeof e=="string"),new Ht(e)}}class Kse{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Wse{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Kse(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qse{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gse{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){oe(this.o===void 0);const r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(oe(typeof n.token=="string"),this.R=n.token,new qse(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hse(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Hse(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function bl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function UF(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new st(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ae(e)}static min(){return new ae(new st(0,0))}static max(){return new ae(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return nf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ke extends nf{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const Yse=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rt extends nf{construct(e,n,r){return new rt(e,n,r)}static isValidIdentifier(e){return Yse.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new q(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new q(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new q(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rt(n)}static emptyPath(){return new rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.path=e}static fromPath(e){return new H(ke.fromString(e))}static fromName(e){return new H(ke.fromString(e).popFirst(5))}static empty(){return new H(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new H(new ke(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Kw(t){return t.fields.find(e=>e.kind===2)}function us(t){return t.fields.filter(e=>e.kind!==2)}qp.UNKNOWN_ID=-1;class wh{constructor(e,n){this.fieldPath=e,this.kind=n}}class rf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new rf(0,nr.min())}}function Qse(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new nr(i,H.empty(),e)}function KF(t){return new nr(t.readTime,t.key,-1)}class nr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new nr(ae.min(),H.empty(),-1)}static max(){return new nr(ae.max(),H.empty(),-1)}}function Jx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==WF)throw t;U("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(i=>i?V.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new V((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new V((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new To,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new hc(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Zx(r.target.error);this.V.reject(new hc(e,i))}}static open(e,n,r,i){try{return new wg(n,e.transaction(i,r))}catch(o){throw new hc(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(U("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Jse(n)}}class Ao{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Ao.S(Up())===12.2&&yn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return U("SimpleDb","Removing database:",e),fs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!PF())return!1;if(Ao.v())return!0;const e=Up(),n=Ao.S(e),r=0<n&&n<10,i=GF(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(U("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new hc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new q(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new q(B.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new hc(e,s))},i.onupgradeneeded=o=>{U("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.O(s,i.transaction,o.oldVersion,this.version).next(()=>{U("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.M(e);const a=wg.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),V.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(U("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function GF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Xse{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return fs(this.B.delete())}}class hc extends q{constructor(e,n){super(B.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Go(t){return t.name==="IndexedDbTransactionError"}class Jse{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(U("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(U("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),fs(r)}add(e){return U("SimpleDb","ADD",this.store.name,e,e),fs(this.store.add(e))}get(e){return fs(this.store.get(e)).next(n=>(n===void 0&&(n=null),U("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return U("SimpleDb","DELETE",this.store.name,e),fs(this.store.delete(e))}count(){return U("SimpleDb","COUNT",this.store.name),fs(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new V((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.W(o,(a,l)=>{s.push(l)}).next(()=>s)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new V((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,n){U("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new V((r,i)=>{n.onerror=o=>{const s=Zx(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,n){const r=[];return new V((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new Xse(a),u=n(a.primaryKey,a.value,l);if(u instanceof V){const c=u.catch(f=>(l.done(),V.reject(f)));r.push(c)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>V.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function fs(t){return new V((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Zx(r.target.error);n(i)}})}let ZC=!1;function Zx(t){const e=Ao.S(Up());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new q("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ZC||(ZC=!0,setTimeout(()=>{throw r},0)),r}}return t}class Zse{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){U("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{U("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Go(n)?U("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await oa(n)}await this.X(6e4)})}}class eae{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,o=!0;return V.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return U("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>(U("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}re(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=KF(o);Jx(s,r)>0&&(r=s)}),new nr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}wr.oe=-1;function _g(t){return t==null}function of(t){return t===0&&1/t==-1/0}function tae(t){return typeof t=="number"&&Number.isInteger(t)&&!of(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=eO(e)),e=nae(t.get(n),e);return eO(e)}function nae(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function eO(t){return t+""}function Gr(t){const e=t.length;if(oe(e>=2),e===2)return oe(t.charAt(0)===""&&t.charAt(1)===""),ke.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("",o);switch((s<0||s>n)&&ie(),t.charAt(s+1)){case"":const a=t.substring(o,s);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:ie()}o=s+2}return new ke(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t,e){return[t,En(e)]}function HF(t,e,n){return[t,En(e),n]}const rae={},iae=["prefixPath","collectionGroup","readTime","documentId"],oae=["prefixPath","collectionGroup","documentId"],sae=["collectionGroup","readTime","prefixPath","documentId"],aae=["canonicalId","targetId"],lae=["targetId","path"],uae=["path","targetId"],cae=["collectionId","parent"],fae=["indexId","uid"],dae=["uid","sequenceNumber"],hae=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pae=["indexId","uid","orderedDocumentKey"],mae=["userId","collectionPath","documentId"],gae=["userId","collectionPath","largestBatchId"],yae=["userId","collectionGroup","largestBatchId"],YF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vae=[...YF,"documentOverlays"],QF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],XF=QF,eE=[...XF,"indexConfiguration","indexState","indexEntries"],wae=eE,_ae=[...eE,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww extends qF{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Nt(t,e){const n=ce(t);return Ao.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function sa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yd(this.root,e,this.comparator,!0)}}class Yd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=i??Yt.EMPTY,this.right=o??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Yt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rO(this.data.getIterator())}getIteratorFrom(e){return new rO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new je(this.comparator);return n.data=e,n}}class rO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ga(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(rt.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new je(rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ZF("Invalid base64 string: "+o):o}}(e);return new St(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const bae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vi(t){if(oe(!!t),typeof t=="string"){let e=0;const n=bae.exec(t);if(oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function No(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nE(t){const e=t.mapValue.fields.__previous_value__;return tE(e)?nE(e):e}function sf(t){const e=Vi(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xae{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class qs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new qs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof qs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bh={nullValue:"NULL_VALUE"};function Gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tE(t)?4:eB(t)?9007199254740991:bg(t)?10:11:ie()}function ii(t,e){if(t===e)return!0;const n=Gs(t);if(n!==Gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sf(t).isEqual(sf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Vi(i.timestampValue),a=Vi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return No(i.bytesValue).isEqual(No(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return He(i.geoPointValue.latitude)===He(o.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return He(i.integerValue)===He(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=He(i.doubleValue),a=He(o.doubleValue);return s===a?of(s)===of(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return bl(t.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(nO(s)!==nO(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ii(s[l],a[l])))return!1;return!0}(t,e);default:return ie()}}function af(t,e){return(t.values||[]).find(n=>ii(n,e))!==void 0}function jo(t,e){if(t===e)return 0;const n=Gs(t),r=Gs(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=He(o.integerValue||o.doubleValue),l=He(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return iO(t.timestampValue,e.timestampValue);case 4:return iO(sf(t),sf(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(o,s){const a=No(o),l=No(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=he(a[u],l[u]);if(c!==0)return c}return he(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=he(He(o.latitude),He(s.latitude));return a!==0?a:he(He(o.longitude),He(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return oO(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const f=o.fields||{},h=s.fields||{},p=(a=f.value)===null||a===void 0?void 0:a.arrayValue,m=(l=h.value)===null||l===void 0?void 0:l.arrayValue,g=he(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0);return g!==0?g:oO(p,m)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===co.mapValue&&s===co.mapValue)return 0;if(o===co.mapValue)return 1;if(s===co.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=he(l[f],c[f]);if(h!==0)return h;const p=jo(a[l[f]],u[c[f]]);if(p!==0)return p}return he(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ie()}}function iO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=Vi(t),r=Vi(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function oO(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=jo(n[i],r[i]);if(o)return o}return he(n.length,r.length)}function xl(t){return qw(t)}function qw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return No(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=qw(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${qw(n.fields[s])}`;return i+"}"}(t.mapValue):ie()}function lf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gw(t){return!!t&&"integerValue"in t}function uf(t){return!!t&&"arrayValue"in t}function sO(t){return!!t&&"nullValue"in t}function aO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xh(t){return!!t&&"mapValue"in t}function bg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function pc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return sa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function eB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const tB={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Eae(t){return"nullValue"in t?bh:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?lf(qs.empty(),H.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?bg(t)?tB:{mapValue:{}}:ie()}function Tae(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?lf(qs.empty(),H.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?tB:"mapValue"in t?bg(t)?{mapValue:{}}:co:ie()}function lO(t,e){const n=jo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function uO(t,e){const n=jo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pc(n)}setAll(e){let n=rt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=pc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());xh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){sa(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new un(pc(this.value))}}function nB(t){const e=[];return sa(t.fields,(n,r)=>{const i=new rt([n]);if(xh(r)){const o=nB(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new pt(e,0,ae.min(),ae.min(),ae.min(),un.empty(),0)}static newFoundDocument(e,n,r,i){return new pt(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new pt(e,2,n,ae.min(),ae.min(),un.empty(),0)}static newUnknownDocument(e,n){return new pt(e,3,n,ae.min(),ae.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n){this.position=e,this.inclusive=n}}function cO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(s.referenceValue),n.key):r=jo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function fO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ii(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n="asc"){this.field=e,this.dir=n}}function Aae(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{}class we extends rB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Sae(e,n,r):n==="array-contains"?new Cae(e,r):n==="in"?new uB(e,r):n==="not-in"?new Oae(e,r):n==="array-contains-any"?new kae(e,r):new we(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Pae(e,r):new Iae(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(jo(n,this.value)):n!==null&&Gs(this.value)===Gs(n)&&this.matchesComparison(jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Me extends rB{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Me(e,n)}matches(e){return Tl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Tl(t){return t.op==="and"}function Hw(t){return t.op==="or"}function rE(t){return iB(t)&&Tl(t)}function iB(t){for(const e of t.filters)if(e instanceof Me)return!1;return!0}function Yw(t){if(t instanceof we)return t.field.canonicalString()+t.op.toString()+xl(t.value);if(rE(t))return t.filters.map(e=>Yw(e)).join(",");{const e=t.filters.map(n=>Yw(n)).join(",");return`${t.op}(${e})`}}function oB(t,e){return t instanceof we?function(r,i){return i instanceof we&&r.op===i.op&&r.field.isEqual(i.field)&&ii(r.value,i.value)}(t,e):t instanceof Me?function(r,i){return i instanceof Me&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&oB(s,i.filters[a]),!0):!1}(t,e):void ie()}function sB(t,e){const n=t.filters.concat(e);return Me.create(n,t.op)}function aB(t){return t instanceof we?function(n){return`${n.field.canonicalString()} ${n.op} ${xl(n.value)}`}(t):t instanceof Me?function(n){return n.op.toString()+" {"+n.getFilters().map(aB).join(" ,")+"}"}(t):"Filter"}class Sae extends we{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){const n=H.comparator(e.key,this.key);return this.matchesComparison(n)}}class Pae extends we{constructor(e,n){super(e,"in",n),this.keys=lB("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Iae extends we{constructor(e,n){super(e,"not-in",n),this.keys=lB("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lB(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}class Cae extends we{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uf(n)&&af(n.arrayValue,this.value)}}class uB extends we{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&af(this.value.arrayValue,n)}}class Oae extends we{constructor(e,n){super(e,"not-in",n)}matches(e){if(af(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!af(this.value.arrayValue,n)}}class kae extends we{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>af(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dae{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function Qw(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Dae(t,e,n,r,i,o,s)}function Hs(t){const e=ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),_g(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xl(r)).join(",")),e.ue=n}return e.ue}function Bf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Aae(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fO(t.startAt,e.startAt)&&fO(t.endAt,e.endAt)}function Gp(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Hp(t,e){return t.filters.filter(n=>n instanceof we&&n.field.isEqual(e))}function dO(t,e,n){let r=bh,i=!0;for(const o of Hp(t,e)){let s=bh,a=!0;switch(o.op){case"<":case"<=":s=Eae(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=bh}lO({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];lO({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function hO(t,e,n){let r=co,i=!0;for(const o of Hp(t,e)){let s=co,a=!0;switch(o.op){case">=":case">":s=Tae(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=co}uO({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];uO({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Rae(t,e,n,r,i,o,s,a){return new Yl(t,e,n,r,i,o,s,a)}function xg(t){return new Yl(t)}function pO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cB(t){return t.collectionGroup!==null}function mc(t){const e=ce(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new je(rt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new cf(o,r))}),n.has(rt.keyField().canonicalString())||e.ce.push(new cf(rt.keyField(),r))}return e.ce}function xr(t){const e=ce(t);return e.le||(e.le=Mae(e,mc(t))),e.le}function Mae(t,e){if(t.limitType==="F")return Qw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new cf(i.field,o)});const n=t.endAt?new El(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new El(t.startAt.position,t.startAt.inclusive):null;return Qw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xw(t,e){const n=t.filters.concat([e]);return new Yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jw(t,e,n){return new Yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Eg(t,e){return Bf(xr(t),xr(e))&&t.limitType===e.limitType}function fB(t){return`${Hs(xr(t))}|lt:${t.limitType}`}function ba(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>aB(i)).join(", ")}]`),_g(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>xl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>xl(i)).join(",")),`Target(${r})`}(xr(t))}; limitType=${t.limitType})`}function $f(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of mc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=cO(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,mc(r),i)||r.endAt&&!function(s,a,l){const u=cO(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,mc(r),i))}(t,e)}function Nae(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dB(t){return(e,n)=>{let r=!1;for(const i of mc(t)){const o=jae(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function jae(t,e,n){const r=t.field.isKeyField()?H.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?jo(l,u):ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){sa(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return JF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vae=new Ze(H.comparator);function Qn(){return Vae}const hB=new Ze(H.comparator);function Wu(...t){let e=hB;for(const n of t)e=e.insert(n.key,n);return e}function pB(t){let e=hB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hr(){return gc()}function mB(){return gc()}function gc(){return new Ho(t=>t.toString(),(t,e)=>t.isEqual(e))}const Lae=new Ze(H.comparator),Fae=new je(H.comparator);function ge(...t){let e=Fae;for(const n of t)e=e.add(n);return e}const Bae=new je(he);function $ae(){return Bae}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:of(e)?"-0":e}}function gB(t){return{integerValue:""+t}}function zae(t,e){return tae(e)?gB(e):iE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this._=void 0}}function Uae(t,e,n){return t instanceof Al?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&tE(o)&&(o=nE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Sl?vB(t,e):t instanceof Pl?wB(t,e):function(i,o){const s=yB(i,o),a=mO(s)+mO(i.Pe);return Gw(s)&&Gw(i.Pe)?gB(a):iE(i.serializer,a)}(t,e)}function Kae(t,e,n){return t instanceof Sl?vB(t,e):t instanceof Pl?wB(t,e):n}function yB(t,e){return t instanceof ff?function(r){return Gw(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Al extends Tg{}class Sl extends Tg{constructor(e){super(),this.elements=e}}function vB(t,e){const n=_B(e);for(const r of t.elements)n.some(i=>ii(i,r))||n.push(r);return{arrayValue:{values:n}}}class Pl extends Tg{constructor(e){super(),this.elements=e}}function wB(t,e){let n=_B(e);for(const r of t.elements)n=n.filter(i=>!ii(i,r));return{arrayValue:{values:n}}}class ff extends Tg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function mO(t){return He(t.integerValue||t.doubleValue)}function _B(t){return uf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e,n){this.field=e,this.transform=n}}function Wae(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Sl&&i instanceof Sl||r instanceof Pl&&i instanceof Pl?bl(r.elements,i.elements,ii):r instanceof ff&&i instanceof ff?ii(r.Pe,i.Pe):r instanceof Al&&i instanceof Al}(t.transform,e.transform)}class qae{constructor(e,n){this.version=e,this.transformResults=n}}class _n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ag{}function xB(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sg(t.key,_n.none()):new Ql(t.key,t.data,_n.none());{const n=t.data,r=un.empty();let i=new je(rt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Wi(t.key,r,new Mn(i.toArray()),_n.none())}}function Gae(t,e,n){t instanceof Ql?function(i,o,s){const a=i.value.clone(),l=yO(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Wi?function(i,o,s){if(!Eh(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=yO(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(EB(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function yc(t,e,n,r){return t instanceof Ql?function(o,s,a,l){if(!Eh(o.precondition,s))return a;const u=o.value.clone(),c=vO(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wi?function(o,s,a,l){if(!Eh(o.precondition,s))return a;const u=vO(o.fieldTransforms,l,s),c=s.data;return c.setAll(EB(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Eh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Hae(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=yB(r.transform,i||null);o!=null&&(n===null&&(n=un.empty()),n.set(r.field,o))}return n||null}function gO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&bl(r,i,(o,s)=>Wae(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ql extends Ag{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Wi extends Ag{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function EB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yO(t,e,n){const r=new Map;oe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Kae(s,a,n[i]))}return r}function vO(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Uae(o,s,e))}return r}class Sg extends Ag{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TB extends Ag{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Gae(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mB();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=xB(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,(n,r)=>gO(n,r))&&bl(this.baseMutations,e.baseMutations,(n,r)=>gO(n,r))}}class sE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){oe(e.mutations.length===r.length);let i=function(){return Lae}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new sE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yae{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Te;function Qae(t){switch(t){default:return ie();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function AB(t){if(t===void 0)return yn("GRPC error has no .code"),B.UNKNOWN;switch(t){case bt.OK:return B.OK;case bt.CANCELLED:return B.CANCELLED;case bt.UNKNOWN:return B.UNKNOWN;case bt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case bt.INTERNAL:return B.INTERNAL;case bt.UNAVAILABLE:return B.UNAVAILABLE;case bt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case bt.NOT_FOUND:return B.NOT_FOUND;case bt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case bt.ABORTED:return B.ABORTED;case bt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case bt.DATA_LOSS:return B.DATA_LOSS;default:return ie()}}(Te=bt||(bt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xae(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jae=new Ms([4294967295,4294967295],0);function wO(t){const e=Xae().encode(t),n=new NF;return n.update(e),new Uint8Array(n.digest())}function _O(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ms([n,r],0),new Ms([i,o],0)]}class lE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qu(`Invalid padding: ${n}`);if(r<0)throw new qu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ms.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ms.fromNumber(r)));return i.compare(Jae)===1&&(i=new Ms([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=wO(e),[r,i]=_O(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new lE(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=wO(e),[r,i]=_O(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pg(ae.min(),i,new Ze(he),Qn(),ge())}}class zf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zf(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class SB{constructor(e,n){this.targetId=e,this.me=n}}class PB{constructor(e,n,r=St.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class bO{constructor(){this.fe=0,this.ge=EO(),this.pe=St.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ge(),n=ge(),r=ge();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new zf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=EO()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,oe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Zae{constructor(e){this.Le=e,this.Be=new Map,this.ke=Qn(),this.qe=xO(),this.Qe=new Ze(he)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Gp(o))if(r===0){const s=new H(o.path);this.Ue(n,s,pt.newNoDocument(s,ae.min()))}else oe(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=No(r).toUint8Array()}catch(l){if(l instanceof ZF)return Ws("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new lE(s,i,o)}catch(l){return Ws(l instanceof qu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Gp(a.target)){const l=new H(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,pt.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ge();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Pg(e,n,this.Qe,this.ke,r);return this.ke=Qn(),this.qe=xO(),this.Qe=new Ze(he),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new bO,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new je(he),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new bO),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function xO(){return new Ze(H.comparator)}function EO(){return new Ze(H.comparator)}const ele=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),tle=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),nle=(()=>({and:"AND",or:"OR"}))();class rle{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zw(t,e){return t.useProto3Json||_g(e)?e:{value:e}}function Il(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ile(t,e){return Il(t,e.toTimestamp())}function Tn(t){return oe(!!t),ae.fromTimestamp(function(n){const r=Vi(n);return new st(r.seconds,r.nanos)}(t))}function uE(t,e){return e1(t,e).canonicalString()}function e1(t,e){const n=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function CB(t){const e=ke.fromString(t);return oe(LB(e)),e}function Yp(t,e){return uE(t.databaseId,e.path)}function Ns(t,e){const n=CB(e);if(n.get(1)!==t.databaseId.projectId)throw new q(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(DB(n))}function OB(t,e){return uE(t.databaseId,e)}function kB(t){const e=CB(t);return e.length===4?ke.emptyPath():DB(e)}function t1(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DB(t){return oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function TO(t,e,n){return{name:Yp(t,e),fields:n.value.mapValue.fields}}function ole(t,e,n){const r=Ns(t,e.name),i=Tn(e.updateTime),o=e.createTime?Tn(e.createTime):ae.min(),s=new un({mapValue:{fields:e.fields}}),a=pt.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function sle(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(oe(c===void 0||typeof c=="string"),St.fromBase64String(c||"")):(oe(c===void 0||c instanceof Buffer||c instanceof Uint8Array),St.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?B.UNKNOWN:AB(u.code);return new q(c,u.message||"")}(s);n=new PB(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ns(t,r.document.name),o=Tn(r.document.updateTime),s=r.document.createTime?Tn(r.document.createTime):ae.min(),a=new un({mapValue:{fields:r.document.fields}}),l=pt.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Th(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ns(t,r.document),o=r.readTime?Tn(r.readTime):ae.min(),s=pt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Th([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ns(t,r.document),o=r.removedTargetIds||[];n=new Th([],o,i,null)}else{if(!("filter"in e))return ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new Yae(i,o),a=r.targetId;n=new SB(a,s)}}return n}function Qp(t,e){let n;if(e instanceof Ql)n={update:TO(t,e.key,e.value)};else if(e instanceof Sg)n={delete:Yp(t,e.key)};else if(e instanceof Wi)n={update:TO(t,e.key,e.data),updateMask:dle(e.fieldMask)};else{if(!(e instanceof TB))return ie();n={verify:Yp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Al)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Sl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Pl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ff)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:ile(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ie()}(t,e.precondition)),n}function n1(t,e){const n=e.currentDocument?function(o){return o.updateTime!==void 0?_n.updateTime(Tn(o.updateTime)):o.exists!==void 0?_n.exists(o.exists):_n.none()}(e.currentDocument):_n.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let l=null;if("setToServerValue"in a)oe(a.setToServerValue==="REQUEST_TIME"),l=new Al;else if("appendMissingElements"in a){const c=a.appendMissingElements.values||[];l=new Sl(c)}else if("removeAllFromArray"in a){const c=a.removeAllFromArray.values||[];l=new Pl(c)}else"increment"in a?l=new ff(s,a.increment):ie();const u=rt.fromServerFormat(a.fieldPath);return new bB(u,l)}(t,i)):[];if(e.update){e.update.name;const i=Ns(t,e.update.name),o=new un({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(l){const u=l.fieldPaths||[];return new Mn(u.map(c=>rt.fromServerFormat(c)))}(e.updateMask);return new Wi(i,o,s,n,r)}return new Ql(i,o,n,r)}if(e.delete){const i=Ns(t,e.delete);return new Sg(i,n)}if(e.verify){const i=Ns(t,e.verify);return new TB(i,n)}return ie()}function ale(t,e){return t&&t.length>0?(oe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Tn(i.updateTime):Tn(o);return s.isEqual(ae.min())&&(s=Tn(o)),new qae(s,i.transformResults||[])}(n,e))):[]}function RB(t,e){return{documents:[OB(t,e.path)]}}function MB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=OB(t,i);const o=function(u){if(u.length!==0)return VB(Me.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:xa(h.field),direction:ule(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Zw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function NB(t){let e=kB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){oe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const h=jB(f);return h instanceof Me&&rE(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(m){return new cf(Ea(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,_g(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new El(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new El(p,h)}(n.endAt)),Rae(e,i,s,o,a,"F",l,u)}function lle(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jB(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ea(n.unaryFilter.field);return we.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ea(n.unaryFilter.field);return we.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ea(n.unaryFilter.field);return we.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ea(n.unaryFilter.field);return we.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(n){return we.create(Ea(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Me.create(n.compositeFilter.filters.map(r=>jB(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie()}}(n.compositeFilter.op))}(t):ie()}function ule(t){return ele[t]}function cle(t){return tle[t]}function fle(t){return nle[t]}function xa(t){return{fieldPath:t.canonicalString()}}function Ea(t){return rt.fromServerFormat(t.fieldPath)}function VB(t){return t instanceof we?function(n){if(n.op==="=="){if(aO(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NAN"}};if(sO(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aO(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NOT_NAN"}};if(sO(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(n.field),op:cle(n.op),value:n.value}}}(t):t instanceof Me?function(n){const r=n.getFilters().map(i=>VB(i));return r.length===1?r[0]:{compositeFilter:{op:fle(n.op),filters:r}}}(t):ie()}function dle(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function LB(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n,r,i,o=ae.min(),s=ae.min(),a=St.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e){this.ct=e}}function hle(t,e){let n;if(e.document)n=ole(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=H.fromSegments(e.noDocument.path),i=Qs(e.noDocument.readTime);n=pt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ie();{const r=H.fromSegments(e.unknownDocument.path),i=Qs(e.unknownDocument.version);n=pt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new st(i[0],i[1]);return ae.fromTimestamp(o)}(e.readTime)),n}function AO(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Xp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,s){return{name:Yp(o,s.key),fields:s.data.value.mapValue.fields,updateTime:Il(o,s.version.toTimestamp()),createTime:Il(o,s.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ys(e.version)};else{if(!e.isUnknownDocument())return ie();r.unknownDocument={path:n.path.toArray(),version:Ys(e.version)}}return r}function Xp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ys(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Qs(t){const e=new st(t.seconds,t.nanoseconds);return ae.fromTimestamp(e)}function ds(t,e){const n=(e.baseMutations||[]).map(o=>n1(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){const s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>n1(t.ct,o)),i=st.fromMillis(e.localWriteTimeMs);return new oE(e.batchId,i,n,r)}function Gu(t){const e=Qs(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Qs(t.lastLimboFreeSnapshotVersion):ae.min();let r;return r=function(o){return o.documents!==void 0}(t.query)?function(o){return oe(o.documents.length===1),xr(xg(kB(o.documents[0])))}(t.query):function(o){return xr(NB(o))}(t.query),new wi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,St.fromBase64String(t.resumeToken))}function BB(t,e){const n=Ys(e.snapshotVersion),r=Ys(e.lastLimboFreeSnapshotVersion);let i;i=Gp(e.target)?RB(t.ct,e.target):MB(t.ct,e.target)._t;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Hs(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function $B(t){const e=NB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jw(e,e.limit,"L"):e}function Tv(t,e){return new aE(e.largestBatchId,n1(t.ct,e.overlayMutation))}function SO(t,e){const n=e.path.lastSegment();return[t,En(e.path.popLast()),n]}function PO(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Ys(r.readTime),documentKey:En(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ple{getBundleMetadata(e,n){return IO(e).get(n).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Qs(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,n){return IO(e).put(function(i){return{bundleId:i.id,createTime:Ys(Tn(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return CO(e).get(n).next(r=>{if(r)return function(o){return{name:o.name,query:$B(o.bundledQuery),readTime:Qs(o.readTime)}}(r)})}saveNamedQuery(e,n){return CO(e).put(function(i){return{name:i.name,readTime:Ys(Tn(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function IO(t){return Nt(t,"bundles")}function CO(t){return Nt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Ig(e,r)}getOverlay(e,n){return Du(e).get(SO(this.userId,n)).next(r=>r?Tv(this.serializer,r):null)}getOverlays(e,n){const r=Hr();return V.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new aE(n,s);i.push(this.ht(e,a))}),V.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(En(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Du(e).j("collectionPathOverlayIndex",a))}),V.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Hr(),o=En(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Du(e).U("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const u=Tv(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=Hr();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Du(e).J({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const f=Tv(this.serializer,u);o.size()<i||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):c.done()}).next(()=>o)}ht(e,n){return Du(e).put(function(i,o,s){const[a,l,u]=SO(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Qp(i.ct,s.mutation)}}(this.serializer,this.userId,n))}}function Du(t){return Nt(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mle{Pt(e){return Nt(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?St.fromUint8Array(r):St.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(He(e.integerValue));else if("doubleValue"in e){const r=He(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),of(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Vi(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(No(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?eB(e)?this.dt(n,Number.MAX_SAFE_INTEGER):bg(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ie()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const o=e.fields||{};this.dt(n,53);const s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(He(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),H.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}hs.vt=new hs;function gle(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function OO(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=gle(255&r[o]);if(i+=s,s!==8)break}return i}(t);return Math.ceil(e/8)}class yle{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=OO(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=OO(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class vle{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class wle{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Ru{constructor(){this.jt=new yle,this.Ht=new vle(this.jt),this.Jt=new wle(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new ps(this.indexId,this.documentKey,this.arrayValue,r)}}function Ji(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=kO(t.arrayValue,e.arrayValue),n!==0?n:(n=kO(t.directionalValue,e.directionalValue),n!==0?n:H.comparator(t.documentKey,e.documentKey)))}function kO(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.Xt=new je((n,r)=>rt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(oe(e.collectionGroup===this.collectionId),this.nn)return!1;const n=Kw(e);if(n!==void 0&&!this.sn(n))return!1;const r=us(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.sn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[o];if(!this.on(a,l)||!this._n(this.en[s++],l))return!1}++o}for(;o<r.length;++o){const a=r[o];if(s>=this.en.length||!this._n(this.en[s++],a))return!1}return!0}an(){if(this.nn)return null;let e=new je(rt.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new wh(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new wh(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new wh(r.field,r.dir==="asc"?0:1)));return new qp(qp.UNKNOWN_ID,this.collectionId,n,rf.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zB(t){var e,n;if(oe(t instanceof we||t instanceof Me),t instanceof we){if(t instanceof uB){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>we.create(t.field,"==",o)))||[];return Me.create(i,"or")}return t}const r=t.filters.map(i=>zB(i));return Me.create(r,t.op)}function _le(t){if(t.getFilters().length===0)return[];const e=o1(zB(t));return oe(UB(e)),r1(e)||i1(e)?[e]:e.getFilters()}function r1(t){return t instanceof we}function i1(t){return t instanceof Me&&rE(t)}function UB(t){return r1(t)||i1(t)||function(n){if(n instanceof Me&&Hw(n)){for(const r of n.getFilters())if(!r1(r)&&!i1(r))return!1;return!0}return!1}(t)}function o1(t){if(oe(t instanceof we||t instanceof Me),t instanceof we)return t;if(t.filters.length===1)return o1(t.filters[0]);const e=t.filters.map(r=>o1(r));let n=Me.create(e,t.op);return n=Jp(n),UB(n)?n:(oe(n instanceof Me),oe(Tl(n)),oe(n.filters.length>1),n.filters.reduce((r,i)=>cE(r,i)))}function cE(t,e){let n;return oe(t instanceof we||t instanceof Me),oe(e instanceof we||e instanceof Me),n=t instanceof we?e instanceof we?function(i,o){return Me.create([i,o],"and")}(t,e):RO(t,e):e instanceof we?RO(e,t):function(i,o){if(oe(i.filters.length>0&&o.filters.length>0),Tl(i)&&Tl(o))return sB(i,o.getFilters());const s=Hw(i)?i:o,a=Hw(i)?o:i,l=s.filters.map(u=>cE(u,a));return Me.create(l,"or")}(t,e),Jp(n)}function RO(t,e){if(Tl(e))return sB(e,t.getFilters());{const n=e.filters.map(r=>cE(t,r));return Me.create(n,"or")}}function Jp(t){if(oe(t instanceof we||t instanceof Me),t instanceof we)return t;const e=t.getFilters();if(e.length===1)return Jp(e[0]);if(iB(t))return t;const n=e.map(i=>Jp(i)),r=[];return n.forEach(i=>{i instanceof we?r.push(i):i instanceof Me&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Me.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ble{constructor(){this.un=new fE}addToCollectionParentIndex(e,n){return this.un.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(nr.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(nr.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class fE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new je(ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new je(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=new Uint8Array(0);class xle{constructor(e,n){this.databaseId=n,this.cn=new fE,this.ln=new Ho(r=>Hs(r),(r,i)=>Bf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const o={collectionId:r,parent:En(i)};return MO(e).put(o)}return V.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[UF(n),""],!1,!0);return MO(e).U(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(Gr(s.parent))}return r})}addFieldIndex(e,n){const r=Mu(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const o=r.add(i);if(n.indexState){const s=va(e);return o.next(a=>{s.put(PO(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=Mu(e),i=va(e),o=ya(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Mu(e),r=ya(e),i=va(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return V.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new DO(r).an();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=ya(e);let i=!0;const o=new Map;return V.forEach(this.hn(n),s=>this.Pn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=ge();const a=[];return V.forEach(o,(l,u)=>{U("IndexedDbIndexManager",`Using index ${function(x){return`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(P=>`${P.fieldPath}:${P.kind}`).join(",")}`}(l)} to execute ${Hs(n)}`);const c=function(x,P){const S=Kw(P);if(S===void 0)return null;for(const O of Hp(x,S.fieldPath))switch(O.op){case"array-contains-any":return O.value.arrayValue.values||[];case"array-contains":return[O.value]}return null}(u,l),f=function(x,P){const S=new Map;for(const O of us(P))for(const A of Hp(x,O.fieldPath))switch(A.op){case"==":case"in":S.set(O.fieldPath.canonicalString(),A.value);break;case"not-in":case"!=":return S.set(O.fieldPath.canonicalString(),A.value),Array.from(S.values())}return null}(u,l),h=function(x,P){const S=[];let O=!0;for(const A of us(P)){const T=A.kind===0?dO(x,A.fieldPath,x.startAt):hO(x,A.fieldPath,x.startAt);S.push(T.value),O&&(O=T.inclusive)}return new El(S,O)}(u,l),p=function(x,P){const S=[];let O=!0;for(const A of us(P)){const T=A.kind===0?hO(x,A.fieldPath,x.endAt):dO(x,A.fieldPath,x.endAt);S.push(T.value),O&&(O=T.inclusive)}return new El(S,O)}(u,l),m=this.In(l,u,h),g=this.In(l,u,p),_=this.Tn(l,u,f),v=this.En(l.indexId,c,m,h.inclusive,g,p.inclusive,_);return V.forEach(v,w=>r.G(w,n.limit).next(x=>{x.forEach(P=>{const S=H.fromSegments(P.documentKey);s.has(S)||(s=s.add(S),a.push(S))})}))}).next(()=>a)}return V.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=_le(Me.create(e.filters,"and")).map(r=>Qw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,o,s,a){const l=(n!=null?n.length:1)*Math.max(r.length,o.length),u=l/(n!=null?n.length:1),c=[];for(let f=0;f<l;++f){const h=n?this.dn(n[f/u]):Qd,p=this.An(e,h,r[f%u],i),m=this.Rn(e,h,o[f%u],s),g=a.map(_=>this.An(e,h,_,!0));c.push(...this.createRange(p,m,g))}return c}An(e,n,r,i){const o=new ps(e,H.empty(),n,r);return i?o:o.Zt()}Rn(e,n,r,i){const o=new ps(e,H.empty(),n,r);return i?o.Zt():o}Pn(e,n){const r=new DO(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.rn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.hn(n);return V.forEach(i,o=>this.Pn(e,o).next(s=>{s?r!==0&&s.fields.length<function(l){let u=new je(rt.comparator),c=!1;for(const f of l.filters)for(const h of f.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?c=!0:u=u.add(h.field));for(const f of l.orderBy)f.field.isKeyField()||(u=u.add(f.field));return u.size+(c?1:0)}(o)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new Ru;for(const i of us(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const s=r.Yt(i.kind);hs.vt.It(o,s)}return r.zt()}dn(e){const n=new Ru;return hs.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new Ru;return hs.vt.It(lf(this.databaseId,n),r.Yt(function(o){const s=us(o);return s.length===0?0:s[s.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new Ru);let o=0;for(const s of us(e)){const a=r[o++];for(const l of i)if(this.fn(n,s.fieldPath)&&uf(a))i=this.gn(i,s,a);else{const u=l.Yt(s.kind);hs.vt.It(a,u)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const l=new Ru;l.seed(a.zt()),hs.vt.It(s,l.Yt(n.kind)),o.push(l)}return o}fn(e,n){return!!e.filters.find(r=>r instanceof we&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Mu(e),i=va(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(o=>{const s=[];return V.forEach(o,a=>i.get([a.indexId,this.uid]).next(l=>{s.push(function(c,f){const h=f?new rf(f.sequenceNumber,new nr(Qs(f.readTime),new H(Gr(f.documentKey)),f.largestBatchId)):rf.empty(),p=c.fields.map(([m,g])=>new wh(rt.fromServerFormat(m),g));return new qp(c.indexId,c.collectionGroup,p,h)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:he(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Mu(e),o=va(e);return this.yn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>V.forEach(a,l=>o.put(PO(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return V.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?V.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),V.forEach(a,l=>this.wn(e,i,l).next(u=>{const c=this.Sn(o,l);return u.isEqual(c)?V.resolve():this.bn(e,o,l,u,c)}))))})}Dn(e,n,r,i){return ya(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return ya(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=ya(e);let o=new je(Ji);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(s,a)=>{o=o.add(new ps(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}Sn(e,n){let r=new je(Ji);const i=this.Vn(n,e);if(i==null)return r;const o=Kw(n);if(o!=null){const s=e.data.field(o.fieldPath);if(uf(s))for(const a of s.arrayValue.values||[])r=r.add(new ps(n.indexId,e.key,this.dn(a),i))}else r=r.add(new ps(n.indexId,e.key,Qd,i));return r}bn(e,n,r,i,o){U("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(l,u,c,f,h){const p=l.getIterator(),m=u.getIterator();let g=ga(p),_=ga(m);for(;g||_;){let v=!1,w=!1;if(g&&_){const x=c(g,_);x<0?w=!0:x>0&&(v=!0)}else g!=null?w=!0:v=!0;v?(f(_),_=ga(m)):w?(h(g),g=ga(p)):(g=ga(p),_=ga(m))}}(i,o,Ji,a=>{s.push(this.Dn(e,n,r,a))},a=>{s.push(this.vn(e,n,r,a))}),V.waitFor(s)}yn(e){let n=1;return va(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>Ji(s,a)).filter((s,a,l)=>!a||Ji(s,l[a-1])!==0);const i=[];i.push(e);for(const s of r){const a=Ji(s,e),l=Ji(s,n);if(a===0)i[0]=e.Zt();else if(a>0&&l<0)i.push(s),i.push(s.Zt());else if(l>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.Cn(i[s],i[s+1]))return[];const a=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,Qd,[]],l=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,Qd,[]];o.push(IDBKeyRange.bound(a,l))}return o}Cn(e,n){return Ji(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(NO)}getMinOffset(e,n){return V.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||ie())).next(NO)}}function MO(t){return Nt(t,"collectionParents")}function ya(t){return Nt(t,"indexEntries")}function Mu(t){return Nt(t,"indexConfiguration")}function va(t){return Nt(t,"indexState")}function NO(t){oe(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Jx(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new nr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Cn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KB(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:s},(c,f,h)=>(a++,h.delete()));o.push(l.next(()=>{oe(a===1)}));const u=[];for(const c of n.mutations){const f=HF(e,c.key.path,n.batchId);o.push(i.delete(f)),u.push(c.key)}return V.waitFor(o).next(()=>u)}function Zp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ie();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(41943040,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);class Cg{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){oe(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new Cg(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zi(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=Ta(e),s=Zi(e);return s.add({}).next(a=>{oe(typeof a=="number");const l=new oE(a,n,r,i),u=function(p,m,g){const _=g.baseMutations.map(w=>Qp(p.ct,w)),v=g.mutations.map(w=>Qp(p.ct,w));return{userId:m,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:_,mutations:v}}(this.serializer,this.userId,l),c=[];let f=new je((h,p)=>he(h.canonicalString(),p.canonicalString()));for(const h of i){const p=HF(this.userId,h.key.path,a);f=f.add(h.key.path.popLast()),c.push(s.put(u)),c.push(o.put(p,rae))}return f.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),V.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return Zi(e).get(n).next(r=>r?(oe(r.userId===this.userId),ds(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?V.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Zi(e).J({index:"userMutationsIndex",range:i},(s,a,l)=>{a.userId===this.userId&&(oe(a.batchId>=r),o=ds(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Zi(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zi(e).U("userMutationsIndex",n).next(r=>r.map(i=>ds(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=_h(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return Ta(e).J({range:i},(s,a,l)=>{const[u,c,f]=s,h=Gr(c);if(u===this.userId&&n.path.isEqual(h))return Zi(e).get(f).next(p=>{if(!p)throw ie();oe(p.userId===this.userId),o.push(ds(this.serializer,p))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new je(he);const i=[];return n.forEach(o=>{const s=_h(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=Ta(e).J({range:a},(u,c,f)=>{const[h,p,m]=u,g=Gr(p);h===this.userId&&o.path.isEqual(g)?r=r.add(m):f.done()});i.push(l)}),V.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=_h(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new je(he);return Ta(e).J({range:s},(l,u,c)=>{const[f,h,p]=l,m=Gr(h);f===this.userId&&r.isPrefixOf(m)?m.length===i&&(a=a.add(p)):c.done()}).next(()=>this.xn(e,a))}xn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(Zi(e).get(o).next(s=>{if(s===null)throw ie();oe(s.userId===this.userId),r.push(ds(this.serializer,s))}))}),V.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return KB(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),V.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return V.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return Ta(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){const l=Gr(o[1]);i.push(l)}else a.done()}).next(()=>{oe(i.length===0)})})}containsKey(e,n){return WB(e,this.userId,n)}Nn(e){return qB(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function WB(t,e,n){const r=_h(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Ta(t).J({range:o,H:!0},(a,l,u)=>{const[c,f,h]=a;c===e&&f===i&&(s=!0),u.done()}).next(()=>s)}function Zi(t){return Nt(t,"mutations")}function Ta(t){return Nt(t,"documentMutations")}function qB(t){return Nt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Xs(0)}static kn(){return new Xs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ele{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new Xs(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>ae.fromTimestamp(new st(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>wa(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(oe(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return wa(e).J((s,a)=>{const l=Gu(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>V.waitFor(o)).next(()=>i)}forEachTarget(e,n){return wa(e).J((r,i)=>{const o=Gu(i);n(o)})}qn(e){return VO(e).get("targetGlobalKey").next(n=>(oe(n!==null),n))}Qn(e,n){return VO(e).put("targetGlobalKey",n)}Kn(e,n){return wa(e).put(BB(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Hs(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return wa(e).J({range:i,index:"queryTargetsIndex"},(s,a,l)=>{const u=Gu(a);Bf(n,u.target)&&(o=u,l.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=ao(e);return n.forEach(s=>{const a=En(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),V.waitFor(i)}removeMatchingKeys(e,n,r){const i=ao(e);return V.forEach(n,o=>{const s=En(o.path);return V.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=ao(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ao(e);let o=ge();return i.J({range:r,H:!0},(s,a,l)=>{const u=Gr(s[1]),c=new H(u);o=o.add(c)}).next(()=>o)}containsKey(e,n){const r=En(n.path),i=IDBKeyRange.bound([r],[UF(r)],!1,!0);let o=0;return ao(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],l,u)=>{s!==0&&(o++,u.done())}).next(()=>o>0)}ot(e,n){return wa(e).get(n).next(r=>r?Gu(r):null)}}function wa(t){return Nt(t,"targets")}function VO(t){return Nt(t,"targetGlobal")}function ao(t){return Nt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO([t,e],[n,r]){const i=he(t,n);return i===0?he(e,r):i}class Tle{constructor(e){this.Un=e,this.buffer=new je(LO),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();LO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ale{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){U("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Go(n)?U("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await oa(n)}await this.Hn(3e5)})}}class Sle{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return V.resolve(wr.oe);const r=new Tle(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(jO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jO):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,o,s,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),_a()<=Ae.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function Ple(t,e){return new Sle(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ile{constructor(e,n){this.db=e,this.garbageCollector=Ple(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return Xd(e,r)}removeReference(e,n,r){return Xd(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Xd(e,n)}nr(e,n){return function(i,o){let s=!1;return qB(i).Y(a=>WB(i,a,o).next(l=>(l&&(s=!0),V.resolve(!l)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.tr(e,(s,a)=>{if(a<=n){const l=this.nr(e,s).next(u=>{if(!u)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,ae.min()),ao(e).delete(function(f){return[0,En(f.path)]}(s))))});i.push(l)}}).next(()=>V.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Xd(e,n)}tr(e,n){const r=ao(e);let i,o=wr.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:u})=>{s===0?(o!==wr.oe&&n(new H(Gr(i)),o),o=u,i=l):o=wr.oe}).next(()=>{o!==wr.oe&&n(new H(Gr(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Xd(t,e){return ao(t).put(function(r,i){return{targetId:0,path:En(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(){this.changes=new Ho(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cle{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return ts(e).put(r)}removeEntry(e,n,r){return ts(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Xp(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=pt.newInvalidDocument(n);return ts(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Nu(n))},(i,o)=>{r=this.ir(n,o)}).next(()=>r)}sr(e,n){let r={size:0,document:pt.newInvalidDocument(n)};return ts(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Nu(n))},(i,o)=>{r={document:this.ir(n,o),size:Zp(o)}}).next(()=>r)}getEntries(e,n){let r=Qn();return this._r(e,n,(i,o)=>{const s=this.ir(i,o);r=r.insert(i,s)}).next(()=>r)}ar(e,n){let r=Qn(),i=new Ze(H.comparator);return this._r(e,n,(o,s)=>{const a=this.ir(o,s);r=r.insert(o,a),i=i.insert(o,Zp(s))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return V.resolve();let i=new je($O);n.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(Nu(i.first()),Nu(i.last())),s=i.getIterator();let a=s.getNext();return ts(e).J({index:"documentKeyIndex",range:o},(l,u,c)=>{const f=H.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&$O(a,f)<0;)r(a,null),a=s.getNext();a&&a.isEqual(f)&&(r(a,u),a=s.hasNext()?s.getNext():null),a?c.$(Nu(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),Xp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ts(e).U(IDBKeyRange.bound(a,l,!0)).next(u=>{o==null||o.incrementDocumentReadCount(u.length);let c=Qn();for(const f of u){const h=this.ir(H.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);h.isFoundDocument()&&($f(n,h)||i.has(h.key))&&(c=c.insert(h.key,h))}return c})}getAllFromCollectionGroup(e,n,r,i){let o=Qn();const s=BO(n,r),a=BO(n,nr.max());return ts(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,u,c)=>{const f=this.ir(H.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(f.key,f),o.size===i&&c.done()}).next(()=>o)}newChangeBuffer(e){return new Ole(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return FO(e).get("remoteDocumentGlobalKey").next(n=>(oe(!!n),n))}rr(e,n){return FO(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=hle(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ae.min())))return r}return pt.newInvalidDocument(e)}}function HB(t){return new Cle(t)}class Ole extends GB{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new Ho(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new je((o,s)=>he(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.lr.get(o);if(n.push(this.cr.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=AO(this.cr.serializer,s);i=i.add(o.path.popLast());const u=Zp(l);r+=u-a.size,n.push(this.cr.addEntry(e,o,l))}else if(r-=a.size,this.trackRemovals){const l=AO(this.cr.serializer,s.convertToNoDocument(ae.min()));n.push(this.cr.addEntry(e,o,l))}}),i.forEach(o=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.cr.updateMetadata(e,r)),V.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((o,s)=>{this.lr.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function FO(t){return Nt(t,"remoteDocumentGlobal")}function ts(t){return Nt(t,"remoteDocumentsV14")}function Nu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function BO(t,e){const n=e.documentKey.path.toArray();return[t,Xp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function $O(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=he(n[o],r[o]),i)return i;return i=he(n.length,r.length),i||(i=he(n[n.length-2],r[r.length-2]),i||he(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yc(r.mutation,i,Mn.empty(),st.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const i=Hr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Wu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Hr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Qn();const s=gc(),a=function(){return gc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Wi)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),yc(c.mutation,u,c.mutation.getFieldMask(),st.now())):s.set(u.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new kle(c,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=gc();let i=new Ze((s,a)=>s-a),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Mn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||ge()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=mB();c.forEach(h=>{if(!o.has(h)){const p=xB(n.get(h),r.get(h));p!==null&&f.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return H.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):V.resolve(Hr());let a=-1,l=o;return s.next(u=>V.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?V.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,ge())).next(c=>({batchId:a,changes:pB(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=Wu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Wu();return this.indexManager.getCollectionParents(e,o).next(a=>V.forEach(a,l=>{const u=function(f,h){return new Yl(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,pt.newInvalidDocument(c)))});let a=Wu();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&yc(c.mutation,u,Mn.empty(),st.now()),$f(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dle{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return V.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Tn(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:$B(i.bundledQuery),readTime:Tn(i.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rle{constructor(){this.overlays=new Ze(H.comparator),this.Ir=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hr();return V.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const i=Hr(),o=n.length+1,s=new H(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ze((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Hr(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Hr(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return V.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new aE(n,r));let o=this.Ir.get(n);o===void 0&&(o=ge(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mle{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.Tr=new je(Lt.Er),this.dr=new je(Lt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Lt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Lt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new H(new ke([])),r=new Lt(n,e),i=new Lt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new H(new ke([])),r=new Lt(n,e),i=new Lt(n,e+1);let o=ge();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Lt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return H.comparator(e.key,n.key)||he(e.wr,n.wr)}static Ar(e,n){return he(e.wr,n.wr)||H.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new je(Lt.Er)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new oE(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Lt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,n){return V.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Lt(n,0),i=new Lt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new je(he);return n.forEach(i=>{const o=new Lt(i,0),s=new Lt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),V.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;H.isDocumentKey(o)||(o=o.child(""));const s=new Lt(new H(o),0);let a=new je(he);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),V.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){oe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return V.forEach(n.mutations,i=>{const o=new Lt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Lt(n,0),i=this.br.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jle{constructor(e){this.Mr=e,this.docs=function(){return new Ze(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():pt.newInvalidDocument(n))}getEntries(e,n){let r=Qn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():pt.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Qn();const s=n.path,a=new H(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Jx(KF(c),r)<=0||(i.has(c.key)||$f(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ie()}Or(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Vle(this)}getSize(e){return V.resolve(this.size)}}class Vle extends GB{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lle{constructor(e){this.persistence=e,this.Nr=new Ho(n=>Hs(n),Bf),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new dE,this.targetCount=0,this.kr=Xs.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),V.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Xs(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.Kn(n),V.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e,n){this.qr={},this.overlays={},this.Qr=new wr(0),this.Kr=!1,this.Kr=!0,this.$r=new Mle,this.referenceDelegate=e(this),this.Ur=new Lle(this),this.indexManager=new ble,this.remoteDocumentCache=function(i){return new jle(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new FB(n),this.Gr=new Dle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Rle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Nle(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);const i=new Fle(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return V.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Fle extends qF{constructor(e){super(),this.currentSequenceNumber=e}}class Og{constructor(e){this.persistence=e,this.Jr=new dE,this.Yr=null}static Zr(e){return new Og(e)}get Xr(){if(this.Yr)return this.Yr;throw ie()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),V.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Xr,r=>{const i=H.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return V.or([()=>V.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ble{constructor(e){this.serializer=e}O(e,n,r,i){const o=new wg("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tO,{unique:!0}),l.createObjectStore("documentMutations")}(e),zO(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=V.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),zO(e)),s=s.next(()=>function(l){const u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ae.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(l,u){return u.store("mutations").U().next(c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tO,{unique:!0});const f=u.store("mutations"),h=c.map(p=>f.put(p));return V.waitFor(h)})}(e,o))),s=s.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.ni(o))),r<6&&i>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(o)))),r<7&&i>=7&&(s=s.next(()=>this.ii(o))),r<8&&i>=8&&(s=s.next(()=>this.si(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.oi(o))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:mae});u.createIndex("collectionPathOverlayIndex",gae,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",yae,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:iae});u.createIndex("documentKeyIndex",oae),u.createIndex("collectionGroupIndex",sae)}(e)).next(()=>this._i(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.ai(e,o))),r<15&&i>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:fae}).createIndex("sequenceNumberIndex",dae,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:hae}).createIndex("documentKeyIndex",pae,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(s=s.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),s}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=Zp(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>V.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>V.forEach(a,l=>{oe(l.userId===o.userId);const u=ds(this.serializer,l);return KB(e,o.userId,u).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((s,a)=>{const l=new ke(s),u=function(f){return[0,En(f)]}(l);o.push(n.get(u).next(c=>c?V.resolve():(f=>n.put({targetId:0,path:En(f),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>V.waitFor(o))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:cae});const r=n.store("collectionParents"),i=new fE,o=s=>{if(i.add(s)){const a=s.lastSegment(),l=s.popLast();return r.put({collectionId:a,parent:En(l)})}};return n.store("remoteDocuments").J({H:!0},(s,a)=>{const l=new ke(s);return o(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([s,a,l],u)=>{const c=Gr(a);return o(c.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const o=Gu(i),s=BB(this.serializer,o);return n.put(s)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((o,s)=>{const a=n.store("remoteDocumentsV14"),l=function(f){return f.document?new H(ke.fromString(f.document.name).popFirst(5)):f.noDocument?H.fromSegments(f.noDocument.path):f.unknownDocument?H.fromSegments(f.unknownDocument.path):ie()}(s).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(u))}).next(()=>V.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=HB(this.serializer),o=new QB(Og.Zr,this.serializer.ct);return r.U().next(s=>{const a=new Map;return s.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:ge();ds(this.serializer,l).keys().forEach(f=>c=c.add(f)),a.set(l.userId,c)}),V.forEach(a,(l,u)=>{const c=new Ht(u),f=Ig.lt(this.serializer,c),h=o.getIndexManager(c),p=Cg.lt(c,this.serializer,h,o.referenceDelegate);return new YB(i,p,f,h).recalculateAndSaveOverlaysForDocumentKeys(new Ww(n,wr.oe),l).next()})})}}function zO(t){t.createObjectStore("targetDocuments",{keyPath:lae}).createIndex("documentTargetsIndex",uae,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",aae,{unique:!0}),t.createObjectStore("targetGlobal")}const Av="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class hE{constructor(e,n,r,i,o,s,a,l,u,c,f=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=o,this.window=s,this.document=a,this.ci=u,this.li=c,this.hi=f,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=h=>Promise.resolve(),!hE.D())throw new q(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ile(this,i),this.Ai=n+"main",this.serializer=new FB(l),this.Ri=new Ao(this.Ai,this.hi,new Ble(this.serializer)),this.$r=new mle,this.Ur=new Ele(this.referenceDelegate,this.serializer),this.remoteDocumentCache=HB(this.serializer),this.Gr=new ple,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,c===!1&&yn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new q(B.FAILED_PRECONDITION,Av);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new wr(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Jd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(Go(e))return U("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return U("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return ju(e).get("owner").next(n=>V.resolve(this.vi(n)))}Ci(e){return Jd(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Nt(n,"clientMetadata");return r.U().next(i=>{const o=this.xi(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return V.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?V.resolve(!0):ju(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new q(B.FAILED_PRECONDITION,Av);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jd(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&U("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Ww(e,wr.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Jd(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return Cg.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new xle(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Ig.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){U("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=function(l){return l===17?_ae:l===16?wae:l===15?eE:l===14?XF:l===13?QF:l===12?vae:l===11?YF:void ie()}(this.hi);let s;return this.Ri.runTransaction(e,i,o,a=>(s=new Ww(a,this.Qr?this.Qr.next():wr.oe),n==="readwrite-primary"?this.wi(s).next(l=>!!l||this.Si(s)).next(l=>{if(!l)throw yn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new q(B.FAILED_PRECONDITION,WF);return r(s)}).next(l=>this.Di(s).next(()=>l)):this.Ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ki(e){return ju(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new q(B.FAILED_PRECONDITION,Av)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ju(e).put("owner",n)}static D(){return Ao.D()}bi(e){const n=ju(e);return n.get("owner").next(r=>this.vi(r)?(U("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):V.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(yn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;SF()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return U("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return yn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){yn("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ju(t){return Nt(t,"owner")}function Jd(t){return Nt(t,"clientMetadata")}function $le(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ge(),i=ge();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new pE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zle{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return SF()?8:GF(Up())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new zle;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(_a()<=Ae.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",ba(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),V.resolve()):(_a()<=Ae.DEBUG&&U("QueryEngine","Query:",ba(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(_a()<=Ae.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",ba(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(n))):V.resolve())}Yi(e,n){if(pO(n))return V.resolve(null);let r=xr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Jw(n,null,"F"),r=xr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ge(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,Jw(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return pO(n)||i.isEqual(ae.min())?V.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?V.resolve(null):(_a()<=Ae.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ba(n)),this.rs(e,s,n,Qse(i,-1)).next(a=>a))})}ts(e,n){let r=new je(dB(e));return n.forEach((i,o)=>{$f(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return _a()<=Ae.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",ba(n)),this.Ji.getDocumentsMatchingQuery(e,n,nr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ule{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ze(he),this._s=new Ho(o=>Hs(o),Bf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YB(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function JB(t,e,n,r){return new Ule(t,e,n,r)}async function ZB(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ge();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function Kle(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,h=f.keys();let p=V.resolve();return h.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(g=>{const _=u.docVersions.get(m);oe(_!==null),g.version.compareTo(_)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ge();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function e$(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Wle(t,e){const n=ce(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,f)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(St.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(g,_,v){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,p,c)&&a.push(n.Ur.updateTargetData(o,p))});let l=Qn(),u=ge();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(qle(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(ae.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return V.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function qle(t,e,n){let r=ge(),i=ge();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Qn();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function Gle(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Hle(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,V.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new wi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function s1(t,e,n){const r=ce(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Go(s))throw s;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function UO(t,e,n){const r=ce(t);let i=ae.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=ce(l),h=f._s.get(c);return h!==void 0?V.resolve(f.os.get(h)):f.Ur.getTargetData(u,c)}(r,s,xr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ae.min(),n?o:ge())).next(a=>(Yle(r,Nae(e),a),{documents:a,Ts:o})))}function Yle(t,e,n){let r=t.us.get(e)||ae.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class KO{constructor(){this.activeTargetIds=$ae()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t${constructor(){this.so=new KO,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new KO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qle{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zd=null;function Sv(){return Zd===null?Zd=function(){return 268435456+Math.round(2147483648*Math.random())}():Zd++,"0x"+Zd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jle{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class Zle extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=Sv(),l=this.xo(n,r.toUriEncodedString());U("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(c=>(U("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ws("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=Xle[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Sv();return new Promise((s,a)=>{const l=new jF;l.setWithCredentials(!0),l.listenOnce(VF.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case vh.NO_ERROR:const c=l.getResponseJson();U(rn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case vh.TIMEOUT:U(rn,`RPC '${e}' ${o} timed out`),a(new q(B.DEADLINE_EXCEEDED,"Request time out"));break;case vh.HTTP_ERROR:const f=l.getStatus();if(U(rn,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(v)>=0?v:B.UNKNOWN}(p.status);a(new q(m,p.message))}else a(new q(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(B.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{U(rn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);U(rn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Sv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=BF(),a=FF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");U(rn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);let h=!1,p=!1;const m=new Jle({Io:_=>{p?U(rn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(U(rn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),U(rn,`RPC '${e}' stream ${i} sending:`,_),f.send(_))},To:()=>f.close()}),g=(_,v,w)=>{_.listen(v,x=>{try{w(x)}catch(P){setTimeout(()=>{throw P},0)}})};return g(f,Ku.EventType.OPEN,()=>{p||(U(rn,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),g(f,Ku.EventType.CLOSE,()=>{p||(p=!0,U(rn,`RPC '${e}' stream ${i} transport closed`),m.So())}),g(f,Ku.EventType.ERROR,_=>{p||(p=!0,Ws(rn,`RPC '${e}' stream ${i} transport errored:`,_),m.So(new q(B.UNAVAILABLE,"The operation could not be completed")))}),g(f,Ku.EventType.MESSAGE,_=>{var v;if(!p){const w=_.data[0];oe(!!w);const x=w,P=x.error||((v=x[0])===null||v===void 0?void 0:v.error);if(P){U(rn,`RPC '${e}' stream ${i} received error:`,P);const S=P.status;let O=function(I){const k=bt[I];if(k!==void 0)return AB(k)}(S),A=P.message;O===void 0&&(O=B.INTERNAL,A="Unknown error status: "+S+" with message "+P.message),p=!0,m.So(new q(O,A)),f.close()}else U(rn,`RPC '${e}' stream ${i} received:`,w),m.bo(w)}}),g(a,LF.STAT_EVENT,_=>{_.stat===Uw.PROXY?U(rn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Uw.NOPROXY&&U(rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eue(){return typeof window<"u"?window:null}function Ah(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t){return new rle(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new n$(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(yn(n.toString()),yn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new q(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tue extends r${constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=sle(this.serializer,e),r=function(o){if(!("targetChange"in o))return ae.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?Tn(s.readTime):ae.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=t1(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Gp(l)?{documents:RB(o,l)}:{query:MB(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=IB(o,s.resumeToken);const u=Zw(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ae.min())>0){a.readTime=Il(o,s.snapshotVersion.toTimestamp());const u=Zw(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=lle(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=t1(this.serializer),n.removeTarget=e,this.a_(n)}}class nue extends r${constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return oe(!!e.streamToken),this.lastStreamToken=e.streamToken,oe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=ale(e.writeResults,e.commitTime),r=Tn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=t1(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Qp(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rue extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new q(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,e1(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(B.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,e1(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(B.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class iue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(yn(n),this.D_=!1):U("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oue{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{aa(this)&&(U("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ce(l);u.L_.add(4),await Uf(u),u.q_.set("Unknown"),u.L_.delete(4),await Dg(u)}(this))})}),this.q_=new iue(r,i)}}async function Dg(t){if(aa(t))for(const e of t.B_)await e(!0)}async function Uf(t){for(const e of t.B_)await e(!1)}function i$(t,e){const n=ce(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),vE(n)?yE(n):Xl(n).r_()&&gE(n,e))}function mE(t,e){const n=ce(t),r=Xl(n);n.N_.delete(e),r.r_()&&o$(n,e),n.N_.size===0&&(r.r_()?r.o_():aa(n)&&n.q_.set("Unknown"))}function gE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xl(t).A_(e)}function o$(t,e){t.Q_.xe(e),Xl(t).R_(e)}function yE(t){t.Q_=new Zae({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Xl(t).start(),t.q_.v_()}function vE(t){return aa(t)&&!Xl(t).n_()&&t.N_.size>0}function aa(t){return ce(t).L_.size===0}function s$(t){t.Q_=void 0}async function sue(t){t.q_.set("Online")}async function aue(t){t.N_.forEach((e,n)=>{gE(t,e)})}async function lue(t,e){s$(t),vE(t)?(t.q_.M_(e),yE(t)):t.q_.set("Unknown")}async function uue(t,e,n){if(t.q_.set("Online"),e instanceof PB&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await em(t,r)}else if(e instanceof Th?t.Q_.Ke(e):e instanceof SB?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ae.min()))try{const r=await e$(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(St.EMPTY_BYTE_STRING,c.snapshotVersion)),o$(o,l);const f=new wi(c.target,l,u,c.sequenceNumber);gE(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){U("RemoteStore","Failed to raise snapshot:",r),await em(t,r)}}async function em(t,e,n){if(!Go(e))throw e;t.L_.add(1),await Uf(t),t.q_.set("Offline"),n||(n=()=>e$(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{U("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Dg(t)})}function a$(t,e){return e().catch(n=>em(t,n,e))}async function Kf(t){const e=ce(t),n=Vo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;cue(e);)try{const i=await Gle(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,fue(e,i)}catch(i){await em(e,i)}l$(e)&&u$(e)}function cue(t){return aa(t)&&t.O_.length<10}function fue(t,e){t.O_.push(e);const n=Vo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function l$(t){return aa(t)&&!Vo(t).n_()&&t.O_.length>0}function u$(t){Vo(t).start()}async function due(t){Vo(t).p_()}async function hue(t){const e=Vo(t);for(const n of t.O_)e.m_(n.mutations)}async function pue(t,e,n){const r=t.O_.shift(),i=sE.from(r,e,n);await a$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Kf(t)}async function mue(t,e){e&&Vo(t).V_&&await async function(r,i){if(function(s){return Qae(s)&&s!==B.ABORTED}(i.code)){const o=r.O_.shift();Vo(r).s_(),await a$(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Kf(r)}}(t,e),l$(t)&&u$(t)}async function qO(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const r=aa(n);n.L_.add(3),await Uf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Dg(n)}async function gue(t,e){const n=ce(t);e?(n.L_.delete(2),await Dg(n)):e||(n.L_.add(2),await Uf(n),n.q_.set("Unknown"))}function Xl(t){return t.K_||(t.K_=function(n,r,i){const o=ce(n);return o.w_(),new tue(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:sue.bind(null,t),Ro:aue.bind(null,t),mo:lue.bind(null,t),d_:uue.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),vE(t)?yE(t):t.q_.set("Unknown")):(await t.K_.stop(),s$(t))})),t.K_}function Vo(t){return t.U_||(t.U_=function(n,r,i){const o=ce(n);return o.w_(),new nue(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:due.bind(null,t),mo:mue.bind(null,t),f_:hue.bind(null,t),g_:pue.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Kf(t)):(await t.U_.stop(),t.O_.length>0&&(U("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new To,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new wE(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _E(t,e){if(yn("AsyncQueue",`${e}: ${t}`),Go(t))return new q(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=Wu(),this.sortedSet=new Ze(this.comparator)}static emptySet(e){return new tl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new tl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.W_=new Ze(H.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ie():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Cl{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Cl(e,n,tl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yue{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class vue{constructor(){this.queries=HO(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ce(n),o=i.queries;i.queries=HO(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new q(B.ABORTED,"Firestore shutting down"))}}function HO(){return new Ho(t=>fB(t),Eg)}async function wue(t,e){const n=ce(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new yue,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=_E(s,`Initialization of query '${ba(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&bE(n)}async function _ue(t,e){const n=ce(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bue(t,e){const n=ce(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&bE(n)}function xue(t,e,n){const r=ce(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function bE(t){t.Y_.forEach(e=>{e.next()})}var a1,YO;(YO=a1||(a1={})).ea="default",YO.Cache="cache";class Eue{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Cl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==a1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e){this.key=e}}class f${constructor(e){this.key=e}}class Tue{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ge(),this.mutatedKeys=ge(),this.Aa=dB(e),this.Ra=new tl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new GO,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),p=$f(this.query,f)?f:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let _=!1;h&&p?h.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),_=!0):this.ga(h,p)||(r.track({type:2,doc:p}),_=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),_=!0):h&&!p&&(r.track({type:1,doc:h}),_=!0,(l||u)&&(a=!0)),_&&(p?(s=s.add(p),o=g?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,f)=>function(p,m){const g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return g(p)-g(m)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new Cl(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new GO,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ge(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new f$(r))}),this.da.forEach(r=>{e.has(r)||n.push(new c$(r))}),n}ba(e){this.Ta=e.Ts,this.da=ge();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Cl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Aue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Sue{constructor(e){this.key=e,this.va=!1}}class Pue{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ho(a=>fB(a),Eg),this.Ma=new Map,this.xa=new Set,this.Oa=new Ze(H.comparator),this.Na=new Map,this.La=new dE,this.Ba={},this.ka=new Map,this.qa=Xs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Iue(t,e,n=!0){const r=y$(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await d$(r,e,n,!0),i}async function Cue(t,e){const n=y$(t);await d$(n,e,!0,!1)}async function d$(t,e,n,r){const i=await Hle(t.localStore,xr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Oue(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&i$(t.remoteStore,i),a}async function Oue(t,e,n,r,i){t.Ka=(f,h,p)=>async function(g,_,v,w){let x=_.view.ma(v);x.ns&&(x=await UO(g.localStore,_.query,!1).then(({documents:A})=>_.view.ma(A,x)));const P=w&&w.targetChanges.get(_.targetId),S=w&&w.targetMismatches.get(_.targetId)!=null,O=_.view.applyChanges(x,g.isPrimaryClient,P,S);return XO(g,_.targetId,O.wa),O.snapshot}(t,f,h,p);const o=await UO(t.localStore,e,!0),s=new Tue(e,o.Ts),a=s.ma(o.documents),l=zf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);XO(t,n,u.wa);const c=new Aue(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function kue(t,e,n){const r=ce(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Eg(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await s1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&mE(r.remoteStore,i.targetId),l1(r,i.targetId)}).catch(oa)):(l1(r,i.targetId),await s1(r.localStore,i.targetId,!0))}async function Due(t,e){const n=ce(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mE(n.remoteStore,r.targetId))}async function Rue(t,e,n){const r=v$(t);try{const i=await function(s,a){const l=ce(s),u=st.now(),c=a.reduce((p,m)=>p.add(m.key),ge());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Qn(),g=ge();return l.cs.getEntries(p,c).next(_=>{m=_,m.forEach((v,w)=>{w.isValidDocument()||(g=g.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(_=>{f=_;const v=[];for(const w of a){const x=Hae(w,f.get(w.key).overlayedDocument);x!=null&&v.push(new Wi(w.key,x,nB(x.value.mapValue),_n.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,v,a)}).next(_=>{h=_;const v=_.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,_.batchId,v)})}).then(()=>({batchId:h.batchId,changes:pB(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new Ze(he)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await Wf(r,i.changes),await Kf(r.remoteStore)}catch(i){const o=_E(i,"Failed to persist write");n.reject(o)}}async function h$(t,e){const n=ce(t);try{const r=await Wle(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?oe(s.va):i.removedDocuments.size>0&&(oe(s.va),s.va=!1))}),await Wf(n,r,e)}catch(r){await oa(r)}}function QO(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=ce(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.j_)h.Z_(a)&&(u=!0)}),u&&bE(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Mue(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new Ze(H.comparator);s=s.insert(o,pt.newNoDocument(o,ae.min()));const a=ge().add(o),l=new Pg(ae.min(),new Map,new Ze(he),s,a);await h$(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),xE(r)}else await s1(r.localStore,e,!1).then(()=>l1(r,e,n)).catch(oa)}async function Nue(t,e){const n=ce(t),r=e.batch.batchId;try{const i=await Kle(n.localStore,e);m$(n,r,null),p$(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wf(n,i)}catch(i){await oa(i)}}async function jue(t,e,n){const r=ce(t);try{const i=await function(s,a){const l=ce(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(oe(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);m$(r,e,n),p$(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wf(r,i)}catch(i){await oa(i)}}function p$(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function m$(t,e,n){const r=ce(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function l1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||g$(t,r)})}function g$(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(mE(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),xE(t))}function XO(t,e,n){for(const r of n)r instanceof c$?(t.La.addReference(r.key,e),Vue(t,r)):r instanceof f$?(U("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||g$(t,r.key)):ie()}function Vue(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(U("SyncEngine","New document in limbo: "+n),t.xa.add(r),xE(t))}function xE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new H(ke.fromString(e)),r=t.qa.next();t.Na.set(r,new Sue(n)),t.Oa=t.Oa.insert(n,r),i$(t.remoteStore,new wi(xr(xg(n.path)),r,"TargetPurposeLimboResolution",wr.oe))}}async function Wf(t,e,n){const r=ce(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=pE.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=ce(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>V.forEach(u,h=>V.forEach(h.$i,p=>c.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>V.forEach(h.Ui,p=>c.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Go(f))throw f;U("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=c.os.get(h),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);c.os=c.os.insert(h,g)}}}(r.localStore,o))}async function Lue(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());const r=await ZB(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new q(B.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wf(n,r.hs)}}function Fue(t,e){const n=ce(t),r=n.Na.get(e);if(r&&r.va)return ge().add(r.key);{let i=ge();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function y$(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=h$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mue.bind(null,e),e.Ca.d_=bue.bind(null,e.eventManager),e.Ca.$a=xue.bind(null,e.eventManager),e}function v$(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jue.bind(null,e),e}class df{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return JB(this.persistence,new XB,e.initialUser,this.serializer)}Ga(e){return new QB(Og.Zr,this.serializer)}Wa(e){return new t$}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}df.provider={build:()=>new df};class Bue extends df{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await v$(this.Ja.syncEngine),await Kf(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return JB(this.persistence,new XB,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Ale(r,e.asyncQueue,n)}Ha(e,n){const r=new eae(n,this.persistence);return new Zse(e.asyncQueue,r)}Ga(e){const n=$le(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new hE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,eue(),Ah(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new t$}}class tm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>QO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lue.bind(null,this.syncEngine),await gue(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vue}()}createDatastore(e){const n=kg(e.databaseInfo.databaseId),r=function(o){return new Zle(o)}(e.databaseInfo);return function(o,s,a,l){return new rue(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new oue(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>QO(this.syncEngine,n,0),function(){return WO.D()?new WO:new Qle}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new Pue(i,o,s,a,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ce(i);U("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Uf(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}tm.provider={build:()=>new tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ue{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):yn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zue{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ht.UNAUTHENTICATED,this.clientId=zF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{U("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(U("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new To;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_E(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Pv(t,e){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ZB(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function JO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Uue(t);U("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>qO(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>qO(e.remoteStore,i)),t._onlineComponents=e}async function Uue(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{await Pv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ws("Error using user provided cache. Falling back to memory cache: "+n),await Pv(t,new df)}}else U("FirestoreClient","Using default OfflineComponentProvider"),await Pv(t,new df);return t._offlineComponents}async function w$(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),await JO(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),await JO(t,new tm))),t._onlineComponents}function Kue(t){return w$(t).then(e=>e.syncEngine)}async function ZO(t){const e=await w$(t),n=e.eventManager;return n.onListen=Iue.bind(null,e.syncEngine),n.onUnlisten=kue.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Cue.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Due.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t,e,n){if(!n)throw new q(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Wue(t,e,n,r){if(e===!0&&r===!0)throw new q(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tk(t){if(!H.isDocumentKey(t))throw new q(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nk(t){if(H.isDocumentKey(t))throw new q(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Rg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function Ti(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rg(t);throw new q(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Wue("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_$((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rk({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rk(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $se;switch(r.type){case"firstParty":return new Wse(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ek.get(n);r&&(U("ComponentProvider","Removing Datastore"),ek.delete(n),r.terminate())}(this),Promise.resolve()}}function que(t,e,n,r={}){var i;const o=(t=Ti(t,Mg))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ht.MOCK_USER;else{a=Aoe(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new q(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ht(u)}t._authCredentials=new zse(new $F(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class Ln{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new So(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ln(this.firestore,e,this._key)}}class So extends la{constructor(e,n,r){super(e,n,xg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ln(this.firestore,null,new H(e))}withConverter(e){return new So(this.firestore,e,this._path)}}function ik(t,e,...n){if(t=ri(t),b$("collection","path",e),t instanceof Mg){const r=ke.fromString(e,...n);return nk(r),new So(t,null,r)}{if(!(t instanceof Ln||t instanceof So))throw new q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return nk(r),new So(t.firestore,null,r)}}function u1(t,e,...n){if(t=ri(t),arguments.length===1&&(e=zF.newId()),b$("doc","path",e),t instanceof Mg){const r=ke.fromString(e,...n);return tk(r),new Ln(t,null,new H(r))}{if(!(t instanceof Ln||t instanceof So))throw new q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return tk(r),new Ln(t.firestore,t instanceof So?t.converter:null,new H(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new n$(this,"async_queue_retry"),this.Vu=()=>{const r=Ah();r&&U("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Ah();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Ah();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new To;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Go(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw yn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=wE.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ie()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function sk(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Js extends Mg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ok,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ok(e),this._firestoreClient=void 0,await e}}}function x$(t,e){const n=typeof t=="object"?t:kse(),r=typeof t=="string"?t:e||"(default)",i=Pse(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Eoe("firestore");o&&que(i,...o)}return i}function E$(t){if(t._terminated)throw new q(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||T$(t),t._firestoreClient}function T$(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new xae(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,_$(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new zue(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function Gue(t,e){Ws("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return Hue(t,tm.provider,{build:r=>new Bue(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function Hue(t,e,n){if((t=Ti(t,Js))._firestoreClient||t._terminated)throw new q(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new q(B.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},T$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ol(St.fromBase64String(e))}catch(n){throw new q(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ol(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yue=/^__.*__$/;class Que{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ql(e,this.data,n,this.fieldTransforms)}}class A${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function S$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class AE{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new AE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return nm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(S$(this.Cu)&&Yue.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Xue{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kg(e)}Qu(e,n,r,i=!1){return new AE({Cu:e,methodName:n,qu:r,path:rt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SE(t){const e=t._freezeSettings(),n=kg(t._databaseId);return new Xue(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Jue(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);IE("Data must be an object, but it was:",s,r);const a=P$(r,s);let l,u;if(o.merge)l=new Mn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const h=c1(e,f,n);if(!s.contains(h))throw new q(B.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);C$(c,h)||c.push(h)}l=new Mn(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new Que(new un(a),l,u)}class Vg extends jg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vg}}class PE extends jg{_toFieldTransform(e){return new bB(e.path,new Al)}isEqual(e){return e instanceof PE}}function Zue(t,e,n,r){const i=t.Qu(1,e,n);IE("Data must be an object, but it was:",i,r);const o=[],s=un.empty();sa(r,(l,u)=>{const c=CE(e,l,n);u=ri(u);const f=i.Nu(c);if(u instanceof Vg)o.push(c);else{const h=qf(u,f);h!=null&&(o.push(c),s.set(c,h))}});const a=new Mn(o);return new A$(s,a,i.fieldTransforms)}function ece(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[c1(e,r,n)],l=[i];if(o.length%2!=0)throw new q(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(c1(e,o[h])),l.push(o[h+1]);const u=[],c=un.empty();for(let h=a.length-1;h>=0;--h)if(!C$(u,a[h])){const p=a[h];let m=l[h];m=ri(m);const g=s.Nu(p);if(m instanceof Vg)u.push(p);else{const _=qf(m,g);_!=null&&(u.push(p),c.set(p,_))}}const f=new Mn(u);return new A$(c,f,s.fieldTransforms)}function tce(t,e,n,r=!1){return qf(n,t.Qu(r?4:3,e))}function qf(t,e){if(I$(t=ri(t)))return IE("Unsupported field value:",e,t),P$(t,e);if(t instanceof jg)return function(r,i){if(!S$(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=qf(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ri(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zae(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=st.fromDate(r);return{timestampValue:Il(i.serializer,o)}}if(r instanceof st){const o=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Il(i.serializer,o)}}if(r instanceof EE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ol)return{bytesValue:IB(i.serializer,r._byteString)};if(r instanceof Ln){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:uE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof TE)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return iE(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Rg(r)}`)}(t,e)}function P$(t,e){const n={};return JF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sa(t,(r,i)=>{const o=qf(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function I$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof EE||t instanceof Ol||t instanceof Ln||t instanceof jg||t instanceof TE)}function IE(t,e,n){if(!I$(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Rg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function c1(t,e,n){if((e=ri(e))instanceof Ng)return e._internalPath;if(typeof e=="string")return CE(t,e);throw nm("Field path arguments must be of type string or ",t,!1,void 0,n)}const nce=new RegExp("[~\\*/\\[\\]]");function CE(t,e,n){if(e.search(nce)>=0)throw nm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ng(...e.split("."))._internalPath}catch{throw nm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nm(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new q(B.INVALID_ARGUMENT,a+t+l)}function C$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rce(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(OE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rce extends O${data(){return super.data()}}function OE(t,e){return typeof e=="string"?CE(t,e):e instanceof Ng?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ice(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kE{}class k$ extends kE{}function oce(t,e,...n){let r=[];e instanceof kE&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof RE).length,a=o.filter(l=>l instanceof DE).length;if(s>1||s>0&&a>0)throw new q(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class DE extends k${constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new DE(e,n,r)}_apply(e){const n=this._parse(e);return D$(e._query,n),new la(e.firestore,e.converter,Xw(e._query,n))}_parse(e){const n=SE(e.firestore);return function(o,s,a,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new q(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){lk(f,c);const p=[];for(const m of f)p.push(ak(l,o,m));h={arrayValue:{values:p}}}else h=ak(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||lk(f,c),h=tce(a,s,f,c==="in"||c==="not-in");return we.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class RE extends kE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new RE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Me.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)D$(s,l),s=Xw(s,l)}(e._query,n),new la(e.firestore,e.converter,Xw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ME extends k${constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ME(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new q(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new q(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cf(o,s)}(e._query,this._field,this._direction);return new la(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Yl(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function sce(t,e="asc"){const n=e,r=OE("orderBy",t);return ME._create(r,n)}function ak(t,e,n){if(typeof(n=ri(n))=="string"){if(n==="")throw new q(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cB(e)&&n.indexOf("/")!==-1)throw new q(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ke.fromString(n));if(!H.isDocumentKey(r))throw new q(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lf(t,new H(r))}if(n instanceof Ln)return lf(t,n._key);throw new q(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rg(n)}.`)}function lk(t,e){if(!Array.isArray(t)||t.length===0)throw new q(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function D$(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ace{convertValue(e,n="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(No(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return sa(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>He(s.doubleValue));return new TE(o)}convertGeoPoint(e){return new EE(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sf(e));default:return null}}convertTimestamp(e){const n=Vi(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ke.fromString(e);oe(LB(r));const i=new qs(r.get(1),r.get(3)),o=new H(r.popFirst(5));return i.isEqual(n)||yn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lce(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class R$ extends O${constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(OE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sh extends R${data(e={}){return super.data(e)}}class uce{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sh(this._firestore,this._userDataWriter,r.key,r,new Hu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Sh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Hu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Sh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Hu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:cce(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cce(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}class M$ extends ace{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ol(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,n)}}function fce(t,e,n,...r){t=Ti(t,Ln);const i=Ti(t.firestore,Js),o=SE(i);let s;return s=typeof(e=ri(e))=="string"||e instanceof Ng?ece(o,"updateDoc",t._key,e,n,r):Zue(o,"updateDoc",t._key,e),NE(i,[s.toMutation(t._key,_n.exists(!0))])}function dce(t){return NE(Ti(t.firestore,Js),[new Sg(t._key,_n.none())])}function hce(t,e){const n=Ti(t.firestore,Js),r=u1(t),i=lce(t.converter,e);return NE(n,[Jue(SE(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,_n.exists(!1))]).then(()=>r)}function pce(t,...e){var n,r,i;t=ri(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||sk(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(sk(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof Ln)u=Ti(t.firestore,Js),c=xg(t._key.path),l={next:f=>{e[s]&&e[s](mce(u,t,f))},error:e[s+1],complete:e[s+2]};else{const f=Ti(t,la);u=Ti(f.firestore,Js),c=f._query;const h=new M$(u);l={next:p=>{e[s]&&e[s](new uce(u,h,f,p))},error:e[s+1],complete:e[s+2]},ice(t._query)}return function(h,p,m,g){const _=new $ue(g),v=new Eue(p,_,m);return h.asyncQueue.enqueueAndForget(async()=>wue(await ZO(h),v)),()=>{_.Za(),h.asyncQueue.enqueueAndForget(async()=>_ue(await ZO(h),v))}}(E$(u),c,a,l)}function NE(t,e){return function(r,i){const o=new To;return r.asyncQueue.enqueueAndForget(async()=>Rue(await Kue(r),i,o)),o.promise}(E$(t),e)}function mce(t,e,n){const r=n.docs.get(e._key),i=new M$(t);return new R$(t,i,e._key,r,new Hu(n.hasPendingWrites,n.fromCache),e.converter)}function gce(){return new PE("serverTimestamp")}(function(e,n=!0){(function(i){Hl=i})(Ose),Wp(new ef("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Js(new Use(r.getProvider("auth-internal")),new Gse(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new q(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qs(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),el(JC,"4.7.3",e),el(JC,"4.7.3","esm2017")})();var yce="firebase",vce="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */el(yce,vce,"app");const wce={apiKey:"AIzaSyCiEQBicJPGNU0YPK9KlbJNDw0Vu9XbIa4",authDomain:"finance-tracker-81a65.firebaseapp.com",projectId:"finance-tracker-81a65",storageBucket:"finance-tracker-81a65.firebasestorage.app",messagingSenderId:"3056931749",appId:"1:3056931749:web:026e5cb70c4d57b4590e4c",measurementId:"G-MSHPXJ8VB8"},_ce=DF(wce),N$=x$(_ce);Gue(N$).catch(t=>{t.code!=="failed-precondition"&&t.code!=="unimplemented"&&console.warn("Persistence error",t)});const gt=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}),f1=["Salary","Bonus","Investments","Savings","Sales","Other (income)"],vc=["Food & Dining","Transportation","Housing","Bills","Entertainment","Health","Education","Shopping","Other (expense)"],uk=["#112D4E","#3F72AF","#DBE2EF","#F9F7F7"];function d1(t,e){const[n,r]=b.useState(()=>{try{const i=localStorage.getItem(t);return i?JSON.parse(i):e}catch{return e}});return b.useEffect(()=>{try{localStorage.setItem(t,JSON.stringify(n))}catch{}},[t,n]),[n,r]}function Jl(t){const e=n=>String(n).padStart(2,"0");return`${t.getFullYear()}-${e(t.getMonth()+1)}-${e(t.getDate())}`}function ck(t){const e=new Date;return e.setDate(e.getDate()-t),Jl(e)}function bce(){const[t,e]=d1("vnd-finance-tracker",[]),[n,r]=b.useState([]),[i,o]=b.useState(!0),s=N$||x$(),a=s?"firestore":"local";return b.useEffect(()=>{if(!s){r(t),o(!1);return}o(!0);const f=oce(ik(s,"transactions"),sce("createdAt","desc")),h=pce(f,p=>{const m=[];p.forEach(g=>{const _=g.data();m.push({id:g.id,..._})}),r(m),o(!1)});return()=>h()},[]),{transactions:n,add:async f=>{var h;if(!s){const p={...f,id:((h=crypto==null?void 0:crypto.randomUUID)==null?void 0:h.call(crypto))||String(Math.random()),createdAt:new Date().toISOString()};e([p,...t]),r([p,...n]);return}await hce(ik(s,"transactions"),{...f,createdAt:gce()})},remove:async f=>{if(!s){const h=n.filter(p=>p.id!==f);e(h),r(h);return}await dce(u1(s,"transactions",f))},update:async(f,h)=>{if(!s){const p=n.map(m=>m.id===f?{...m,...h}:m);e(p),r(p);return}await fce(u1(s,"transactions",f),h)},loading:i,source:a}}function xce(){const{transactions:t,add:e,remove:n,update:r,loading:i,source:o}=bce(),[s,a]=b.useState(""),[l,u]=b.useState("all"),[c,f]=b.useState("all"),[h,p]=b.useState(ck(30)),[m,g]=b.useState(Jl(new Date)),[_,v]=b.useState(!1),[w,x]=b.useState(!1),[P,S]=b.useState(!1),[O,A]=b.useState(""),[T,I]=b.useState(!1),[k,D]=b.useState(""),[N,R]=b.useState([]),[se,me]=b.useState(!1),[_e,le]=d1("vnd-saving-amount",null),[z,Y]=b.useState(!1),[ne,Ee]=d1("vnd-monthly-budget",null),[Q,De]=b.useState(!1),dn=()=>{A(s||""),S(!0)},be=b.useMemo(()=>t.filter(X=>{const pe=l==="all"||X.type===l,J=c==="all"||X.category===c,ye=!s||(X.note||"").toLowerCase().includes(s.toLowerCase()),_t=(!h||X.date>=h)&&(!m||X.date<=m);return pe&&J&&ye&&_t}),[t,l,c,s,h,m]);b.useEffect(()=>{const X=pe=>{const J=pe.target;if(J&&(J.tagName==="INPUT"||J.tagName==="TEXTAREA"||J.tagName==="SELECT"||J.isContentEditable))return;const _t=(pe.key||"").toLowerCase();(pe.metaKey&&pe.shiftKey&&_t==="n"||pe.ctrlKey&&pe.shiftKey&&_t==="n")&&(pe.preventDefault(),v(!0))};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[]);const Pn=b.useMemo(()=>{let X=0,pe=0;for(const J of be)J.type==="income"?X+=J.amount:pe+=J.amount;return{income:X,expense:pe,balance:X-pe}},[be]),hn=Pn.balance,Zl=_e??hn,Z=_e!=null,fe=b.useMemo(()=>{const X=new Date;return{year:X.getFullYear(),month:X.getMonth()}},[]),de=b.useMemo(()=>{const{year:X,month:pe}=fe;return t.reduce((J,ye)=>{if(ye.type!=="expense"||!ye.date)return J;const _t=new Date(ye.date);return Number.isNaN(_t.getTime())?J:_t.getFullYear()===X&&_t.getMonth()===pe?J+Number(ye.amount||0):J},0)},[t,fe]),$=ne!=null&&ne>0,Ue=$?ne-de:null,Pe=$&&ne>0?Math.min(1,de/ne):0,wt=Math.min(100,Math.max(0,Math.round(Pe*100))),jt=$?Ue>=0?`${gt.format(Math.max(0,Ue))} remaining`:`${gt.format(Math.abs(Ue))} over budget`:"Set a budget to start tracking",pn=$?Ue:null,ua=pn!=null&&pn<0?"rose":"emerald",Hf=$?`${gt.format(de)} spent of ${gt.format(ne)}`:"Set a budget to see remaining amount",Yf=b.useMemo(()=>{const X={},pe=[];for(let J=29;J>=0;J--){const ye=ck(J);pe.push(ye),X[ye]={date:ye,income:0,expense:0,net:0}}for(const J of be)X[J.date]&&(J.type==="income"?X[J.date].income+=J.amount:X[J.date].expense+=J.amount,X[J.date].net=X[J.date].income-X[J.date].expense);return pe.map(J=>X[J])},[be]),eu=b.useMemo(()=>{var pe;const X={};for(const J of be){if(J.type!=="expense")continue;const ye=X[pe=J.category]||(X[pe]={category:J.category,expense:0});ye.expense+=J.amount}return Object.values(X).sort((J,ye)=>ye.expense-J.expense).slice(0,10)},[be]),tu=b.useMemo(()=>{const X={};for(const pe of be)pe.type==="expense"&&(X[pe.category]=(X[pe.category]||0)+pe.amount);return Object.entries(X).map(([pe,J])=>({name:pe,value:J}))},[be]),Lg=()=>{const X=["type","amount","category","note","date"].join(","),pe=be.map($n=>[$n.type,$n.amount,$n.category,($n.note||"").replace(/\n/g," "),$n.date].join(",")).join(`
`),J=new Blob([X+`
`+pe],{type:"text/csv;charset=utf-8;"}),ye=URL.createObjectURL(J),_t=document.createElement("a");_t.href=ye,_t.download=`transactions_${h}_${m}.csv`,_t.click(),URL.revokeObjectURL(ye)};async function nu(X){var pe,J,ye,_t;try{me(!0);const $n=be.slice(0,50).map(Or=>`${Or.date} | ${Or.type} | ${Or.category} | ${gt.format(Or.amount)} | ${(Or.note||"").slice(0,60)}`).join(`
`),Qf=`${X}

Recent transactions (most recent first):
${$n}

Answer briefly.`,Fg="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key="+encodeURIComponent("AIzaSyCKRdC8c0d_99SG3BvyJfhiI7lLsHZY-Lg"),ai=await fetch(Fg,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{role:"user",parts:[{text:Qf}]}],generationConfig:{temperature:.3,topK:40,topP:.95,maxOutputTokens:512}})}),li=await ai.json();if(!ai.ok){const Or=((pe=li==null?void 0:li.error)==null?void 0:pe.message)||`HTTP ${ai.status}`;throw new Error(Or)}return(((_t=(ye=(J=li==null?void 0:li.candidates)==null?void 0:J[0])==null?void 0:ye.content)==null?void 0:_t.parts)||[]).map(Or=>Or.text).filter(Boolean).join(`
`).trim()||"Sorry, the model returned an empty result."}catch($n){return console.error("Gemini error:",$n),`Error: ${$n.message||"request failed"}`}finally{me(!1)}}return M.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(to bottom, #F9F7F7, rgba(219,226,239,0.25))"},children:[M.jsx("header",{style:{position:"sticky",top:0,zIndex:30,backdropFilter:"blur(6px)",borderBottom:"1px solid #DBE2EF",background:"rgba(249,247,247,0.85)"},children:M.jsx("div",{style:{maxWidth:1120,margin:"0 auto",padding:"8px 16px 16px",display:"flex",flexDirection:"column",gap:12},children:M.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:12},children:[M.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,minWidth:0},children:[M.jsx(cs.div,{initial:{scale:.9,rotate:-6},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:220},style:{padding:6,borderRadius:12,background:"#DBE2EF"},children:M.jsx(MK,{size:20,color:"#3F72AF"})}),M.jsx("h1",{style:{fontSize:16,fontWeight:700,letterSpacing:-.25,whiteSpace:"nowrap"},children:"VND Finance Tracker"}),M.jsx("span",{style:{marginLeft:6,padding:"2px 6px",borderRadius:999,background:"#DBE2EF",color:"#112D4E",fontSize:11,whiteSpace:"nowrap"},children:o==="firestore"?"Synced":"Local"})]}),M.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,flexWrap:"wrap"},children:[M.jsx(Pce,{onAdd:e,open:_,onOpenChange:v,compact:!0}),M.jsx(Ice,{onAdd:e,compact:!0}),M.jsx(Cce,{onAdd:e,compact:!0}),M.jsx(Dce,{onAdd:e,compact:!0}),M.jsxs("button",{title:"Edit monthly budget",onClick:()=>De(!0),style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:8,padding:"8px 12px",borderRadius:12,background:"#DBE2EF",color:"#112D4E",border:"none"},children:[M.jsx(Ky,{size:16}),M.jsx("span",{children:$?"Edit budget":"Set budget"})]}),M.jsxs("button",{title:"Edit savings",onClick:()=>Y(!0),style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:8,padding:"8px 12px",borderRadius:12,background:"#DBE2EF",color:"#112D4E",border:"none"},children:[M.jsx(rM,{size:16}),M.jsx("span",{children:"Edit savings"})]}),M.jsxs("button",{onClick:Lg,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),title:"Export CSV",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",padding:8,border:"1px solid #DBE2EF",borderRadius:12,background:"#F9F7F7",color:"#112D4E"},children:[M.jsx(_K,{size:16}),M.jsx("span",{style:{overflow:"hidden",whiteSpace:"nowrap",maxWidth:w?120:0,opacity:w?1:0,marginLeft:w?6:0,transition:"max-width 180ms ease, opacity 180ms ease, margin-left 180ms ease"},children:"Export CSV"})]})]})]})})}),M.jsx("main",{style:{maxWidth:1120,margin:"0 auto",padding:"24px 16px",display:"flex",flexDirection:"column",gap:24},children:M.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:24},children:[M.jsxs(cs.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:{display:"flex",alignItems:"center",gap:12,width:"100%",flexWrap:"nowrap"},children:[M.jsx("button",{onClick:dn,title:s?`Search: ${s}`:"Search transactions",style:{width:36,height:36,display:"inline-flex",alignItems:"center",justifyContent:"center",padding:0,borderRadius:9999,border:"1px solid #DBE2EF",background:"#F9F7F7",color:"#112D4E",flexShrink:0},children:M.jsx(SK,{size:16,color:"#71717a"})}),M.jsxs("select",{value:l,onChange:X=>u(X.target.value),style:{width:360,borderRadius:12,padding:10,border:"1px solid #DBE2EF",background:"#F9F7F7",flexShrink:0},children:[M.jsx("option",{value:"all",children:"All"}),M.jsx("option",{value:"income",children:"Income"}),M.jsx("option",{value:"expense",children:"Expense"})]}),M.jsx(Ace,{value:c,onChange:f,style:{width:320,flexShrink:0}}),M.jsx("input",{type:"date",value:h,onChange:X=>p(X.target.value),style:{width:160,borderRadius:12,padding:10,border:"1px solid #DBE2EF",background:"#F9F7F7",flexShrink:0}}),M.jsx("input",{type:"date",value:m,onChange:X=>g(X.target.value),style:{width:160,borderRadius:12,padding:10,border:"1px solid #DBE2EF",background:"#F9F7F7",flexShrink:0}})]}),M.jsx(Yo,{open:P,onClose:()=>S(!1),title:"Search transactions",children:M.jsxs("form",{onSubmit:X=>{X.preventDefault(),a(O),S(!1)},style:{display:"flex",flexDirection:"column",gap:12},children:[M.jsx("input",{autoFocus:!0,value:O,onChange:X=>A(X.target.value),placeholder:"Type to search transactions...",style:{padding:10,borderRadius:8,border:"1px solid #DBE2EF",background:"#F9F7F7"}}),M.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:8},children:[M.jsx("button",{type:"button",onClick:()=>{A(""),a(""),S(!1)},style:{padding:"8px 12px",borderRadius:12,background:"#DBE2EF",color:"#112D4E",border:"none"},children:"Clear"}),M.jsx("button",{type:"submit",style:{padding:"8px 12px",borderRadius:12,background:"#3F72AF",color:"#F9F7F7",border:"none"},children:"Apply"})]})]})}),M.jsxs(cs.div,{layout:!0,style:{display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[M.jsx(eh,{title:"Monthly Expense Budget",value:$?gt.format(ne):"Not set",icon:M.jsx(Ky,{size:16}),highlight:"emerald",action:M.jsx("button",{type:"button",onClick:()=>De(!0),style:{border:"none",background:"transparent",color:"#3F72AF",fontSize:12,fontWeight:600,cursor:"pointer"},children:$?"Adjust":"Set budget"}),footnote:jt,children:M.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[M.jsx("div",{style:{position:"relative",height:8,borderRadius:999,background:"rgba(17,45,78,0.08)",overflow:"hidden"},children:M.jsx("div",{style:{position:"absolute",inset:0,width:`${$?wt:0}%`,background:Ue!=null&&Ue<0?"#ef4444":"#3F72AF",transition:"width 0.3s ease"}})}),M.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:11,color:"#6b7280"},children:[M.jsxs("span",{children:["Spent ",gt.format(de)]}),M.jsx("span",{children:$?`${wt}%`:"0%"})]})]})}),M.jsx(eh,{title:"Savings",value:gt.format(Zl),icon:M.jsx(iM,{size:16}),highlight:"indigo",action:M.jsx("button",{type:"button",onClick:()=>Y(!0),style:{border:"none",background:"transparent",color:"#3F72AF",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Edit"}),footnote:Z?"Manual value":"Auto from income - expenses"}),M.jsx(eh,{title:"Expenses",value:gt.format(Pn.expense),icon:M.jsx(sM,{size:16}),highlight:"rose"}),M.jsx(eh,{title:"Monthly Expense Balance",value:pn!=null?gt.format(pn):"Set budget",icon:M.jsx(Ky,{size:16}),highlight:ua,footnote:Hf})]}),M.jsxs(cs.div,{layout:!0,style:{display:"grid",gap:16,gridTemplateColumns:"2fr 1fr"},children:[M.jsxs(Yu,{children:[M.jsx("div",{style:{padding:16,borderBottom:"1px solid #DBE2EF"},children:M.jsx("div",{style:{fontWeight:600},children:"30-day cash flow"})}),M.jsx("div",{style:{height:320,padding:8},children:M.jsx(dv,{width:"100%",height:"100%",children:M.jsxs(hoe,{data:Yf,margin:{left:8,right:8,top:10,bottom:0},children:[M.jsxs("defs",{children:[M.jsxs("linearGradient",{id:"gIncome",x1:"0",y1:"0",x2:"0",y2:"1",children:[M.jsx("stop",{offset:"5%",stopColor:"#3F72AF",stopOpacity:.6}),M.jsx("stop",{offset:"95%",stopColor:"#3F72AF",stopOpacity:0})]}),M.jsxs("linearGradient",{id:"gExpense",x1:"0",y1:"0",x2:"0",y2:"1",children:[M.jsx("stop",{offset:"5%",stopColor:"#112D4E",stopOpacity:.6}),M.jsx("stop",{offset:"95%",stopColor:"#112D4E",stopOpacity:0})]})]}),M.jsx(Cw,{strokeDasharray:"3 3"}),M.jsx(Fp,{dataKey:"date",tick:{fontSize:12}}),M.jsx(Bp,{tickFormatter:X=>gt.format(X).replace("",""),width:80,tick:{fontSize:12}}),M.jsx(cv,{formatter:X=>gt.format(Number(X))}),M.jsx(Ja,{}),M.jsx(kw,{type:"monotone",dataKey:"income",stroke:"#3F72AF",fill:"url(#gIncome)",name:"Income"}),M.jsx(kw,{type:"monotone",dataKey:"expense",stroke:"#112D4E",fill:"url(#gExpense)",name:"Expense"})]})})})]}),M.jsxs(Yu,{children:[M.jsx("div",{style:{padding:16,borderBottom:"1px solid #DBE2EF"},children:M.jsx("div",{style:{fontWeight:600},children:"Expense share by category"})}),M.jsx("div",{style:{height:320,padding:8},children:M.jsx(dv,{width:"100%",height:"100%",children:M.jsxs(foe,{children:[M.jsx(LL,{data:tu,dataKey:"value",nameKey:"name",outerRadius:100,children:tu.map((X,pe)=>M.jsx(Vf,{fill:uk[pe%uk.length]},pe))}),M.jsx(cv,{formatter:X=>gt.format(Number(X))}),M.jsx(Ja,{})]})})})]})]}),M.jsxs(cs.div,{layout:!0,style:{display:"grid",gap:16,gridTemplateColumns:"2fr 1fr"},children:[M.jsxs(Yu,{children:[M.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:16,borderBottom:"1px solid #DBE2EF"},children:[M.jsx("div",{style:{fontWeight:600},children:"Transactions"}),M.jsxs("span",{style:{padding:"4px 8px",background:"#DBE2EF",color:"#112D4E",borderRadius:999,fontSize:12},children:[be.length," records"]})]}),M.jsx("div",{style:{padding:8},children:M.jsx(Sce,{items:be,onDelete:n,onEdit:r})})]}),M.jsxs(Yu,{children:[M.jsx("div",{style:{padding:16,borderBottom:"1px solid #DBE2EF"},children:M.jsx("div",{style:{fontWeight:600},children:"Top categories"})}),M.jsx("div",{style:{height:320,padding:8},children:M.jsx(dv,{width:"100%",height:"100%",children:M.jsxs(toe,{data:eu,margin:{left:8,right:8},children:[M.jsx(Cw,{strokeDasharray:"3 3"}),M.jsx(Fp,{dataKey:"category",tick:{fontSize:12}}),M.jsx(Bp,{tickFormatter:X=>gt.format(X).replace("",""),width:80,tick:{fontSize:12}}),M.jsx(cv,{formatter:X=>gt.format(Number(X))}),M.jsx(Ja,{}),M.jsx(KL,{dataKey:"expense",name:"Expense",fill:"#112D4E"})]})})})]})]}),M.jsx(Tce,{open:T,onToggle:()=>I(X=>!X),messages:N,input:k,setInput:D,loading:se,onSend:async X=>{R(J=>[...J,{role:"user",text:X}]),D("");const pe=await nu(X);R(J=>[...J,{role:"model",text:pe}])}})]})}),M.jsx(Oce,{open:Q,onOpenChange:De,value:ne,onSave:Ee,spent:de}),M.jsx(kce,{open:z,onOpenChange:Y,value:_e,onSave:le,computedSavings:hn})]})}function Yu({children:t,style:e}){return M.jsx("div",{style:{border:"1px solid #DBE2EF",borderRadius:16,background:"#F9F7F7",overflow:"hidden",boxShadow:"0 1px 2px rgba(17,45,78,0.06)",...e||{}},children:t})}function eh({title:t,value:e,icon:n,highlight:r,action:i,footnote:o,children:s}){const a=r==="indigo"?{bg:"rgba(63,114,175,0.15)",fg:"#112D4E",accent:"#3F72AF"}:r==="emerald"?{bg:"rgba(16,185,129,0.15)",fg:"#064E3B",accent:"#059669"}:r==="rose"?{bg:"rgba(239,68,68,0.16)",fg:"#7F1D1D",accent:"#ef4444"}:{bg:"rgba(17,45,78,0.15)",fg:"#112D4E",accent:"#112D4E"};return M.jsx(cs.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.35},style:{height:"100%"},children:M.jsx(Yu,{style:{height:"100%",display:"flex",flexDirection:"column"},children:M.jsxs("div",{style:{padding:14,display:"flex",flexDirection:"column",gap:10,flex:1},children:[M.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},children:[M.jsx("div",{style:{borderRadius:10,display:"inline-flex",padding:6,background:a.bg,color:a.fg},children:n}),i?M.jsx("div",{style:{marginLeft:"auto"},children:i}):null]}),M.jsx("div",{style:{fontSize:12,color:"#6b7280"},children:t}),M.jsx("div",{style:{fontSize:18,fontWeight:700,color:a.accent},children:e}),M.jsxs("div",{style:{marginTop:"auto",display:"flex",flexDirection:"column",gap:8},children:[o?M.jsx("div",{style:{fontSize:11,color:"#9ca3af"},children:o}):null,s]})]})})})}function Ece(){return M.jsxs("span",{style:{display:"inline-flex",gap:2},children:[M.jsx("span",{style:{width:4,height:4,background:"#112D4E",borderRadius:999,opacity:.6,animation:"blink 1s infinite 0s"}}),M.jsx("span",{style:{width:4,height:4,background:"#112D4E",borderRadius:999,opacity:.6,animation:"blink 1s infinite 0.2s"}}),M.jsx("span",{style:{width:4,height:4,background:"#112D4E",borderRadius:999,opacity:.6,animation:"blink 1s infinite 0.4s"}}),M.jsx("style",{children:"@keyframes blink { 0%, 80%, 100% { opacity: .2 } 40% { opacity: 1 } }"})]})}function Tce({open:t,onToggle:e,messages:n,onSend:r,input:i,setInput:o,loading:s}){const a=b.useRef(null);return b.useEffect(()=>{t&&a.current&&(a.current.scrollTop=a.current.scrollHeight)},[t,n,s]),M.jsxs("div",{style:{position:"fixed",right:16,bottom:16,zIndex:2e3},children:[t&&M.jsxs("div",{style:{width:340,height:420,background:"#F9F7F7",border:"1px solid #DBE2EF",borderRadius:16,boxShadow:"0 10px 30px rgba(17,45,78,0.15)",display:"flex",flexDirection:"column",overflow:"hidden",marginBottom:12},children:[M.jsxs("div",{style:{padding:10,borderBottom:"1px solid #DBE2EF",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[M.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[M.jsx(QS,{size:18,color:"#112D4E"}),M.jsx("strong",{style:{fontSize:12},children:"Chat Assistant"})]}),M.jsx("button",{onClick:e,style:{border:"none",background:"transparent"},children:M.jsx(jK,{size:16})})]}),M.jsxs("div",{ref:a,style:{flex:1,padding:10,overflowY:"auto",display:"flex",flexDirection:"column",gap:6},children:[n.length===0&&M.jsx("div",{style:{fontSize:11,color:"#6b7280"},children:"Ask about your spending, categories, or recent transactions."}),n.map((l,u)=>M.jsx("div",{style:{alignSelf:l.role==="user"?"flex-end":"flex-start",background:l.role==="user"?"#DBE2EF":"#fff",border:"1px solid #DBE2EF",color:"#112D4E",padding:"6px 8px",borderRadius:10,maxWidth:"80%",fontSize:12,lineHeight:1.4},children:l.text},u)),s&&M.jsx("div",{style:{alignSelf:"flex-start",background:"#fff",border:"1px solid #DBE2EF",color:"#112D4E",padding:"6px 8px",borderRadius:10,maxWidth:"80%",fontSize:12},children:M.jsx(Ece,{})})]}),M.jsxs("form",{onSubmit:l=>{l.preventDefault(),!(!i.trim()||s)&&r(i.trim())},style:{display:"flex",gap:6,padding:10,borderTop:"1px solid #DBE2EF"},children:[M.jsx("input",{value:i,onChange:l=>o(l.target.value),placeholder:"Type your question...",style:{flex:1,padding:8,borderRadius:10,border:"1px solid #DBE2EF",background:"#fff",fontSize:12}}),M.jsx("button",{type:"submit",disabled:s,title:"Send",style:{width:36,height:36,display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:10,border:"1px solid #DBE2EF",background:"#3F72AF",color:"#F9F7F7"},children:M.jsx(IK,{size:16})})]})]}),M.jsx("button",{onClick:e,title:"Chat",style:{width:48,height:48,display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:9999,border:"1px solid #DBE2EF",background:"#3F72AF",color:"#F9F7F7",boxShadow:"0 6px 16px rgba(17,45,78,0.25)"},children:M.jsx(QS,{size:20})})]})}function Ace({value:t,onChange:e,style:n}){const r=["all",...f1,...vc];return M.jsx("select",{value:t,onChange:i=>e(i.target.value),style:{borderRadius:12,padding:10,border:"1px solid #DBE2EF",background:"#F9F7F7",...n||{}},children:r.map(i=>M.jsx("option",{value:i,children:i==="all"?"All categories":i},i))})}function Sce({items:t,onDelete:e,onEdit:n}){const[r,i]=b.useState(null),[o,s]=b.useState({});return M.jsxs("div",{style:{position:"relative"},children:[M.jsx("div",{style:{borderRadius:12,border:"1px solid #DBE2EF",overflow:"hidden"},children:M.jsxs("table",{style:{width:"100%",fontSize:14,borderCollapse:"collapse"},children:[M.jsx("thead",{style:{background:"#DBE2EF"},children:M.jsxs("tr",{children:[M.jsx("th",{style:{textAlign:"left",padding:12},children:"Date"}),M.jsx("th",{style:{textAlign:"left",padding:12},children:"Type"}),M.jsx("th",{style:{textAlign:"left",padding:12},children:"Category"}),M.jsx("th",{style:{textAlign:"right",padding:12},children:"Amount"}),M.jsx("th",{style:{textAlign:"left",padding:12},children:"Note"}),M.jsx("th",{style:{textAlign:"right",padding:12},children:"Actions"})]})}),M.jsx("tbody",{children:M.jsx(NU,{initial:!1,children:t.map(a=>M.jsxs(cs.tr,{layout:!0,initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2},style:{borderTop:"1px solid #DBE2EF"},children:[M.jsx("td",{style:{padding:12,whiteSpace:"nowrap"},children:a.date}),M.jsx("td",{style:{padding:12},children:M.jsx("span",{style:{padding:"4px 8px",borderRadius:999,background:a.type==="income"?"#3F72AF":"#112D4E",color:"#F9F7F7",fontSize:12},children:a.type==="income"?"Income":"Expense"})}),M.jsx("td",{style:{padding:12},children:a.category}),M.jsx("td",{style:{padding:12,textAlign:"right",fontWeight:600},children:gt.format(a.amount)}),M.jsx("td",{style:{padding:12,maxWidth:320},title:a.note,children:M.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.note})}),M.jsx("td",{style:{padding:12},children:M.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8},children:[M.jsx("button",{title:"Edit",onClick:()=>{i(a.id),s(a)},style:{border:"none",background:"transparent",padding:6,borderRadius:8},children:M.jsx(rM,{size:16,color:"#3F72AF"})}),M.jsx("button",{title:"Delete",onClick:()=>a.id&&e(a.id),style:{border:"none",background:"transparent",padding:6,borderRadius:8},children:M.jsx(OK,{size:16,color:"#112D4E"})})]})})]},a.id))})})]})}),M.jsx(Yo,{open:!!r,onClose:()=>{i(null),s({})},title:"Edit transaction",children:M.jsx(Gf,{initial:o,submitLabel:"Save changes",onSubmit:a=>{r&&(n(r,a),i(null),s({}))}})})]})}function Pce({onAdd:t,open:e,onOpenChange:n,compact:r}){const i=typeof e=="boolean"&&typeof n=="function",[o,s]=b.useState(!1),a=i?e:o,l=i?n:s,[u,c]=b.useState(!1);return M.jsxs(M.Fragment,{children:[M.jsxs("button",{title:"Add transaction (N)",onClick:()=>l(!0),onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:r?0:8,padding:r?8:"8px 12px",borderRadius:12,background:"#3F72AF",color:"#F9F7F7",border:"none"},children:[M.jsx(oM,{size:16}),M.jsx("span",{style:r?{overflow:"hidden",whiteSpace:"nowrap",maxWidth:u?140:0,opacity:u?1:0,marginLeft:u?6:0,transition:"max-width 180ms ease, opacity 180ms ease, margin-left 180ms ease"}:{marginLeft:6},children:"Add transaction"})]}),M.jsx(Yo,{open:a,onClose:()=>l(!1),title:"New transaction",children:M.jsx(Gf,{onSubmit:f=>{t(f),l(!1)}})})]})}function Ice({onAdd:t,compact:e}){const[n,r]=b.useState(!1),[i,o]=b.useState(!1);return M.jsxs(M.Fragment,{children:[M.jsxs("button",{title:"Add expense",onClick:()=>r(!0),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:e?0:8,padding:e?8:"8px 12px",borderRadius:12,background:"#ef4444",color:"#F9F7F7",border:"none"},children:[M.jsx(sM,{size:16}),M.jsx("span",{style:e?{overflow:"hidden",whiteSpace:"nowrap",maxWidth:i?120:0,opacity:i?1:0,marginLeft:i?6:0,transition:"max-width 180ms ease, opacity 180ms ease, margin-left 180ms ease"}:{marginLeft:6},children:"Add expense"})]}),M.jsx(Yo,{open:n,onClose:()=>r(!1),title:"Add expense",children:M.jsx(Gf,{initial:{type:"expense",category:vc[0],note:"Expense",date:Jl(new Date)},submitLabel:"Add expense",onSubmit:s=>{t(s),r(!1)}})})]})}function Cce({onAdd:t,compact:e}){const[n,r]=b.useState(!1),[i,o]=b.useState(!1);return M.jsxs(M.Fragment,{children:[M.jsxs("button",{title:"Add saving",onClick:()=>r(!0),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:e?0:8,padding:e?8:"8px 12px",borderRadius:12,background:"#10b981",color:"#F9F7F7",border:"none"},children:[M.jsx(iM,{size:16}),M.jsx("span",{style:e?{overflow:"hidden",whiteSpace:"nowrap",maxWidth:i?120:0,opacity:i?1:0,marginLeft:i?6:0,transition:"max-width 180ms ease, opacity 180ms ease, margin-left 180ms ease"}:{marginLeft:6},children:"Add saving"})]}),M.jsx(Yo,{open:n,onClose:()=>r(!1),title:"Add saving",children:M.jsx(Gf,{initial:{type:"income",category:"Savings",note:"Savings",date:Jl(new Date)},submitLabel:"Add saving",onSubmit:s=>{t(s),r(!1)}})})]})}function Oce({open:t,onOpenChange:e,value:n,onSave:r,spent:i}){const[o,s]=b.useState("");b.useEffect(()=>{t&&s(n!=null?String(Math.round(n)):"")},[t,n]);const a=u=>{u.preventDefault();const c=Number(o);if(!Number.isFinite(c)||c<0){alert("Enter a valid non-negative number");return}r(c),e(!1)},l=()=>{r(null),e(!1)};return M.jsx(Yo,{open:t,onClose:()=>e(!1),title:"Edit monthly expense budget",children:M.jsxs("form",{onSubmit:a,style:{display:"flex",flexDirection:"column",gap:12},children:[M.jsx("label",{style:{fontSize:13},children:"Monthly budget (VND)"}),M.jsx("input",{inputMode:"numeric",value:o,onChange:u=>s(u.target.value.replace(/[^0-9]/g,"")),placeholder:"e.g., 8000000",style:{padding:10,borderRadius:8,border:"1px solid #DBE2EF",background:"#F9F7F7"}}),M.jsx("div",{style:{fontSize:12,color:"#6b7280"},children:o?gt.format(Number(o)):""}),M.jsxs("div",{style:{fontSize:11,color:"#9ca3af"},children:["Expenses recorded this month: ",gt.format(i)]}),M.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:8,marginTop:8},children:[M.jsx("button",{type:"button",onClick:l,style:{padding:"8px 12px",borderRadius:12,background:"#DBE2EF",color:"#112D4E",border:"none"},children:"Clear budget"}),M.jsx("button",{type:"submit",style:{padding:"8px 12px",borderRadius:12,background:"#3F72AF",color:"#F9F7F7",border:"none"},children:"Save budget"})]})]})})}function kce({open:t,onOpenChange:e,value:n,onSave:r,computedSavings:i}){const[o,s]=b.useState("");b.useEffect(()=>{if(!t)return;const u=n??i;s(u!=null?String(Math.round(u)):"")},[t,n,i]);const a=u=>{u.preventDefault();const c=Number(o);if(!Number.isFinite(c)||c<0){alert("Enter a valid non-negative number");return}r(c),e(!1)},l=()=>{r(null),e(!1)};return M.jsx(Yo,{open:t,onClose:()=>e(!1),title:"Edit savings amount",children:M.jsxs("form",{onSubmit:a,style:{display:"flex",flexDirection:"column",gap:12},children:[M.jsx("label",{style:{fontSize:13},children:"Savings total (VND)"}),M.jsx("input",{inputMode:"numeric",value:o,onChange:u=>s(u.target.value.replace(/[^0-9]/g,"")),placeholder:"e.g., 15000000",style:{padding:10,borderRadius:8,border:"1px solid #DBE2EF",background:"#F9F7F7"}}),M.jsx("div",{style:{fontSize:12,color:"#6b7280"},children:o?gt.format(Number(o)):""}),M.jsxs("div",{style:{fontSize:11,color:"#9ca3af"},children:["Automatic value from income - expenses: ",gt.format(i)]}),M.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:8,marginTop:8},children:[M.jsx("button",{type:"button",onClick:l,style:{padding:"8px 12px",borderRadius:12,background:"#DBE2EF",color:"#112D4E",border:"none"},children:"Use automatic"}),M.jsx("button",{type:"submit",style:{padding:"8px 12px",borderRadius:12,background:"#3F72AF",color:"#F9F7F7",border:"none"},children:"Save"})]})]})})}function Dce({onAdd:t,compact:e}){const[n,r]=b.useState(!1),[i,o]=b.useState(!1);return M.jsxs(M.Fragment,{children:[M.jsxs("button",{title:"Add salary",onClick:()=>r(!0),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:e?0:8,padding:e?8:"8px 12px",borderRadius:12,background:"#112D4E",color:"#F9F7F7",border:"none"},children:[M.jsx(oM,{size:16}),M.jsx("span",{style:e?{overflow:"hidden",whiteSpace:"nowrap",maxWidth:i?100:0,opacity:i?1:0,marginLeft:i?6:0,transition:"max-width 180ms ease, opacity 180ms ease, margin-left 180ms ease"}:{marginLeft:6},children:"Add salary"})]}),M.jsx(Yo,{open:n,onClose:()=>r(!1),title:"Add salary",children:M.jsx(Gf,{initial:{type:"income",category:"Salary",note:"Salary",date:Jl(new Date)},submitLabel:"Add",onSubmit:s=>{t(s),r(!1)}})})]})}function Gf({initial:t,onSubmit:e,submitLabel:n="Add"}){const[r,i]=b.useState((t==null?void 0:t.type)||"expense"),[o,s]=b.useState((t==null?void 0:t.amount)!=null?String(t.amount):""),[a,l]=b.useState((t==null?void 0:t.category)||vc[0]),[u,c]=b.useState((t==null?void 0:t.note)||""),[f,h]=b.useState((t==null?void 0:t.date)||Jl(new Date));b.useEffect(()=>{t!=null&&t.type&&i(t.type),(t==null?void 0:t.amount)!=null&&s(String(t.amount)),t!=null&&t.category&&l(t.category),(t==null?void 0:t.note)!=null&&c(t.note),t!=null&&t.date&&h(t.date)},[t]),b.useEffect(()=>{t!=null&&t.category||l(r==="income"?f1[0]:vc[0])},[r]);const p=r==="income"?f1:vc;return M.jsxs("form",{onSubmit:m=>{m.preventDefault();const g=Number(o);if(!g||g<=0){alert("Invalid amount");return}e({type:r,amount:g,category:a,note:u,date:f})},style:{display:"flex",flexDirection:"column",gap:12},children:[M.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,border:"1px solid #DBE2EF",borderRadius:8,overflow:"hidden"},children:[M.jsx("button",{type:"button",onClick:()=>i("income"),style:{padding:8,background:r==="income"?"#DBE2EF":"#F9F7F7",border:"none"},children:"Income"}),M.jsx("button",{type:"button",onClick:()=>i("expense"),style:{padding:8,background:r==="expense"?"#DBE2EF":"#F9F7F7",border:"none"},children:"Expense"})]}),M.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[M.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[M.jsx("label",{children:"Amount (VND)"}),M.jsx("input",{inputMode:"numeric",value:o,onChange:m=>s(m.target.value.replace(/[^\d]/g,"")),placeholder:"e.g., 250000",style:{padding:10,borderRadius:8,border:"1px solid #DBE2EF",background:"#F9F7F7"}}),M.jsx("div",{style:{fontSize:12,color:"#6b7280"},children:o?gt.format(Number(o)):""})]}),M.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[M.jsx("label",{children:"Category"}),M.jsx("select",{value:a,onChange:m=>l(m.target.value),style:{padding:10,borderRadius:8,border:"1px solid #DBE2EF",background:"#F9F7F7"},children:p.map(m=>M.jsx("option",{value:m,children:m},m))})]})]}),M.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[M.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[M.jsx("label",{children:"Date"}),M.jsx("input",{type:"date",value:f,onChange:m=>h(m.target.value),style:{padding:10,borderRadius:8,border:"1px solid #DBE2EF",background:"#F9F7F7"}})]}),M.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[M.jsx("label",{children:"Note"}),M.jsx("input",{value:u,onChange:m=>c(m.target.value),placeholder:"e.g., Coffee, electricity, bonus...",style:{padding:10,borderRadius:8,border:"1px solid #DBE2EF",background:"#F9F7F7"}})]})]}),M.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,paddingTop:8},children:M.jsx("button",{type:"submit",style:{padding:"8px 12px",borderRadius:12,background:"#3F72AF",color:"#F9F7F7",border:"none"},children:n})})]})}function Yo({open:t,onClose:e,title:n,children:r}){return t?M.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.35)",display:"flex",alignItems:"center",justifyContent:"center",padding:24,zIndex:1e3},onClick:e,children:M.jsxs("div",{style:{width:"min(92vw, 560px)",maxHeight:"90vh",background:"#F9F7F7",borderRadius:16,overflow:"hidden",boxShadow:"0 10px 30px rgba(17,45,78,0.15)",display:"flex",flexDirection:"column",border:"1px solid #DBE2EF"},onClick:i=>i.stopPropagation(),children:[M.jsx("div",{style:{padding:16,borderBottom:"1px solid #DBE2EF",fontWeight:600,color:"#112D4E"},children:n}),M.jsx("div",{style:{padding:16,overflowY:"auto"},children:r})]})}):null}Iv.createRoot(document.getElementById("root")).render(M.jsx(bk.StrictMode,{children:M.jsx(xce,{})}));
